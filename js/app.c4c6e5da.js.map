{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/utils.js","webpack:///./src/App.vue?7e02","webpack:///./src/components/ResourceItemSelector.vue?b2f1","webpack:///./src/components/Viewer.vue?c8e2","webpack:///./src/views/About.vue?199c","webpack:///./src/App.vue?c3c4","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/registerServiceWorker.js","webpack:///./src/views/Home.vue?6fd6","webpack:///./src/components/ResourceItemSelector.vue?c5bc","webpack:///src/components/ResourceItemSelector.vue","webpack:///./src/components/ResourceItemSelector.vue?a348","webpack:///./src/components/ResourceItemSelector.vue?f174","webpack:///./src/components/ResourceItemList.vue?fcd6","webpack:///./src/components/AppIcons.vue?e8e3","webpack:///src/components/AppIcons.vue","webpack:///./src/components/AppIcons.vue?ce95","webpack:///./src/components/AppIcons.vue?5ab0","webpack:///./src/components/ResourceItemCard.vue?c26e","webpack:///./src/components/Badges.vue?bd50","webpack:///src/components/Badges.vue","webpack:///./src/components/Badges.vue?ebc9","webpack:///./src/components/Badges.vue?1168","webpack:///src/components/ResourceItemCard.vue","webpack:///./src/components/ResourceItemCard.vue?d311","webpack:///./src/components/ResourceItemCard.vue?758d","webpack:///src/components/ResourceItemList.vue","webpack:///./src/components/ResourceItemList.vue?929a","webpack:///./src/components/ResourceItemList.vue?cc4c","webpack:///./src/components/ResourceItemInfo.vue?39f6","webpack:///./src/components/Markdown.vue?8caf","webpack:///src/components/Markdown.vue","webpack:///./src/components/Markdown.vue?85fc","webpack:///./src/components/Markdown.vue","webpack:///./src/components/CommentBox.vue?c0ff","webpack:///src/components/CommentBox.vue","webpack:///./src/components/CommentBox.vue?a5ce","webpack:///./src/components/CommentBox.vue","webpack:///src/components/ResourceItemInfo.vue","webpack:///./src/components/ResourceItemInfo.vue?9b03","webpack:///./src/components/ResourceItemInfo.vue?65d6","webpack:///./src/components/Upload.vue?fed0","webpack:///./src/components/tagInputField.vue?1c6b","webpack:///src/components/tagInputField.vue","webpack:///./src/components/tagInputField.vue?b018","webpack:///./src/components/tagInputField.vue?87a0","webpack:///./src/components/dropFilesField.vue?00d7","webpack:///src/components/dropFilesField.vue","webpack:///./src/components/dropFilesField.vue?00e3","webpack:///./src/components/dropFilesField.vue","webpack:///./src/components/Dataset.vue?83bf","webpack:///./src/components/filePreviewField.vue?b1f7","webpack:///src/components/filePreviewField.vue","webpack:///./src/components/filePreviewField.vue?fd2a","webpack:///./src/components/filePreviewField.vue","webpack:///src/components/Dataset.vue","webpack:///./src/components/Dataset.vue?475f","webpack:///./src/components/Dataset.vue?eb1a","webpack:///src/components/Upload.vue","webpack:///./src/components/Upload.vue?cbfb","webpack:///./src/components/Upload.vue?711d","webpack:///./src/components/Attachments.vue?67e0","webpack:///src/components/Attachments.vue","webpack:///./src/components/Attachments.vue?0042","webpack:///./src/components/Attachments.vue","webpack:///./src/store.js","webpack:///./src/bioEngine.js","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?493c","webpack:///./src/views/Home.vue?c853","webpack:///./src/components/Viewer.vue?da50","webpack:///src/components/Viewer.vue","webpack:///./src/components/Viewer.vue?b948","webpack:///./src/components/Viewer.vue?82aa","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/components/Dataset.vue?8b91","webpack:///./src/components/tagInputField.vue?7bb2","webpack:///./src/components/Upload.vue?66b5","webpack:///./src/components/ResourceItemInfo.vue?bda6","webpack:///./src/components/ResourceItemCard.vue?d7d3","webpack:///./src/components/AppIcons.vue?124e","webpack:///./src/views/Home.vue?f453","webpack:///./src/components/Badges.vue?17b7","webpack:///./src/components/ResourceItemList.vue?e073","webpack:///./src/views/About.vue?b223","webpack:///src/views/About.vue","webpack:///./src/views/About.vue?f1da","webpack:///./src/views/About.vue?00a0"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","MAX_RDF_VERSION","randId","Math","random","toString","substr","resolveDOI","doi","fetch","response","ok","json","values","filter","v","type","Error","dataURLtoFile","dataurl","filename","arr","split","mime","match","bstr","atob","u8arr","Uint8Array","charCodeAt","File","resizeImage","settings","file","maxSize","reader","FileReader","image","Image","canvas","document","createElement","dataURItoBlob","dataURI","bytes","indexOf","unescape","max","ia","Blob","resize","width","height","getContext","drawImage","dataUrl","toDataURL","Promise","no","onload","readerEvent","src","target","readAsDataURL","getFullRdfFromDeposit","deposition","rdf","depositionToRdf","config","_rdf_file","text","yamlStr","fullRdf","yaml","load","assign","rdfToMetadata","baseUrl","docstring","spdxLicenseList","license","covers","map","startsWith","URL","href","related_identifiers","includes","relation","identifier","resource_type","scheme","links","link","encodeURIComponent","documentation","authors","creators","author","affiliation","orcid","description","_deposit","id","keywords","metadata","title","access_right","upload_type","publication_date","Date","toISOString","concat","tags","notes","communities","k","replace","rdfFile","idf","bucket","fileName","url","decodeURIComponent","div","innerHTML","textContent","innerText","source","_doi","ZenodoClient","baseURL","clientId","isSandbox","this","callbackUrl","credential","lastCredential","localStorage","getItem","JSON","parse","getCredential","e","console","error","removeItem","login","create_at","parseInt","expires_in","now","confirm","page","query","sort","size","typeKeywords","additionalKeywords","kw","join","results","hits","resourceItems","item","warn","resolve","reject","loginWindow","open","focus","countDown","loggedIn","timer","setInterval","clearInterval","closed","close","handleLogin","event","removeEventListener","setTimeout","log","user_id","exec","user","setItem","stringify","addEventListener","access_token","headers","method","body","depositionInfo","depositionId","details","errors","progressCallback","bucketUrl","axios","options","onUploadProgress","progressEvent","loaded","progress","round","put","submitted","doi_url","compareVersions","v1","comparator","v2","v1parts","v2parts","maxLen","part1","part2","cmp","eval","anonymousAnimals","debounce","func","wait","immediate","timeout","context","args","arguments","later","callNow","clearTimeout","concatAndResolveUrl","url1","url2","url3","pop","rel2abs","base_url","test","substring","location","protocol","charAt","replaceAllRelByAbs","html","att","endsWith","entityEnd","ents","charMap","any","ae","string","all_chars_lowercase","toLowerCase","all_chars_uppercase","toUpperCase","RE_res","char_lowercase","char_uppercase","RE_sub","by","group1","group2","group3","slashRE","RegExp","dotRE","by2","cr","selector","attribute","marker","delimiter","end","re1","re2","re3","cri","front","flags","handleAttr","at1","at2","at3","g1","g2","_vm","_h","$createElement","_c","_self","attrs","staticClass","staticStyle","_v","_s","siteConfig","site_icon","site_name","class","showMenu","on","$event","_e","staticRenderFns","computed","component","register","process","ready","registered","cached","updatefound","updated","offline","selectedPartner","background_image","splash_title","splash_subtitle","_l","feature","showAboutPartner","enter","explore_button_text","ref","fullLabelList","tagCategories","selectedCategory","screenWidth","searchTags","updateResourceItemList","displayModeChanged","updateQueryTags","removePartner","$refs","file_select","click","fileSelected","selectedItems","displayMode","showResourceItemInfo","label","tooltip","logo","footnote","dialogWindowConfig","fullscreen","adaptive_size","preventPageScroll","restorePageScroll","isTouchDevice","maximizeDialogWindow","closeDialogWindow","selectedDialogWindow","minimizeDialogWindow","slot","w","selectWindow","wdialog","directives","rawName","expression","window_id","infoDialogFullscreen","maximizeInfoWindow","closeInfoWindow","infoDialogTitle","showInfoDialogMode","showUploadDialog","showJoinDialog","viewerUrl","currentDepositionId","infoMarkdownUrl","selectedResourceItem","attachments","_focus","subscribe_url","_k","keyCode","search","loading","filteredTags","updateSelectedTags","getFilteredTags","scopedSlots","_u","fn","props","option","model","callback","$$v","selectedTags","matchingAll","freeTextMode","categories","addTagSelection","keys","grouped","switchDisplayMode","allItems","Array","default","String","showDisplayMode","Boolean","watch","newType","applySearch","newTags","is_same","from","Set","mounted","methods","$emit","items","tag","currentPage","itemsPerPage","table_view","columns","row","badge","run","icon","label_type","ext_type","ext","apps","totalItems","app","show_on_hover","enableHover","style","boxShadow","resourceItem","cover_images","cover","etAl","nativeOn","selectTag","badges","createEvent","components","Badges","AppIcons","selectedIcon","template","getElementById","ResourceItemCard","filteredItems","isSafari","beforeDestroy","minfo","maxDescriptionLetters","docs","maxDocsLetters","url_text","domProps","content","created","renderer","highlight","node","setAttribute","newBaseUrl","newUrl","showDocsUrl","repo","showCommentBox","utteranc","params","set","$route","title_backup","history","replaceState","originalUrl","onerror","redirectUrl","$el","appendChild","markdown","Markdown","CommentBox","showSource","el","parentNode","scrollTop","offsetTop","getDocs","then","formatedCitation","cites","cite","isArray","citations","client","stepIndex","rdfYaml","startUpload","URI4Load","loadRdfFromURL","rdfFiles","submitRDF","formatedModelYaml","zipPackage","editedFiles","exportPackage","similarDeposits","userId","owners","createOrUpdateDeposit","sameNameDeposits","requestedJoinCommunity","uploadStatus","uploadProgress","depositId","publishedDOI","publishedUrl","prereserveDOI","prereserveUrl","uploaded","publishDeposition","isRequired","allow_new","placeholder","required","updateFiles","index","preventDefault","removeFile","clearFiles","$forceUpdate","trimEllip","str","jsonFields","formSubmitted","previewFile","containerId","capture","screenshots","screenshot","removeScreenshot","api","getPlugin","TagInputField","DropFilesField","FilePreviewField","expandOnHover","expandWithDelay","reduce","fileField","initializeRdfForm","initRdf","files","$root","$on","transformFields","typeMapping","fields","Dataset","dropFiles","rdfType","$nextTick","att_val","convert2Array","col","field","sortable","max_length","focusTarget","newTarget","availableColumns","normalizedAttachments","converted","scrollIntoView","obj","constructor","Vue","use","Vuex","tagCates","resource_categories","tag_categories","allTags","cat","zenodoBaseURL","zenodo_config","use_sandbox","store","Store","state","loadedUrl","allApps","imjoy","zenodoClient","enabled","client_id","actions","alert","fetchResourceItems","manifest_url","transform","getResourceItems","commit","repo_manifest","collections","partners","duplicates","forEach","resources","rawResourceItems","mutations","setImJoy","addResourceItem","removeResourceItem","normalizeItems","setupBioEngine","loadImJoyBasicApp","process_url_query","show_window_title","show_progress_bar","show_empty_window","hide_about_imjoy","menu_style","window_style","main_container","menu_container","window_manager_container","imjoy_api","changing","iframes","querySelectorAll","iframe","pointerEvents","addMenuItem","uri","prompt","loadPlugin","pm","reloadPluginRecursively","enginePlugin","queryString","urlParams","URLSearchParams","engine","spec","createEngine","nbUrl","catch","runAppForAllItems","showLoader","passive","createWindow","plugin","referer","runAppForItem","notebook","dataset","application","normalizeItem","self","f","allLabels","labels","applications","unshift","$router","$buefy","dialog","hasIcon","message","confirmText","download_url","git_repo","att_name","showAttachmentsDialog","label_short","co2","ResourceItemList","ResourceItemSelector","ResourceItemInfo","upload","Upload","Attachments","about","About","initialized","draggable","dialogWindows","selectedWindowsStack","infoCommentBoxTitle","currentTags","resourceCategories","combined","updateSize","goHome","partner","switchPartner","isJoinButton","default_type","getElementsByTagName","overflow","join_partners_url","$modal","show","addWindow","closing","showAboutDialog","showEditDialog","about_url","mInfo","updateStatus","status","showMessage","hide","idx","scrollTo","models","updateViewByUrlQuery","hasQuery","showProgress","duration","onAction","actionText","queue","snackbar","showWindowDialog","closeWindowDialog","getLabelCount","filteredModels","getModelsCount","init","VueRouter","routes","path","Home","Viewer","router","base","ValidationProvider","rules","rule","extend","messages","vmodal","Buefy","productionTip","render","h","App","$mount","version"],"mappings":"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","file":"js/app.c4c6e5da.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import axios from \"axios\";\nimport yaml from \"js-yaml\";\nimport spdxLicenseList from \"spdx-license-list/full\";\n\nexport const MAX_RDF_VERSION = \"0.3.2\";\n\nexport function randId() {\n  return Math.random()\n    .toString(36)\n    .substr(2, 10);\n}\n\nexport async function resolveDOI(doi) {\n  const response = await fetch(\"https://doi.org/api/handles/\" + doi);\n  if (response.ok) {\n    const result = await response.json();\n    return result.values.filter(v => v.type === \"URL\")[0].data.value;\n  } else {\n    throw new Error(\"Failed to resolve DOI:\" + doi);\n  }\n}\n\nexport function dataURLtoFile(dataurl, filename) {\n  var arr = dataurl.split(\",\"),\n    mime = arr[0].match(/:(.*?);/)[1],\n    bstr = atob(arr[1]),\n    n = bstr.length,\n    u8arr = new Uint8Array(n);\n\n  while (n--) {\n    u8arr[n] = bstr.charCodeAt(n);\n  }\n\n  return new File([u8arr], filename, { type: mime });\n}\nexport function resizeImage(settings) {\n  var file = settings.file;\n  var maxSize = settings.maxSize;\n  var reader = new FileReader();\n  var image = new Image();\n  var canvas = document.createElement(\"canvas\");\n  var dataURItoBlob = function(dataURI) {\n    var bytes =\n      dataURI.split(\",\")[0].indexOf(\"base64\") >= 0\n        ? atob(dataURI.split(\",\")[1])\n        : unescape(dataURI.split(\",\")[1]);\n    var mime = dataURI\n      .split(\",\")[0]\n      .split(\":\")[1]\n      .split(\";\")[0];\n    var max = bytes.length;\n    var ia = new Uint8Array(max);\n    for (var i = 0; i < max; i++) ia[i] = bytes.charCodeAt(i);\n    return new Blob([ia], { type: mime });\n  };\n  var resize = function() {\n    var width = image.width;\n    var height = image.height;\n    if (width > height) {\n      if (width > maxSize) {\n        height *= maxSize / width;\n        width = maxSize;\n      }\n    } else {\n      if (height > maxSize) {\n        width *= maxSize / height;\n        height = maxSize;\n      }\n    }\n    canvas.width = width;\n    canvas.height = height;\n    canvas.getContext(\"2d\").drawImage(image, 0, 0, width, height);\n    var dataUrl = canvas.toDataURL(\"image/jpeg\");\n    return dataURItoBlob(dataUrl);\n  };\n  return new Promise(function(ok, no) {\n    if (!file.type.match(/image.*/)) {\n      no(new Error(\"Not an image\"));\n      return;\n    }\n    reader.onload = function(readerEvent) {\n      image.onload = function() {\n        return ok(resize());\n      };\n      image.src = readerEvent.target.result;\n    };\n    reader.readAsDataURL(file);\n  });\n}\n\nexport async function getFullRdfFromDeposit(deposition) {\n  const rdf = depositionToRdf(deposition);\n  const response = await fetch(rdf.config._rdf_file);\n  if (response.ok) {\n    const yamlStr = await response.text();\n    const fullRdf = yaml.load(yamlStr);\n    fullRdf.config = fullRdf.config || {};\n    Object.assign(fullRdf.config, rdf.config);\n    return fullRdf;\n  } else {\n    throw new Error(`Failed to fetch RDF file.`);\n  }\n}\n\nexport function rdfToMetadata(rdf, baseUrl, docstring) {\n  if (!spdxLicenseList[rdf.license])\n    throw new Error(\n      \"Invalid license, the license identifier must be one from the SPDX license list (https://spdx.org/licenses/)\"\n    );\n  if (!rdf.type) {\n    throw new Error(\"`type` key is not defined in the RDF.\");\n  }\n  rdf.covers = rdf.covers || [];\n  const covers = rdf.covers.map(c =>\n    c.startsWith(\"http\") ? c : new URL(c, baseUrl).href\n  );\n  const related_identifiers = [];\n  for (let c of covers) {\n    if (c.includes(\"access_token=\"))\n      throw new Error(\"Cover URL should not contain access token: \" + c);\n    related_identifiers.push({\n      relation: \"hasPart\", // is part of this upload\n      identifier: c,\n      resource_type: \"image-figure\",\n      scheme: \"url\"\n    });\n  }\n  rdf.links = rdf.links || [];\n  for (let link of rdf.links) {\n    if (link.includes(\"access_token=\"))\n      throw new Error(\"Link should not contain access token: \" + link);\n    related_identifiers.push({\n      identifier: \"https://shareloc.xyz/#/r/\" + encodeURIComponent(link),\n      relation: \"references\", // is referenced by this upload\n      resource_type: \"other\",\n      scheme: \"url\"\n    });\n  }\n  if (rdf.config._rdf_file)\n    // rdf.yaml\n    related_identifiers.push({\n      identifier: rdf.config._rdf_file.startsWith(\"http\")\n        ? rdf.config._rdf_file\n        : new URL(rdf.config._rdf_file, baseUrl).href,\n      relation: \"isCompiledBy\", // compiled/created this upload\n      resource_type: \"other\",\n      scheme: \"url\"\n    });\n  else throw new Error(\"`_rdf_file` key is not found in the RDF config\");\n\n  if (rdf.documentation) {\n    if (rdf.documentation.includes(\"access_token=\"))\n      throw new Error(\"Documentation URL should not contain access token\");\n    related_identifiers.push({\n      identifier: rdf.documentation.startsWith(\"http\")\n        ? rdf.documentation\n        : new URL(rdf.documentation, baseUrl).href,\n      relation: \"isDocumentedBy\", // is referenced by this upload\n      resource_type: \"publication-technicalnote\",\n      scheme: \"url\"\n    });\n  }\n\n  rdf.authors = rdf.authors || [];\n  const creators = rdf.authors.map(author => {\n    if (typeof author === \"string\")\n      return { name: author.split(\";\")[0], affiliation: \"\" };\n    else\n      return {\n        name: author.name.split(\";\")[0],\n        affiliation: author.affiliation,\n        orcid: author.orcid\n      };\n  });\n  const description =\n    `<a href=\"https://shareloc.xyz/#/p/zenodo:${encodeURIComponent(\n      rdf.config._deposit.id\n    )}\"><span class=\"label label-success\">Download RDF Package</span></a><br>` +\n    (docstring || `<p>${docstring}</p>`);\n  const keywords = [\"shareloc.xyz\", \"shareloc.xyz:\" + rdf.type];\n  const metadata = {\n    title: rdf.name,\n    description,\n    access_right: \"open\",\n    license: rdf.license,\n    upload_type: \"other\",\n    creators: creators,\n    publication_date: new Date().toISOString().split(\"T\")[0],\n    keywords: keywords.concat(rdf.tags),\n    notes: rdf.description + \" (Uploaded via https://shareloc.xyz)\",\n    related_identifiers,\n    communities: []\n  };\n  return metadata;\n}\n\nexport function depositionToRdf(deposition) {\n  const metadata = deposition.metadata;\n  let type = metadata.keywords.filter(k => k.startsWith(\"shareloc.xyz:\"))[0];\n  if (!type) {\n    throw new Error(\n      `deposit (${deposition.id}) does not contain a shareloc.xyz type keyword starts with \"shareloc.xyz:<TYPE>\"`\n    );\n  }\n  type = type.replace(\"shareloc.xyz:\", \"\");\n  const covers = [];\n  const links = [];\n  let rdfFile = null;\n  let documentation = null;\n  // TODO: deprecate file:// format\n  for (let idf of metadata.related_identifiers) {\n    if (idf.relation === \"isCompiledBy\" && idf.scheme === \"url\") {\n      rdfFile = idf.identifier;\n      if (rdfFile.startsWith(\"file://\")) {\n        rdfFile = rdfFile.replace(\"file://\", deposition.links.bucket + \"/\");\n      } else if (rdfFile.includes(`${deposition.id}/files/`)) {\n        const fileName = rdfFile.split(\"/files/\")[1];\n        rdfFile = `${deposition.links.bucket}/${fileName}`;\n      } else {\n        throw new Error(\"Invalid file identifier: \" + idf.identifier);\n      }\n    } else if (\n      idf.relation === \"hasPart\" &&\n      idf.resource_type === \"image-figure\" &&\n      idf.scheme === \"url\"\n    ) {\n      let url = idf.identifier;\n      if (url.startsWith(\"file://\")) {\n        url = url.replace(\"file://\", deposition.links.bucket + \"/\");\n      } else if (url.includes(`${deposition.id}/files/`)) {\n        const fileName = url.split(\"/files/\")[1];\n        url = `${deposition.links.bucket}/${fileName}`;\n      } else {\n        throw new Error(\"Invalid file identifier: \" + idf.identifier);\n      }\n      covers.push(url);\n    } else if (\n      idf.relation === \"references\" &&\n      idf.scheme === \"url\" &&\n      idf.identifier.startsWith(\"https://shareloc.xyz/#/r/\")\n    ) {\n      // links\n      const id = idf.identifier.replace(\"https://shareloc.xyz/#/r/\", \"\");\n      links.push(decodeURIComponent(id));\n    } else if (idf.relation === \"isDocumentedBy\" && idf.scheme === \"url\") {\n      // links\n      documentation = idf.identifier;\n    }\n  }\n  // strip the html tags\n  const div = document.createElement(\"div\");\n  div.innerHTML = metadata.description;\n  const description = div.textContent || div.innerText || \"\";\n  if (!rdfFile) {\n    throw new Error(\n      `Invalid deposit (${deposition.id}), rdf.yaml is not defined in the metadata (as part of the \"related_identifiers\")`\n    );\n  }\n  return {\n    id: metadata.doi,\n    name: metadata.title,\n    type,\n    authors: metadata.creators,\n    tags: metadata.keywords\n      .filter(k => k !== \"shareloc.xyz\" || !k.startsWith(\"shareloc.xyz:\"))\n      .concat([\"zenodo\"]),\n    description,\n    license:\n      typeof metadata.license === \"string\"\n        ? metadata.license\n        : metadata.license.id, // sometimes it doesn't contain id\n    documentation,\n    covers,\n    source: rdfFile, //TODO: fix for other RDF types\n    links,\n    config: {\n      _doi: metadata.doi,\n      _deposit: deposition,\n      _rdf_file: rdfFile\n    }\n  };\n}\n\nexport class ZenodoClient {\n  constructor(baseURL, clientId, isSandbox) {\n    this.baseURL = baseURL;\n    this.clientId = clientId;\n    this.isSandbox = isSandbox;\n    this.callbackUrl = encodeURIComponent(\"https://imjoy.io/login-helper\");\n    this.credential = null;\n    try {\n      let lastCredential = localStorage.getItem(\"zenodo_credential\");\n      if (lastCredential) {\n        this.credential = JSON.parse(lastCredential);\n        // check if it's still valid\n        this.getCredential();\n      }\n    } catch (e) {\n      console.error(\"Failed to reset zenodo_credential\");\n      localStorage.removeItem(\"zenodo_credential\");\n    }\n  }\n\n  async getCredential(login) {\n    if (this.credential) {\n      if (\n        this.credential.create_at +\n          parseInt(this.credential.expires_in) * 1000 >\n        Date.now() - 10000\n      ) {\n        // add extra 10s to make sure\n        return this.credential;\n      } else {\n        this.credential = null;\n        try {\n          localStorage.removeItem(\"zenodo_credential\");\n        } catch (e) {\n          console.error(\"Failed to reset zenodo_credential\");\n        }\n      }\n    }\n    if (login) {\n      try {\n        await this.login();\n      } catch (e) {\n        if (confirm(`Failed to login: ${e}, would you like to try again?`)) {\n          return await this.getCredential(login);\n        }\n        throw e;\n      }\n    }\n    return this.credential;\n  }\n\n  async getResourceItems({ page, type, keywords, query, sort, size }) {\n    page = page || 1;\n    type = type || \"all\";\n    keywords = keywords || [];\n    if (!keywords.includes(\"shareloc.xyz\")) keywords.push(\"shareloc.xyz\");\n    size = size || 20;\n    sort = sort || \"mostviewed\";\n    const typeKeywords = type !== \"all\" ? \"&keywords=shareloc.xyz:\" + type : \"\";\n    const additionalKeywords =\n      typeKeywords +\n      (keywords.length > 0\n        ? \"&\" + keywords.map(kw => \"keywords=\" + kw).join(\"&\")\n        : \"\") +\n      (query ? \"&q=\" + query : \"\");\n    const url =\n      `${this.baseURL}/api/records/?communities=shareloc-xyz&sort=${sort}&page=${page}&size=${size}` +\n      additionalKeywords; //&all_versions\n    const response = await fetch(url);\n    const results = JSON.parse(await response.text());\n    const hits = results.hits.hits;\n\n    const resourceItems = hits.map(item => {\n      try {\n        return depositionToRdf(item);\n      } catch (e) {\n        console.warn(e);\n        return null;\n      }\n    });\n    return resourceItems.filter(item => !!item);\n  }\n\n  login() {\n    return new Promise((resolve, reject) => {\n      const loginWindow = window.open(\n        `${this.baseURL}/oauth/authorize?scope=deposit%3Awrite+deposit%3Aactions&state=CHANGEME&redirect_uri=${this.callbackUrl}&response_type=token&client_id=${this.clientId}`,\n        \"Login\"\n      );\n      try {\n        loginWindow.focus();\n      } catch (e) {\n        reject(\n          \"Login window blocked. If you have a popup blocker enabled, please add shareloc.xyz to your exception list.\"\n        );\n        return;\n      }\n\n      let countDown = 120;\n      let loggedIn = false;\n      const timer = setInterval(function() {\n        if (loggedIn) {\n          clearInterval(timer);\n          return;\n        }\n        if (loginWindow.closed) {\n          clearInterval(timer);\n          reject(\"User canceled login\");\n        } else {\n          countDown--;\n          if (countDown <= 0) {\n            clearInterval(timer);\n            loginWindow.close();\n            // make sure we closed the window\n            reject(\"Timeout error\");\n          }\n        }\n      }, 1000);\n      const handleLogin = event => {\n        if (loginWindow === event.source) {\n          // run only once\n          window.removeEventListener(\"message\", handleLogin);\n          clearInterval(timer);\n          loginWindow.close();\n          if (event.data.error) {\n            // make sure we closed the window\n            setTimeout(() => {\n              reject(event.data.error);\n            }, 1);\n            return;\n          }\n          loggedIn = true;\n          console.log(\"Successfully logged in\", event.data);\n          this.credential = event.data;\n          this.credential.user_id = parseInt(\n            /'id': u'([0-9]+)'/gm.exec(event.data.user)[1]\n          );\n          this.credential.create_at = Date.now();\n          resolve(event.data);\n          localStorage.setItem(\n            \"zenodo_credential\",\n            JSON.stringify(this.credential)\n          );\n        }\n      };\n      window.addEventListener(\"message\", handleLogin, false);\n    });\n  }\n\n  async createDeposition() {\n    let response = await fetch(\n      `${this.baseURL}/api/deposit/depositions?access_token=${this.credential.access_token}`\n    );\n    console.log(await response.json());\n    const headers = { \"Content-Type\": \"application/json\" };\n    // create an empty deposition\n    response = await fetch(\n      `${this.baseURL}/api/deposit/depositions?access_token=${this.credential.access_token}`,\n      { method: \"POST\", body: JSON.stringify({}), headers }\n    );\n    const depositionInfo = await response.json();\n    return depositionInfo;\n  }\n\n  async getDeposit(depositionInfo) {\n    const depositionId = depositionInfo.id ? depositionInfo.id : depositionInfo;\n    const response = await fetch(\n      `${this.baseURL}/api/records/${depositionId}`,\n      { method: \"GET\" }\n    );\n    if (response.ok) return await response.json();\n    else {\n      throw new Error(\"Failed to get deposit: \" + depositionId);\n    }\n  }\n\n  async retrieve(depositionInfo) {\n    const depositionId = depositionInfo.id ? depositionInfo.id : depositionInfo;\n    const response = await fetch(\n      `${this.baseURL}/api/deposit/depositions/${depositionId}?access_token=${this.credential.access_token}`,\n      { method: \"GET\" }\n    );\n    if (response.ok) return await response.json();\n    else {\n      throw new Error(\"Failed to retrieve deposit: \" + depositionId);\n    }\n  }\n\n  async edit(depositionInfo) {\n    const depositionId = depositionInfo.id ? depositionInfo.id : depositionInfo;\n    const headers = { \"Content-Type\": \"application/json\" };\n    const response = await fetch(\n      `${this.baseURL}/api/deposit/depositions/${depositionId}/actions/edit?access_token=${this.credential.access_token}`,\n      { method: \"POST\", body: JSON.stringify({}), headers }\n    );\n    if (response.ok) return await response.json();\n    else {\n      throw new Error(\"Failed to edit deposit: \" + depositionId);\n    }\n  }\n\n  async discard(depositionInfo) {\n    const depositionId =\n      typeof depositionInfo === \"string\" ? depositionInfo : depositionInfo.id;\n    const headers = { \"Content-Type\": \"application/json\" };\n    const response = await fetch(\n      `${this.baseURL}/api/deposit/depositions/${depositionId}/actions/discard?access_token=${this.credential.access_token}`,\n      { method: \"POST\", body: JSON.stringify({}), headers }\n    );\n    if (response.ok) return await response.json();\n    else {\n      throw new Error(\"Failed to discard deposit: \" + depositionId);\n    }\n  }\n\n  async createNewVersion(depositionInfo) {\n    const depositionId =\n      typeof depositionInfo === \"string\" ? depositionInfo : depositionInfo.id;\n    const headers = { \"Content-Type\": \"application/json\" };\n    const response = await fetch(\n      `${this.baseURL}/api/deposit/depositions/${depositionId}/actions/newversion?access_token=${this.credential.access_token}`,\n      { method: \"POST\", body: JSON.stringify({}), headers }\n    );\n    if (response.ok) return await response.json();\n    else {\n      throw new Error(\n        \"Failed to create a new version for deposit: \" + depositionId\n      );\n    }\n  }\n\n  async updateMetadata(depositionInfo, metadata) {\n    const depositionId =\n      typeof depositionInfo === \"string\" ? depositionInfo : depositionInfo.id;\n    console.log(`Updating deposition metadata of ${depositionId}:`, metadata);\n    const headers = { \"Content-Type\": \"application/json\" };\n    const response = await fetch(\n      `${this.baseURL}/api/deposit/depositions/${depositionId}?access_token=${this.credential.access_token}`,\n      { method: \"PUT\", body: JSON.stringify({ metadata }), headers }\n    );\n    if (response.ok) return await response.json();\n    else {\n      const details = await response.json();\n      throw new Error(\n        \"Failed to update metadata, error: \" + JSON.stringify(details.errors)\n      );\n    }\n  }\n\n  async uploadFile(depositionInfo, file, progressCallback) {\n    const bucketUrl = depositionInfo.links.bucket;\n    const fileName = file.name;\n    const url = `${bucketUrl}/${fileName}?access_token=${this.credential.access_token}`;\n    if (typeof axios === \"undefined\") {\n      if (progressCallback) progressCallback(0);\n      const response = await fetch(url, {\n        method: \"PUT\",\n        body: file\n      });\n      if (progressCallback) progressCallback(file.size);\n      return await response.json();\n    } else {\n      const options = {\n        headers: { \"Content-Type\": file.type },\n        onUploadProgress: progressEvent => {\n          if (progressCallback) progressCallback(progressEvent.loaded);\n          else {\n            const progress = Math.round(\n              ((1.0 * progressEvent.loaded) / file.size) * 100.0\n            );\n            console.log(\n              \"uploading annotation, size: \" +\n                Math.round(progressEvent.loaded / 1000000) +\n                \"MB, \" +\n                progress +\n                \"% uploaded.\"\n            );\n          }\n        }\n      };\n      const response = await axios.put(url, file, options);\n      return response.data;\n    }\n  }\n\n  async publish(depositionInfo) {\n    const depositionId = depositionInfo.id ? depositionInfo.id : depositionInfo;\n    const headers = { \"Content-Type\": \"application/json\" };\n    const response = await fetch(\n      `${this.baseURL}/api/deposit/depositions/${depositionId}/actions/publish?access_token=${this.credential.access_token}`,\n      { method: \"POST\", body: JSON.stringify({}), headers }\n    );\n    if (response.ok) {\n      const result = await response.json();\n      if (result.submitted && result.doi_url) {\n        return result;\n      } else {\n        throw new Error(\"Failed to publish, error: \" + JSON.stringify(result));\n      }\n    } else {\n      const details = await response.json();\n      throw new Error(\n        \"Failed to publish, error: \" + JSON.stringify(details.errors)\n      );\n    }\n  }\n}\n\nexport function compareVersions(v1, comparator, v2) {\n  comparator = comparator == \"=\" ? \"==\" : comparator;\n  if (\n    [\"==\", \"===\", \"<\", \"<=\", \">\", \">=\", \"!=\", \"!==\"].indexOf(comparator) == -1\n  ) {\n    throw new Error(\"Invalid comparator. \" + comparator);\n  }\n  var v1parts = v1.split(\".\"),\n    v2parts = v2.split(\".\");\n  var maxLen = Math.max(v1parts.length, v2parts.length);\n  var part1, part2;\n  var cmp = 0;\n  for (var i = 0; i < maxLen && !cmp; i++) {\n    part1 = parseInt(v1parts[i], 10) || 0;\n    part2 = parseInt(v2parts[i], 10) || 0;\n    if (part1 < part2) cmp = 1;\n    if (part1 > part2) cmp = -1;\n  }\n  return eval(\"0\" + comparator + cmp);\n}\n\nexport const anonymousAnimals = [\n  \"Duck\",\n  \"Rabbit\",\n  \"Ifrit\",\n  \"Ibex\",\n  \"Turtle\",\n  \"Leopard\",\n  \"Gopher\",\n  \"Ferret\",\n  \"Beaver\",\n  \"Chinchilla\",\n  \"Auroch\",\n  \"Dingo\",\n  \"Kraken\",\n  \"Rhino\",\n  \"Python\",\n  \"Cormorant\",\n  \"Platypus\",\n  \"Elephant\",\n  \"Jackal\",\n  \"Dolphin\",\n  \"Capybara\",\n  \"Camel\",\n  \"Chupacabra\",\n  \"Tiger\",\n  \"Kangaroo\",\n  \"Armadillo\",\n  \"Sheep\",\n  \"Panda\",\n  \"Hippo\",\n  \"Cheetah\",\n  \"Manatee\",\n  \"Raccoon\",\n  \"Wombat\",\n  \"Dinosaur\",\n  \"Hyena\",\n  \"Crow\",\n  \"Orangutan\",\n  \"Wolf\",\n  \"Chameleon\",\n  \"Shrew\",\n  \"Penguin\",\n  \"Nyan Cat\",\n  \"Liger\",\n  \"Quagga\",\n  \"Squirrel\",\n  \"Wolverine\",\n  \"Axolotl\",\n  \"Anteater\",\n  \"Frog\",\n  \"Narwhal\",\n  \"Mink\",\n  \"Chipmunk\",\n  \"Buffalo\",\n  \"Monkey\",\n  \"Bat\",\n  \"Giraffe\",\n  \"Iguana\",\n  \"Fox\",\n  \"Coyote\",\n  \"Moose\",\n  \"Otter\",\n  \"Grizzly\",\n  \"Koala\",\n  \"Alligator\",\n  \"Pumpkin\",\n  \"Llama\",\n  \"Badger\",\n  \"Walrus\",\n  \"Skunk\",\n  \"Lemur\",\n  \"Hedgehog\"\n];\n\nexport function debounce(func, wait, immediate) {\n  var timeout;\n  return function() {\n    var context = this,\n      args = arguments;\n    var later = function() {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n}\n\nexport function concatAndResolveUrl(url, concat) {\n  const url1 = url.split(\"/\");\n  const url2 = concat.split(\"/\");\n  const url3 = [];\n  for (let i = 0, l = url1.length; i < l; i++) {\n    if (url1[i] == \"..\") {\n      url3.pop();\n    } else if (url1[i] == \".\") {\n      continue;\n    } else {\n      url3.push(url1[i]);\n    }\n  }\n  for (let i = 0, l = url2.length; i < l; i++) {\n    if (url2[i] == \"..\") {\n      url3.pop();\n    } else if (url2[i] == \".\") {\n      continue;\n    } else {\n      url3.push(url2[i]);\n    }\n  }\n  return url3.join(\"/\");\n}\n\nfunction rel2abs(url, base_url) {\n  /* Only accept commonly trusted protocols:\n   * Only data-image URLs are accepted, Exotic flavours (escaped slash,\n   * html-entitied characters) are not supported to keep the function fast */\n  if (\n    /^(https?|file|ftps?|mailto|javascript|data:image\\/[^;]{2,9};):/i.test(url)\n  )\n    return url; //Url is already absolute\n  if (url.substring(0, 2) == \"//\") return location.protocol + url;\n  else if (url.charAt(0) == \"/\") return base_url + url.slice(1);\n  else if (/^\\s*$/.test(url)) return \"\"; //Empty = Return nothing\n\n  url = base_url + url;\n  while (/\\/\\.\\.\\//.test((url = url.replace(/[^/]+\\/+\\.\\.\\//g, \"\"))));\n\n  /* Escape certain characters to prevent XSS */\n  url = url\n    .replace(/\\.$/, \"\")\n    .replace(/\\/\\./g, \"\")\n    .replace(/\"/g, \"%22\")\n    .replace(/'/g, \"%27\")\n    .replace(/</g, \"%3C\")\n    .replace(/>/g, \"%3E\");\n  return url;\n}\n\nexport function replaceAllRelByAbs(html, base_url) {\n  /*HTML/XML Attribute may not be prefixed by these characters (common \n     attribute chars.  This list is not complete, but will be sufficient\n     for this function (see http://www.w3.org/TR/REC-xml/#NT-NameChar). */\n  var att = \"[^-a-z0-9:._]\";\n  if (!base_url.endsWith(\"/\")) base_url = base_url + \"/\";\n\n  var entityEnd = \"(?:;|(?!\\\\d))\";\n  var ents = {\n    \" \": \"(?:\\\\s|&nbsp;?|&#0*32\" + entityEnd + \"|&#x0*20\" + entityEnd + \")\",\n    \"(\": \"(?:\\\\(|&#0*40\" + entityEnd + \"|&#x0*28\" + entityEnd + \")\",\n    \")\": \"(?:\\\\)|&#0*41\" + entityEnd + \"|&#x0*29\" + entityEnd + \")\",\n    \".\": \"(?:\\\\.|&#0*46\" + entityEnd + \"|&#x0*2e\" + entityEnd + \")\"\n  };\n  /* Placeholders to filter obfuscations */\n  var charMap = {};\n  var s = ents[\" \"] + \"*\"; //Short-hand for common use\n  var any = \"(?:[^>\\\"']*(?:\\\"[^\\\"]*\\\"|'[^']*'))*?[^>]*\";\n  /* ^ Important: Must be pre- and postfixed by < and >.\n   *   This RE should match anything within a tag!  */\n\n  /*\n    @name ae\n    @description  Converts a given string in a sequence of the original\n                    input and the HTML entity\n    @param String string  String to convert\n    */\n  function ae(string) {\n    var all_chars_lowercase = string.toLowerCase();\n    if (ents[string]) return ents[string];\n    var all_chars_uppercase = string.toUpperCase();\n    var RE_res = \"\";\n    for (var i = 0; i < string.length; i++) {\n      var char_lowercase = all_chars_lowercase.charAt(i);\n      if (charMap[char_lowercase]) {\n        RE_res += charMap[char_lowercase];\n        continue;\n      }\n      var char_uppercase = all_chars_uppercase.charAt(i);\n      var RE_sub = [char_lowercase];\n      RE_sub.push(\"&#0*\" + char_lowercase.charCodeAt(0) + entityEnd);\n      RE_sub.push(\n        \"&#x0*\" + char_lowercase.charCodeAt(0).toString(16) + entityEnd\n      );\n      if (char_lowercase != char_uppercase) {\n        /* Note: RE ignorecase flag has already been activated */\n        RE_sub.push(\"&#0*\" + char_uppercase.charCodeAt(0) + entityEnd);\n        RE_sub.push(\n          \"&#x0*\" + char_uppercase.charCodeAt(0).toString(16) + entityEnd\n        );\n      }\n      RE_sub = \"(?:\" + RE_sub.join(\"|\") + \")\";\n      RE_res += charMap[char_lowercase] = RE_sub;\n    }\n    return (ents[string] = RE_res);\n  }\n\n  /*\n    @name by\n    @description  2nd argument for replace().\n    */\n  function by(match, group1, group2, group3) {\n    /* Note that this function can also be used to remove links:\n     * return group1 + \"javascript://\" + group3; */\n    return group1 + rel2abs(group2, base_url) + group3;\n  }\n  /*\n    @name by2\n    @description  2nd argument for replace(). Parses relevant HTML entities\n    */\n  var slashRE = new RegExp(ae(\"/\"), \"g\");\n  var dotRE = new RegExp(ae(\".\"), \"g\");\n  function by2(match, group1, group2, group3) {\n    /*Note that this function can also be used to remove links:\n     * return group1 + \"javascript://\" + group3; */\n    group2 = group2.replace(slashRE, \"/\").replace(dotRE, \".\");\n    return group1 + rel2abs(group2, base_url) + group3;\n  }\n  /*\n    @name cr\n    @description            Selects a HTML element and performs a\n                              search-and-replace on attributes\n    @param String selector  HTML substring to match\n    @param String attribute RegExp-escaped; HTML element attribute to match\n    @param String marker    Optional RegExp-escaped; marks the prefix\n    @param String delimiter Optional RegExp escaped; non-quote delimiters\n    @param String end       Optional RegExp-escaped; forces the match to end\n                            before an occurence of <end>\n   */\n  function cr(selector, attribute, marker, delimiter, end) {\n    if (typeof selector == \"string\") selector = new RegExp(selector, \"gi\");\n    attribute = att + attribute;\n    marker = typeof marker == \"string\" ? marker : \"\\\\s*=\\\\s*\";\n    delimiter = typeof delimiter == \"string\" ? delimiter : \"\";\n    end = typeof end == \"string\" ? \"?)(\" + end : \")(\";\n    var re1 = new RegExp(\n      \"(\" + attribute + marker + '\")([^\"' + delimiter + \"]+\" + end + \")\",\n      \"gi\"\n    );\n    var re2 = new RegExp(\n      \"(\" + attribute + marker + \"')([^'\" + delimiter + \"]+\" + end + \")\",\n      \"gi\"\n    );\n    var re3 = new RegExp(\n      \"(\" +\n        attribute +\n        marker +\n        \")([^\\\"'][^\\\\s>\" +\n        delimiter +\n        \"]*\" +\n        end +\n        \")\",\n      \"gi\"\n    );\n    html = html.replace(selector, function(match) {\n      return match\n        .replace(re1, by)\n        .replace(re2, by)\n        .replace(re3, by);\n    });\n  }\n  /* \n    @name cri\n    @description            Selects an attribute of a HTML element, and\n                              performs a search-and-replace on certain values\n    @param String selector  HTML element to match\n    @param String attribute RegExp-escaped; HTML element attribute to match\n    @param String front     RegExp-escaped; attribute value, prefix to match\n    @param String flags     Optional RegExp flags, default \"gi\"\n    @param String delimiter Optional RegExp-escaped; non-quote delimiters\n    @param String end       Optional RegExp-escaped; forces the match to end\n                              before an occurence of <end>\n   */\n  function cri(selector, attribute, front, flags, delimiter, end) {\n    if (typeof selector == \"string\") selector = new RegExp(selector, \"gi\");\n    attribute = att + attribute;\n    flags = typeof flags == \"string\" ? flags : \"gi\";\n    var re1 = new RegExp(\"(\" + attribute + '\\\\s*=\\\\s*\")([^\"]*)', \"gi\");\n    var re2 = new RegExp(\"(\" + attribute + \"\\\\s*=\\\\s*')([^']+)\", \"gi\");\n    var at1 = new RegExp(\"(\" + front + ')([^\"]+)(\")', flags);\n    var at2 = new RegExp(\"(\" + front + \")([^']+)(')\", flags);\n    let handleAttr;\n    if (typeof delimiter == \"string\") {\n      end = typeof end == \"string\" ? end : \"\";\n      var at3 = new RegExp(\n        \"(\" +\n          front +\n          \")([^\\\"'][^\" +\n          delimiter +\n          \"]*\" +\n          (end ? \"?)(\" + end + \")\" : \")()\"),\n        flags\n      );\n      handleAttr = function(match, g1, g2) {\n        return (\n          g1 +\n          g2\n            .replace(at1, by2)\n            .replace(at2, by2)\n            .replace(at3, by2)\n        );\n      };\n    } else {\n      handleAttr = function(match, g1, g2) {\n        return g1 + g2.replace(at1, by2).replace(at2, by2);\n      };\n    }\n    html = html.replace(selector, function(match) {\n      return match.replace(re1, handleAttr).replace(re2, handleAttr);\n    });\n  }\n\n  /* <meta http-equiv=refresh content=\"  ; url= \" > */\n  cri(\n    \"<meta\" +\n      any +\n      att +\n      'http-equiv\\\\s*=\\\\s*(?:\"' +\n      ae(\"refresh\") +\n      '\"' +\n      any +\n      \">|'\" +\n      ae(\"refresh\") +\n      \"'\" +\n      any +\n      \">|\" +\n      ae(\"refresh\") +\n      \"(?:\" +\n      ae(\" \") +\n      any +\n      \">|>))\",\n    \"content\",\n    ae(\"url\") + s + ae(\"=\") + s,\n    \"i\"\n  );\n\n  cr(\"<\" + any + att + \"href\\\\s*=\" + any + \">\", \"href\"); /* Linked elements */\n  cr(\"<\" + any + att + \"src\\\\s*=\" + any + \">\", \"src\"); /* Embedded elements */\n\n  cr(\n    \"<object\" + any + att + \"data\\\\s*=\" + any + \">\",\n    \"data\"\n  ); /* <object data= > */\n  cr(\n    \"<applet\" + any + att + \"codebase\\\\s*=\" + any + \">\",\n    \"codebase\"\n  ); /* <applet codebase= > */\n\n  /* <param name=movie value= >*/\n  cr(\n    \"<param\" +\n      any +\n      att +\n      'name\\\\s*=\\\\s*(?:\"' +\n      ae(\"movie\") +\n      '\"' +\n      any +\n      \">|'\" +\n      ae(\"movie\") +\n      \"'\" +\n      any +\n      \">|\" +\n      ae(\"movie\") +\n      \"(?:\" +\n      ae(\" \") +\n      any +\n      \">|>))\",\n    \"value\"\n  );\n\n  cr(\n    /<style[^>]*>(?:[^\"']*(?:\"[^\"]*\"|'[^']*'))*?[^'\"]*(?:<\\/style|$)/gi,\n    \"url\",\n    \"\\\\s*\\\\(\\\\s*\",\n    \"\",\n    \"\\\\s*\\\\)\"\n  ); /* <style> */\n  cri(\n    \"<\" + any + att + \"style\\\\s*=\" + any + \">\",\n    \"style\",\n    ae(\"url\") + s + ae(\"(\") + s,\n    0,\n    s + ae(\")\"),\n    ae(\")\")\n  ); /*< style=\" url(...) \" > */\n  return html;\n}\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceItemSelector.vue?vue&type=style&index=0&id=5aaa56fb&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceItemSelector.vue?vue&type=style&index=0&id=5aaa56fb&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Viewer.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Viewer.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=style&index=0&id=68698558&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=style&index=0&id=68698558&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('nav',{staticClass:\"navbar is-link is-fixed-top\"},[_c('div',{staticClass:\"navbar-brand\"},[_c('a',{attrs:{\"href\":\"#/\"}},[_c('span',{staticClass:\"site-icon\",staticStyle:{\"cursor\":\"pointer\"}},[_vm._v(\" \"+_vm._s(_vm.siteConfig.site_icon))]),_c('span',{staticClass:\"site-title\",staticStyle:{\"cursor\":\"pointer\"}},[_vm._v(\" \"+_vm._s(_vm.siteConfig.site_name)+\" \")])]),_c('div',{staticClass:\"navbar-burger burger\",class:{ 'is-active': _vm.showMenu },attrs:{\"data-target\":\"navbarExampleTransparentExample\"},on:{\"click\":function($event){_vm.showMenu = !_vm.showMenu}}},[_c('span'),_c('span'),_c('span')])]),_c('div',{staticClass:\"navbar-menu\",class:{ 'is-active': _vm.showMenu },attrs:{\"id\":\"navbarExampleTransparentExample\"}},[_c('div',{staticClass:\"navbar-end\"},[(_vm.siteConfig.contribute_url)?_c('a',{staticClass:\"navbar-item\",attrs:{\"href\":\"#/upload\"}},[_c('b-icon',{attrs:{\"icon\":\"plus\"}}),_c('span',[_vm._v(\"Upload\")])],1):_vm._e(),_c('a',{staticClass:\"navbar-item\",attrs:{\"href\":\"#/about\"}},[_c('b-icon',{attrs:{\"icon\":\"information-outline\"}}),_c('span',[_vm._v(\"About\")])],1),_c('a',{staticClass:\"navbar-item\",attrs:{\"id\":\"imjoy-menu\"}})])])]),_c('router-view',{staticStyle:{\"margin-top\":\"72px\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n    <!-- Navigation bar -->\n    <nav class=\"navbar is-link is-fixed-top\">\n      <div class=\"navbar-brand\">\n        <a href=\"#/\">\n          <span class=\"site-icon\" style=\"cursor: pointer;\">\n            {{ siteConfig.site_icon }}</span\n          >\n          <span class=\"site-title\" style=\"cursor: pointer;\">\n            {{ siteConfig.site_name }}\n          </span>\n        </a>\n        <div\n          class=\"navbar-burger burger\"\n          :class=\"{ 'is-active': showMenu }\"\n          data-target=\"navbarExampleTransparentExample\"\n          @click=\"showMenu = !showMenu\"\n        >\n          <span></span>\n          <span></span>\n          <span></span>\n        </div>\n      </div>\n\n      <div\n        id=\"navbarExampleTransparentExample\"\n        :class=\"{ 'is-active': showMenu }\"\n        class=\"navbar-menu\"\n      >\n        <div class=\"navbar-end\">\n          <a\n            class=\"navbar-item\"\n            v-if=\"siteConfig.contribute_url\"\n            href=\"#/upload\"\n          >\n            <b-icon icon=\"plus\"></b-icon>\n            <span>Upload</span>\n          </a>\n          <a class=\"navbar-item\" href=\"#/about\">\n            <b-icon icon=\"information-outline\"></b-icon>\n            <span>About</span>\n          </a>\n          <a class=\"navbar-item\" id=\"imjoy-menu\"> </a>\n        </div>\n      </div>\n    </nav>\n    <!-- Header -->\n    <router-view style=\"margin-top:72px;\" />\n  </div>\n</template>\n<script>\nimport { mapState } from \"vuex\";\n\nexport default {\n  name: \"App\",\n  data() {\n    return {\n      showMenu: false\n    };\n  },\n  computed: {\n    ...mapState({\n      siteConfig: state => state.siteConfig\n    })\n  }\n};\n</script>\n\n<style>\nhtml,\nbody {\n  width: 100vw;\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto,\n    Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif;\n  background: #dcdcdc;\n  overscroll-behavior-y: none;\n}\n#app {\n  height: calc(100vh - 72px);\n}\n.card {\n  margin-bottom: 3rem;\n}\n.content-wrapper {\n  margin-top: 3rem;\n}\n.card-footer-item {\n  font-size: 12px;\n  font-weight: normal;\n}\n.card-header-title {\n  display: block;\n}\n.card-content p {\n  margin-bottom: 2rem;\n}\n.container {\n  max-width: 95%;\n}\n.fa-code,\n.fa-search {\n  margin-right: 0.5vw;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=1029a658&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/* eslint-disable no-console */\n\nimport { register } from \"register-service-worker\";\n\nif (process.env.NODE_ENV === \"production\") {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready() {\n      console.log(\n        \"App is being served from cache by a service worker.\\n\" +\n          \"For more details, visit https://goo.gl/AFskqB\"\n      );\n    },\n    registered() {\n      console.log(\"Service worker has been registered.\");\n    },\n    cached() {\n      console.log(\"Content has been cached for offline use.\");\n    },\n    updatefound() {\n      console.log(\"New content is downloading.\");\n    },\n    updated() {\n      console.log(\"New content is available; please refresh.\");\n    },\n    offline() {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    },\n    error(error) {\n      console.error(\"Error during service worker registration:\", error);\n    }\n  });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('section',{staticClass:\"hero is-link is-fullheight is-fullheight-with-navbar\",staticStyle:{\"max-height\":\"1024px!important\",\"height\":\"100%\",\"min-height\":\"380px\",\"background-image\":\"url(/static/img/bg.jpg)\"}},[_c('div',{staticClass:\"hero-body\",staticStyle:{\"position\":\"relative\"}},[(_vm.selectedPartner)?_c('img',{staticClass:\"background-img\",attrs:{\"src\":_vm.selectedPartner.background_image}}):_c('img',{staticClass:\"background-img\",attrs:{\"src\":_vm.siteConfig.background_image}}),(_vm.selectedPartner)?_c('div',{staticClass:\"container\"},[_c('h1',{staticClass:\"title is-1\"},[_vm._v(\" \"+_vm._s(_vm.selectedPartner.splash_title)+\" \")]),_c('h2',{staticClass:\"subtitle is-3\"},[_vm._v(\" \"+_vm._s(_vm.selectedPartner.splash_subtitle)+\" \")]),(_vm.selectedPartner.splash_feature_list)?_c('ul',{staticClass:\"feature-list\"},_vm._l((_vm.selectedPartner.splash_feature_list),function(feature){return _c('li',{key:feature},[_vm._v(\" \"+_vm._s(feature)+\" \")])}),0):_vm._e(),_c('br'),(_vm.selectedPartner.about_url)?_c('b-button',{staticStyle:{\"text-transform\":\"none\"},attrs:{\"rounded\":\"\"},on:{\"click\":function($event){return _vm.showAboutPartner(_vm.selectedPartner)}}},[_c('span',{staticClass:\"explore-btn\"},[_vm._v(\"About\")])]):_vm._e(),_vm._v(\" \"),_c('b-button',{staticStyle:{\"text-transform\":\"none\"},attrs:{\"rounded\":\"\"},on:{\"click\":_vm.enter}},[_c('span',{staticClass:\"explore-btn\"},[_vm._v(_vm._s(_vm.selectedPartner.explore_button_text))])])],1):_c('div',{staticClass:\"container\"},[_c('h1',{staticClass:\"title is-1\"},[_vm._v(\" \"+_vm._s(_vm.siteConfig.splash_title)+\" \")]),_c('h2',{staticClass:\"subtitle is-3\"},[_vm._v(\" \"+_vm._s(_vm.siteConfig.splash_subtitle)+\" \")]),(_vm.siteConfig.splash_feature_list)?_c('ul',{staticClass:\"feature-list\"},_vm._l((_vm.siteConfig.splash_feature_list),function(feature){return _c('li',{key:feature},[_vm._v(\" \"+_vm._s(feature)+\" \")])}),0):_vm._e(),_c('br'),_c('b-button',{staticStyle:{\"text-transform\":\"none\"},attrs:{\"rounded\":\"\"},on:{\"click\":_vm.enter}},[_c('span',{staticClass:\"explore-btn\"},[_vm._v(_vm._s(_vm.siteConfig.explore_button_text))])])],1)])]),_c('br'),_c('section',{staticStyle:{\"margin-top\":\"-30px\",\"opacity\":\"0.6\"}},[_c('b-progress',{attrs:{\"value\":_vm.progress}})],1),_c('br'),_c('span',{ref:\"search_anchor\"}),_c('resource-item-selector',{attrs:{\"allItems\":_vm.resourceItems,\"fullLabelList\":_vm.fullLabelList,\"tagCategories\":_vm.tagCategories,\"type\":_vm.selectedCategory && _vm.selectedCategory.type,\"showDisplayMode\":_vm.screenWidth > 700,\"searchTags\":_vm.searchTags},on:{\"selection-changed\":_vm.updateResourceItemList,\"display-mode-change\":_vm.displayModeChanged,\"tags-updated\":_vm.updateQueryTags,\"input-change\":_vm.removePartner}}),(_vm.selectedCategory && _vm.selectedCategory.type === 'application')?_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('a',{on:{\"click\":function($event){return _vm.$refs.file_select.click()}}},[_vm._v(\"Load application from file\")]),_c('input',{ref:\"file_select\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\"},on:{\"change\":_vm.fileSelected}})]):_vm._e(),_c('br'),(_vm.selectedItems)?_c('resource-item-list',{attrs:{\"allItems\":_vm.selectedItems,\"displayMode\":_vm.screenWidth > 700 ? _vm.displayMode : 'card'},on:{\"show-resource-item-info\":_vm.showResourceItemInfo}}):_vm._e(),_c('br'),_c('footer',{staticClass:\"footer\"},[(_vm.siteConfig.footer)?_c('div',{staticClass:\"columns is-mobile is-centered\"},_vm._l((_vm.siteConfig.footer),function(item){return _c('div',{key:item.label,staticClass:\"column is-one-quarter\",staticStyle:{\"text-align\":\"center\"}},[_c('b-tooltip',{attrs:{\"label\":item.tooltip,\"position\":\"is-top\"}},[_c('a',{attrs:{\"href\":item.url,\"target\":\"_blank\"}},[_c('figure',[_c('img',{staticStyle:{\"max-height\":\"55px\"},attrs:{\"src\":item.logo}}),_c('figcaption',{staticClass:\"hide-on-small-screen\"},[_vm._v(\" \"+_vm._s(item.label)+\" \")])])])])],1)}),0):_vm._e(),(_vm.siteConfig.footnote)?_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('p',[_vm._v(_vm._s(_vm.siteConfig.footnote))])]):_vm._e()]),_c('modal',{staticStyle:{\"max-width\":\"100%\",\"max-height\":\"100%\",\"z-index\":\"9999\"},attrs:{\"name\":\"window-modal-dialog\",\"resizable\":!_vm.dialogWindowConfig.fullscreen,\"width\":_vm.dialogWindowConfig.width,\"height\":_vm.dialogWindowConfig.height,\"adaptive_size\":_vm.dialogWindowConfig.adaptive_size,\"minWidth\":200,\"minHeight\":150,\"fullscreen\":_vm.dialogWindowConfig.fullscreen,\"draggable\":\".drag-handle\",\"scrollable\":true},on:{\"opened\":_vm.preventPageScroll,\"closed\":_vm.restorePageScroll}},[(_vm.selectedDialogWindow)?_c('div',{staticClass:\"dialog-header\",class:{ 'drag-handle': !_vm.isTouchDevice },on:{\"dblclick\":function($event){return _vm.maximizeDialogWindow()}}},[_c('div',{staticStyle:{\"position\":\"absolute\",\"left\":\"2px\",\"margin-top\":\"-1px\"}},[_c('button',{staticClass:\"noselect dialog-control-button\",staticStyle:{\"background\":\"#ff0000c4\"},on:{\"click\":function($event){return _vm.closeDialogWindow(_vm.selectedDialogWindow)}}},[_vm._v(\" x \")]),(_vm.screenWidth > 700)?_c('button',{staticClass:\"noselect dialog-control-button\",staticStyle:{\"background\":\"#00cdff61\"},on:{\"click\":function($event){return _vm.minimizeDialogWindow()}}},[_vm._v(\" - \")]):_vm._e(),(_vm.screenWidth > 700)?_c('button',{staticClass:\"noselect dialog-control-button\",staticStyle:{\"background\":\"#00cdff61\"},on:{\"click\":function($event){return _vm.maximizeDialogWindow()}}},[_vm._v(\" \"+_vm._s(_vm.dialogWindowConfig.fullscreen ? \"=\" : \"+\")+\" \")]):_vm._e()]),_c('span',{staticClass:\"noselect dialog-title\"},[_vm._v(\" \"+_vm._s(_vm.selectedDialogWindow.name))]),_c('b-dropdown',{staticStyle:{\"position\":\"absolute\",\"right\":\"1px\"},attrs:{\"aria-role\":\"list\",\"position\":\"is-bottom-left\"}},[_c('button',{staticClass:\"button\",staticStyle:{\"background\":\"rgba(0, 205, 255, 0.38)\",\"color\":\"white\",\"width\":\"34px\"},attrs:{\"slot\":\"trigger\"},slot:\"trigger\"},[_c('b-icon',{attrs:{\"icon\":\"dots-horizontal\"}})],1),_vm._l((_vm.dialogWindows),function(w){return _c('b-dropdown-item',{key:w.id,attrs:{\"aria-role\":\"listitem\"},on:{\"click\":function($event){return _vm.selectWindow(w)}}},[_vm._v(_vm._s(w.name))])})],2)],1):_vm._e(),_vm._l((_vm.dialogWindows),function(wdialog){return [_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(wdialog === _vm.selectedDialogWindow),expression:\"wdialog === selectedDialogWindow\"}],key:wdialog.window_id,staticStyle:{\"height\":\"calc(100% - 18px)\"}},[_c('div',{staticClass:\"noselect\",staticStyle:{\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"id\":wdialog.window_id}})])]})],2),_c('modal',{staticStyle:{\"max-width\":\"100%\",\"max-height\":\"100%\"},attrs:{\"name\":\"info-dialog\",\"resizable\":true,\"minWidth\":200,\"minHeight\":150,\"height\":600,\"width\":800,\"fullscreen\":_vm.infoDialogFullscreen,\"draggable\":\".drag-handle\",\"scrollable\":true},on:{\"opened\":_vm.preventPageScroll,\"closed\":_vm.restorePageScroll}},[_c('div',{staticClass:\"dialog-header\",class:{ 'drag-handle': !_vm.isTouchDevice },on:{\"dblclick\":function($event){return _vm.maximizeInfoWindow()}}},[_c('div',{staticStyle:{\"position\":\"absolute\",\"left\":\"2px\",\"margin-top\":\"-1px\"}},[_c('button',{staticClass:\"noselect dialog-control-button\",staticStyle:{\"background\":\"#ff0000c4\"},on:{\"click\":function($event){return _vm.closeInfoWindow()}}},[_vm._v(\" x \")]),(_vm.screenWidth > 700)?_c('button',{staticClass:\"noselect dialog-control-button\",staticStyle:{\"background\":\"#00cdff61\"},on:{\"click\":function($event){return _vm.maximizeInfoWindow()}}},[_vm._v(\" \"+_vm._s(_vm.infoDialogFullscreen ? \"=\" : \"+\")+\" \")]):_vm._e()]),_c('span',{staticClass:\"noselect dialog-title\"},[_vm._v(\" \"+_vm._s(_vm.infoDialogTitle))])]),(_vm.showInfoDialogMode === 'about')?_c('about',{on:{\"contribute\":_vm.showUploadDialog,\"join\":_vm.showJoinDialog}}):(_vm.showInfoDialogMode === 'upload')?_c('upload',{attrs:{\"site-config\":_vm.siteConfig,\"deposition-id\":null}}):(_vm.showInfoDialogMode === 'viewer')?_c('iframe',{staticStyle:{\"padding-bottom\":\"64px\",\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"src\":_vm.viewerUrl,\"width\":\"640\",\"height\":\"852\",\"frameborder\":\"0\",\"marginheight\":\"0\",\"marginwidth\":\"0\"}},[_vm._v(\"Loading…\")]):(_vm.showInfoDialogMode === 'edit')?_c('div',[_c('upload',{attrs:{\"site-config\":_vm.siteConfig,\"deposition-id\":_vm.currentDepositionId}})],1):(_vm.showInfoDialogMode === 'markdown')?_c('div',{staticClass:\"markdown-container\"},[_c('markdown',{attrs:{\"url\":_vm.infoMarkdownUrl}}),(_vm.infoDialogTitle)?_c('comment-box',{attrs:{\"title\":_vm.infoDialogTitle}}):_vm._e()],1):(_vm.showInfoDialogMode === 'attachments' && _vm.selectedResourceItem)?_c('div',{staticClass:\"markdown-container\"},[_c('attachments',{attrs:{\"attachments\":_vm.selectedResourceItem.attachments,\"focusTarget\":_vm.selectedResourceItem._focus}})],1):(_vm.showInfoDialogMode === 'subscribe')?_c('iframe',{staticStyle:{\"padding-bottom\":\"64px\",\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"src\":_vm.siteConfig.subscribe_url,\"width\":\"640\",\"height\":\"852\",\"frameborder\":\"0\",\"marginheight\":\"0\",\"marginwidth\":\"0\"}},[_vm._v(\"Loading…\")]):(_vm.showInfoDialogMode === 'model' && _vm.selectedResourceItem)?_c('resource-item-info'):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container content-wrapper\"},[_c('section',{staticClass:\"center \"},[_c('b-field',{staticStyle:{\"max-width\":\"calc(100vw - 10px)\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.search($event)}}},[_c('b-taginput',{staticClass:\"searchbar\",attrs:{\"loading\":_vm.loading,\"type\":\"is-info\",\"allow-new\":\"\",\"data\":_vm.filteredTags,\"open-on-focus\":true,\"autocomplete\":\"\",\"ellipsis\":\"\",\"icon\":\"magnify\",\"placeholder\":\"Type a keyword and press enter\"},on:{\"input\":_vm.updateSelectedTags,\"typing\":_vm.getFilteredTags},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_vm._v(\" \"+_vm._s(props.option)+\" \")]}}]),model:{value:(_vm.selectedTags),callback:function ($$v) {_vm.selectedTags=$$v},expression:\"selectedTags\"}}),_c('b-dropdown',{attrs:{\"aria-role\":\"list\",\"position\":\"is-bottom-left\"}},[_c('button',{staticClass:\"button tags-button\",attrs:{\"slot\":\"trigger\"},slot:\"trigger\"},[_c('span',[_vm._v(\"Tags\")]),_c('b-icon',{attrs:{\"icon\":\"menu-down\"}})],1),_c('div',{staticClass:\"dropdown-panel\",attrs:{\"aria-role\":\"listitem\"}},[_c('div',{staticClass:\"container\",staticStyle:{\"max-width\":\"100%\"}},[_c('div',{staticClass:\"field\"},[_c('b-switch',{model:{value:(_vm.matchingAll),callback:function ($$v) {_vm.matchingAll=$$v},expression:\"matchingAll\"}},[_vm._v(\"Match: \"+_vm._s(_vm.matchingAll ? \" All\" : \"Any\"))]),_c('b-switch',{model:{value:(_vm.freeTextMode),callback:function ($$v) {_vm.freeTextMode=$$v},expression:\"freeTextMode\"}},[_vm._v(\"Free Text: \"+_vm._s(_vm.freeTextMode ? \" Enabled\" : \"Disabled\"))])],1),_vm._l((_vm.categories.grouped),function(tags,name){return _c('div',{key:name,staticClass:\"column\"},[_vm._v(\" \"+_vm._s(name)+\": \"),_c('br'),_vm._l((tags),function(t){return _c('a',{key:t,staticStyle:{\"display\":\"inline-block\"},on:{\"click\":function($event){return _vm.addTagSelection(t)}}},[_c('b-tag',{staticStyle:{\"cursor\":\"pointer\"},attrs:{\"rounded\":\"\"}},[_vm._v(_vm._s(t))])],1)})],2)}),_c('div',{staticClass:\"column\"},[(Object.keys(_vm.categories.grouped).length > 0)?_c('span',[_vm._v(\"other: \"),_c('br')]):_vm._e(),_vm._l((_vm.categories.other),function(t){return _c('a',{key:t,staticStyle:{\"display\":\"inline-block\"},on:{\"click\":function($event){return _vm.addTagSelection(t)}}},[_c('b-tag',{staticStyle:{\"cursor\":\"pointer\"},attrs:{\"rounded\":\"\"}},[_vm._v(_vm._s(t))])],1)})],2)],2)])]),(_vm.showDisplayMode)?_c('b-field',{staticClass:\"display-mode-btn\"},[_c('p',{staticClass:\"control\"},[_c('b-tooltip',{attrs:{\"label\":\"Display mode: list\",\"position\":\"is-top\"}},[_c('button',{staticClass:\"button\",class:{ 'is-primary': _vm.displayMode === 'list' },staticStyle:{\"top\":\"1px\",\"height\":\"34px\"},on:{\"click\":function($event){return _vm.switchDisplayMode('list')}}},[_c('b-icon',{attrs:{\"icon\":\"format-list-bulleted\"}})],1)])],1),_c('p',{staticClass:\"control\"},[_c('b-tooltip',{attrs:{\"label\":\"Display mode: card\",\"position\":\"is-top\"}},[_c('button',{staticClass:\"button\",class:{ 'is-primary': _vm.displayMode === 'card' },staticStyle:{\"top\":\"1px\",\"height\":\"34px\"},on:{\"click\":function($event){return _vm.switchDisplayMode('card')}}},[_c('b-icon',{attrs:{\"icon\":\"view-grid\"}})],1)])],1)]):_vm._e()],1),_c('b-field')],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container content-wrapper\">\n    <section class=\"center \">\n      <b-field style=\"max-width: calc(100vw - 10px);\" @keyup.enter=\"search\">\n        <b-taginput\n          :loading=\"loading\"\n          type=\"is-info\"\n          allow-new\n          class=\"searchbar\"\n          :data=\"filteredTags\"\n          :open-on-focus=\"true\"\n          autocomplete\n          @input=\"updateSelectedTags\"\n          @typing=\"getFilteredTags\"\n          v-model=\"selectedTags\"\n          ellipsis\n          icon=\"magnify\"\n          placeholder=\"Type a keyword and press enter\"\n        >\n          <template slot-scope=\"props\">\n            {{ props.option }}\n          </template>\n        </b-taginput>\n        <b-dropdown aria-role=\"list\" position=\"is-bottom-left\">\n          <button class=\"button tags-button\" slot=\"trigger\">\n            <span>Tags</span>\n            <b-icon icon=\"menu-down\"></b-icon>\n          </button>\n\n          <div class=\"dropdown-panel\" aria-role=\"listitem\">\n            <div class=\"container\" style=\"max-width:100%;\">\n              <div class=\"field\">\n                <b-switch v-model=\"matchingAll\"\n                  >Match: {{ matchingAll ? \" All\" : \"Any\" }}</b-switch\n                >\n                <b-switch v-model=\"freeTextMode\"\n                  >Free Text:\n                  {{ freeTextMode ? \" Enabled\" : \"Disabled\" }}</b-switch\n                >\n              </div>\n\n              <div\n                class=\"column\"\n                v-for=\"(tags, name) in categories.grouped\"\n                :key=\"name\"\n              >\n                {{ name }}: <br />\n                <a\n                  @click=\"addTagSelection(t)\"\n                  v-for=\"t in tags\"\n                  :key=\"t\"\n                  style=\"display:inline-block;\"\n                >\n                  <b-tag style=\"cursor: pointer;\" rounded>{{ t }}</b-tag>\n                </a>\n              </div>\n\n              <div class=\"column\">\n                <span v-if=\"Object.keys(categories.grouped).length > 0\"\n                  >other: <br\n                /></span>\n                <a\n                  @click=\"addTagSelection(t)\"\n                  v-for=\"t in categories.other\"\n                  :key=\"t\"\n                  style=\"display:inline-block;\"\n                >\n                  <b-tag rounded style=\"cursor: pointer;\">{{ t }}</b-tag>\n                </a>\n              </div>\n            </div>\n          </div>\n        </b-dropdown>\n        <b-field class=\"display-mode-btn\" v-if=\"showDisplayMode\">\n          <p class=\"control\">\n            <b-tooltip label=\"Display mode: list\" position=\"is-top\">\n              <button\n                class=\"button\"\n                :class=\"{ 'is-primary': displayMode === 'list' }\"\n                @click=\"switchDisplayMode('list')\"\n                style=\"top:1px;height:34px;\"\n              >\n                <b-icon icon=\"format-list-bulleted\"></b-icon>\n              </button>\n            </b-tooltip>\n          </p>\n          <p class=\"control\">\n            <b-tooltip label=\"Display mode: card\" position=\"is-top\">\n              <button\n                class=\"button\"\n                :class=\"{ 'is-primary': displayMode === 'card' }\"\n                @click=\"switchDisplayMode('card')\"\n                style=\"top:1px;height:34px;\"\n              >\n                <b-icon icon=\"view-grid\"></b-icon>\n              </button>\n            </b-tooltip>\n          </p>\n        </b-field>\n        <!-- <button style=\"height:36px;\" class=\"button is-primary\">Search</button> -->\n      </b-field>\n      <b-field> </b-field>\n    </section>\n  </div>\n</template>\n\n<script>\nimport { debounce } from \"../utils\";\nexport default {\n  name: \"ResourceItemSelector\",\n  props: {\n    allItems: {\n      type: Array,\n      default: null\n    },\n    type: {\n      type: String,\n      default: null\n    },\n    fullLabelList: {\n      type: Array,\n      default: null\n    },\n    tagCategories: {\n      type: Object,\n      default: null\n    },\n    showDisplayMode: {\n      type: Boolean,\n      default: false\n    },\n    searchTags: {\n      type: Array,\n      default: null\n    }\n  },\n  data() {\n    return {\n      selectedTags: [],\n      filteredTags: [],\n      loading: false,\n      matchingAll: true,\n      freeTextMode: true,\n      displayMode: \"card\"\n    };\n  },\n  watch: {\n    type: function(newType) {\n      if (!this.allItems) return;\n      this.type = newType;\n      this.applySearch(this.selectedTags);\n    },\n    selectedTags: function(newTags) {\n      this.applySearch(newTags);\n    },\n    allItems: function() {\n      this.applySearch(this.selectedTags);\n    },\n    searchTags: function(newTags) {\n      if (!newTags) {\n        this.selectedTags = [];\n        return;\n      }\n      const is_same =\n        newTags &&\n        newTags.length == this.selectedTags.length &&\n        newTags.every((element, index) => {\n          return element === this.selectedTags[index];\n        });\n      if (is_same) return;\n      newTags = newTags.filter(tag => tag && tag.trim() != \"\");\n      this.selectedTags = Array.from(new Set(newTags));\n    }\n  },\n  mounted() {\n    this.filteredTags = this.fullLabelList;\n  },\n  computed: {\n    categories() {\n      if (!this.tagCategories) {\n        return { grouped: {}, other: this.fullLabelList };\n      }\n      const cate = {};\n      const other = [];\n      const lowerSelected = this.selectedTags.map(a => a.toLowerCase());\n      for (let t of this.fullLabelList) {\n        if (lowerSelected.indexOf(t.toLowerCase()) >= 0) continue;\n        let found = false;\n        for (let c of Object.keys(this.tagCategories)) {\n          for (let k of this.tagCategories[c]) {\n            if (k.toLowerCase() === t.toLowerCase()) {\n              if (!cate[c]) cate[c] = [];\n              cate[c].push(k);\n              found = true;\n              break;\n            }\n          }\n        }\n        if (!found) {\n          other.push(t);\n        }\n      }\n\n      return { grouped: cate, other: other };\n    }\n  },\n  methods: {\n    applySearch(newTags) {\n      if (!this.allItems) return;\n      this.$emit(\"tags-updated\", newTags);\n      this.loading = true;\n      debounce(() => {\n        const knownTags = newTags.filter(\n          tag => this.fullLabelList.indexOf(tag.toLowerCase()) >= 0\n        );\n        let selectedItems;\n        const items = this.type\n          ? this.allItems.filter(m => m.type === this.type)\n          : this.allItems;\n        if (newTags.length <= 0) {\n          selectedItems = items;\n        } else {\n          selectedItems = items.filter(item => {\n            let matched;\n            if (this.matchingAll)\n              matched =\n                knownTags.length > 0 &&\n                knownTags.every(label =>\n                  item.allLabels.includes(label.toLowerCase())\n                );\n            else\n              matched =\n                knownTags.length > 0 &&\n                knownTags.some(label =>\n                  item.allLabels.includes(label.toLowerCase())\n                );\n            const matchText = label => {\n              label = label.replace(/-/g, \"\").toLowerCase(); // remove dash for U-Net vs UNet\n\n              return (\n                item.name\n                  .replace(/-/g, \"\")\n                  .toLowerCase()\n                  .includes(label) ||\n                (item.description &&\n                  item.description\n                    .replace(/-/g, \"\")\n                    .toLowerCase()\n                    .split(/[ .:;?!~,`\"&|()<>{}[\\]\\r\\n/\\\\]+/)\n                    .includes(label)) ||\n                (item.authors &&\n                  item.authors.some(author =>\n                    author.toLowerCase().includes(label)\n                  )) ||\n                (item.apps &&\n                  item.apps.some(\n                    app => app.name && app.name.toLowerCase().includes(label)\n                  ))\n              );\n            };\n            return (\n              (!this.type || item.type === this.type) &&\n              (matched || (this.freeTextMode && newTags.every(matchText)))\n            );\n          });\n        }\n\n        this.$emit(\"selection-changed\", selectedItems);\n        this.loading = false;\n        this.$forceUpdate();\n      }, 400)();\n    },\n    switchDisplayMode(mode) {\n      if (this.displayMode !== mode) {\n        this.displayMode = mode;\n        this.$emit(\"display-mode-change\", mode);\n      }\n    },\n    updateSelectedTags() {\n      this.$emit(\"input-change\");\n      this.filteredTags = this.fullLabelList.filter(label => {\n        return this.selectedTags.indexOf(label) < 0;\n      });\n    },\n    getFilteredTags(text) {\n      this.filteredTags = this.fullLabelList.filter(label => {\n        return label.toLowerCase().indexOf(text.toLowerCase()) >= 0;\n      });\n    },\n    addTagSelection(tag) {\n      if (this.selectedTags.indexOf(tag) < 0) this.selectedTags.push(tag);\n    }\n  }\n};\n</script>\n<style scoped>\n.container {\n  width: 800px;\n}\n.dropdown-panel {\n  width: 100%;\n  max-width: 580px;\n  padding: 15px;\n  height: 400px;\n  overflow-y: scroll;\n  max-height: 100vh;\n}\n.card {\n  height: 360px;\n}\n.card-content {\n  padding: 1rem;\n}\n.authors {\n  font-size: 0.9em;\n  font-weight: 600;\n}\n.model-description {\n  font-size: 0.9em;\n}\n.action-btn {\n  width: 33px;\n}\n.button.is-small {\n  border-radius: 30px;\n  font-size: 1rem;\n  background-color: #d2ebffc7;\n  color: rgb(25, 25, 26);\n}\n.card-image {\n  max-height: 200px;\n}\n\n.center {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.tag:hover {\n  background: #002e52 !important;\n  color: white;\n}\n.tags-button {\n  top: 1px;\n  height: 34px;\n  left: 4px;\n  text-transform: none;\n}\n.searchbar {\n  width: 500px;\n  max-width: calc(100% - 110px);\n  margin-left: 10px;\n}\n.display-mode-btn {\n  top: 1px;\n  margin-left: 7px;\n  height: 34px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceItemSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceItemSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ResourceItemSelector.vue?vue&type=template&id=5aaa56fb&scoped=true&\"\nimport script from \"./ResourceItemSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./ResourceItemSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ResourceItemSelector.vue?vue&type=style&index=0&id=5aaa56fb&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5aaa56fb\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"resource-item-list\"},[_c('div',{staticClass:\"container content-wrapper\"},[(_vm.displayMode === 'card')?_c('div',{staticClass:\"columns is-multiline\"},[_vm._l((_vm.allItems.slice(\n          (_vm.currentPage - 1) * _vm.itemsPerPage,\n          _vm.currentPage * _vm.itemsPerPage\n        )),function(item){return _c('div',{key:item.id,staticClass:\"column is-4-desktop is-3-widescreen is-half-tablet resource-card\"},[_c('resource-item-card',{attrs:{\"resourceItem\":item},on:{\"show-info\":_vm.showResourceItemInfo,\"select-tag\":function($event){return _vm.$emit('select-tag', $event)}}})],1)}),(_vm.allItems && _vm.allItems.length === 0)?_c('span',{staticClass:\"column\",staticStyle:{\"text-align\":\"center\"}},[_vm._v(\"The list is empty.\")]):_vm._e()],2):_c('b-table',{attrs:{\"data\":_vm.allItems,\"detailed\":true,\"show-detail-icon\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [(_vm.siteConfig.table_view.columns.includes('name'))?_c('b-table-column',{attrs:{\"label\":\"Name\",\"width\":\"20\",\"field\":\"name\",\"sortable\":\"\"}},[_c('a',{on:{\"click\":function($event){return _vm.showResourceItemInfo(props.row)}}},[_vm._v(\" \"+_vm._s(props.row.name)+\" \")])]):_vm._e(),(_vm.siteConfig.table_view.columns.includes('authors'))?_c('b-table-column',{attrs:{\"label\":\"Author(s)\",\"width\":\"20\",\"sortable\":\"\",\"field\":\"authors\"}},[_c('span',[_vm._v(\" \"+_vm._s(props.row.authors.join(\", \"))+\" \")])]):_vm._e(),(_vm.siteConfig.table_view.columns.includes('badges'))?_c('b-table-column',{attrs:{\"label\":\"Badges\",\"width\":\"50\",\"field\":\"badges\",\"sortable\":\"\"}},[(props.row.badges)?_c('div',{staticClass:\"badges\"},_vm._l((props.row.badges),function(badge){return _c('a',{key:badge.label,staticClass:\"badge\",attrs:{\"href\":badge.url,\"target\":\"_blank\"},on:{\"click\":function($event){!badge.url && badge.run && badge.run()}}},[(!badge.icon)?_c('b-taglist',{attrs:{\"attached\":\"\",\"rounded\":\"\"}},[_c('b-tag',{attrs:{\"type\":badge.label_type || 'is-dark'}},[_vm._v(_vm._s(badge.label))]),(badge.ext)?_c('b-tag',{attrs:{\"type\":badge.ext_type || 'is-success'}},[_vm._v(_vm._s(badge.ext))]):_vm._e()],1):_c('img',{attrs:{\"alt\":badge.label,\"src\":badge.icon}})],1)}),0):_vm._e()]):_vm._e(),(_vm.siteConfig.table_view.columns.includes('apps'))?_c('b-table-column',{attrs:{\"label\":\"Apps\",\"width\":\"30\",\"field\":\"apps\",\"sortable\":\"\"}},[_c('app-icons',{attrs:{\"apps\":props.row.apps}})],1):_vm._e()]}},{key:\"detail\",fn:function(props){return [_c('resource-item-card',{attrs:{\"resourceItem\":props.row},on:{\"show-info\":_vm.showResourceItemInfo}})]}}])}),_c('b-pagination',{staticClass:\"resource-pagination\",attrs:{\"total\":_vm.totalItems,\"current\":_vm.currentPage,\"range-before\":3,\"range-after\":1,\"per-page\":_vm.itemsPerPage,\"icon-prev\":\"arrow-left\",\"icon-next\":\"arrow-right\",\"aria-next-label\":\"Next page\",\"aria-previous-label\":\"Previous page\",\"aria-page-label\":\"Page\",\"aria-current-label\":\"Current page\"},on:{\"update:current\":function($event){_vm.currentPage=$event}}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.apps)?_c('div',{staticClass:\"app-icons\"},[_vm._l((_vm.apps),function(app){return [_c('b-tooltip',{key:app.name,class:{ 'hover-show': app.show_on_hover && _vm.enableHover },attrs:{\"label\":app.name,\"position\":\"is-bottom\"}},[_c('b-button',{staticClass:\"is-small action-btn\",attrs:{\"rounded\":\"\",\"tag\":\"a\",\"href\":app.url,\"target\":\"_blank\"},on:{\"click\":function($event){!app.url && app.run && app.run()}}},[(!app.icon)?_c('b-icon',{attrs:{\"icon\":\"puzzle\",\"size\":\"is-small\"}}):(app.icon.startsWith('http'))?_c('img',{staticClass:\"app-icon\",attrs:{\"src\":app.icon,\"alt\":app.name}}):_c('b-icon',{attrs:{\"icon\":app.icon,\"size\":\"is-small\"}})],1)],1)]})],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"apps\" class=\"app-icons\">\n    <template v-for=\"app in apps\">\n      <b-tooltip\n        :class=\"{ 'hover-show': app.show_on_hover && enableHover }\"\n        :key=\"app.name\"\n        :label=\"app.name\"\n        position=\"is-bottom\"\n      >\n        <b-button\n          rounded\n          tag=\"a\"\n          :href=\"app.url\"\n          target=\"_blank\"\n          @click=\"!app.url && app.run && app.run()\"\n          class=\"is-small action-btn\"\n        >\n          <b-icon v-if=\"!app.icon\" icon=\"puzzle\" size=\"is-small\"> </b-icon>\n          <img\n            v-else-if=\"app.icon.startsWith('http')\"\n            class=\"app-icon\"\n            :src=\"app.icon\"\n            :alt=\"app.name\"\n          />\n          <b-icon v-else :icon=\"app.icon\" size=\"is-small\"> </b-icon>\n        </b-button>\n      </b-tooltip>\n    </template>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"AppIcons\",\n  props: {\n    apps: {\n      type: Array,\n      default: null\n    },\n    enableHover: {\n      type: Boolean,\n      default: false\n    }\n  }\n};\n</script>\n<style scoped>\n.app-icons {\n  margin-top: 5px;\n  margin-left: 5px;\n  display: inline-block;\n}\n.app-icon {\n  width: 20px !important;\n  max-width: 22px;\n  max-height: 22px;\n  object-fit: contain;\n  transform: translateY(2px);\n}\n.action-btn {\n  width: 33px;\n}\n.action-btn .icon {\n  font-size: 1.4rem;\n}\n\n.button.is-small {\n  border-radius: 30px;\n  font-size: 0.8rem;\n  background-color: rgba(255, 255, 255, 0.85);\n  color: #002e52;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppIcons.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppIcons.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppIcons.vue?vue&type=template&id=660bac59&scoped=true&\"\nimport script from \"./AppIcons.vue?vue&type=script&lang=js&\"\nexport * from \"./AppIcons.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppIcons.vue?vue&type=style&index=0&id=660bac59&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"660bac59\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"resource-item-card\"},[_c('div',{staticClass:\"card is-shady\",style:({ 'box-shadow': _vm.boxShadow })},[_c('div',{staticClass:\"card-image\"},[(\n          _vm.resourceItem.cover_images && _vm.resourceItem.cover_images.length > 0\n        )?_c('b-carousel',{attrs:{\"indicator\":_vm.resourceItem.cover_images.length > 1,\"arrow\":_vm.resourceItem.cover_images.length > 1,\"pause-info\":false}},_vm._l((_vm.resourceItem.cover_images),function(cover){return _c('b-carousel-item',{key:cover,staticClass:\"carousel-image\"},[_c('img',{staticClass:\"cover-image\",attrs:{\"loading\":\"lazy\",\"src\":cover,\"alt\":_vm.resourceItem.name}})])}),1):_c('img',{staticClass:\"cover-image\",staticStyle:{\"background-color\":\"black\",\"width\":\"100%\",\"height\":\"160px\"}})],1),_c('div',{staticClass:\"card-content\"},[_c('div',{staticClass:\"content\"},[_c('h4',{staticClass:\"resource-item-title\",on:{\"click\":_vm.showResourceItemInfo}},[(_vm.icon.type === 'img')?_c('img',{staticClass:\"item-icon\",staticStyle:{\"border-radius\":\"4px\",\"background\":\"#ffffffd0\"},attrs:{\"src\":_vm.icon.src}}):(_vm.icon.type === 'animal')?_c('img',{staticClass:\"item-icon\",staticStyle:{\"border-radius\":\"50%\",\"background\":\"#167cf0b8\"},attrs:{\"src\":'/static/anonymousAnimals/' + _vm.icon.src + '.png'}}):_c('b-icon',{staticClass:\"item-icon\",attrs:{\"icon\":_vm.icon.src}}),_c('span',[_vm._v(_vm._s(_vm.resourceItem.name.slice(0, 30) + (_vm.resourceItem.name.length > 30 ? \"...\" : \"\")))])],1),_c('div',{staticClass:\"buttons floating-buttons\"},[_c('app-icons',{attrs:{\"apps\":_vm.resourceItem.apps,\"enableHover\":!_vm.isTouchDevice}})],1),_c('span',{staticClass:\"authors\"},[_vm._v(\" \"+_vm._s(_vm.resourceItem.authors && _vm.resourceItem.authors.length > 0 ? \"by \" + _vm.etAl(_vm.resourceItem.authors) : \"\")+\" \")]),(_vm.resourceItem.description)?_c('p',{staticClass:\"resource-item-description\"},[_vm._v(\" \"+_vm._s(_vm.resourceItem.description.slice(0, 100) + (_vm.resourceItem.description.length > 100 ? \"...\" : \"\"))+\" \")]):_vm._e(),_c('span',{staticStyle:{\"margin-top\":\"3px\",\"display\":\"block\"}},_vm._l((_vm.resourceItem.tags),function(t){return _c('span',{key:t},[_c('b-tag',{staticStyle:{\"cursor\":\"pointer\"},attrs:{\"rounded\":\"\"},nativeOn:{\"click\":function($event){return _vm.selectTag(t)}}},[_vm._v(_vm._s(t))])],1)}),0),_c('badges',{staticClass:\"badges\",attrs:{\"badges\":_vm.resourceItem.badges}})],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.badges)?_c('div',{staticClass:\"badges\"},_vm._l((_vm.badges),function(badge){return _c('a',{key:badge.label,staticClass:\"badge\",attrs:{\"href\":badge.url,\"target\":\"_blank\"},on:{\"click\":function($event){!badge.url && badge.run && badge.run()}}},[(!badge.icon)?_c('b-taglist',{attrs:{\"attached\":\"\",\"rounded\":\"\"}},[_c('b-tag',{attrs:{\"type\":badge.label_type || 'is-dark'}},[_vm._v(_vm._s(badge.label))]),(badge.ext)?_c('b-tag',{attrs:{\"type\":badge.ext_type || 'is-success'}},[_vm._v(_vm._s(badge.ext))]):_vm._e()],1):_c('img',{staticClass:\"badge-img\",attrs:{\"alt\":badge.label,\"src\":badge.icon}})],1)}),0):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"badges\" v-if=\"badges\">\n    <a\n      class=\"badge\"\n      v-for=\"badge in badges\"\n      :key=\"badge.label\"\n      :href=\"badge.url\"\n      target=\"_blank\"\n      @click=\"!badge.url && badge.run && badge.run()\"\n    >\n      <b-taglist v-if=\"!badge.icon\" attached rounded>\n        <b-tag :type=\"badge.label_type || 'is-dark'\">{{ badge.label }}</b-tag>\n        <b-tag :type=\"badge.ext_type || 'is-success'\" v-if=\"badge.ext\">{{\n          badge.ext\n        }}</b-tag>\n      </b-taglist>\n\n      <img v-else class=\"badge-img\" :alt=\"badge.label\" :src=\"badge.icon\" />\n    </a>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Badges\",\n  props: {\n    badges: {\n      type: Array,\n      default: null\n    }\n  }\n};\n</script>\n<style scoped>\na.badge {\n  display: inline-block;\n  padding: 1px;\n}\n\n/* TODO: fix the badge position */\n.badge-img {\n  position: relative;\n  transform: translateY(6px);\n}\n\n.badge {\n  display: inline-block;\n  padding: 1px;\n  margin-top: -5px;\n  margin-bottom: -5px;\n}\n\n.tags:not(:last-child) {\n  margin-bottom: -10px;\n}\n.badges {\n  display: inline-block;\n}\n.tag:not(body) {\n  padding-left: 4px;\n  padding-right: 4px;\n  font-size: 0.7rem;\n  font-weight: 520;\n  height: 20px;\n  border-radius: 3px;\n  font-family: \"DejaVu Sans\", Verdana, Geneva, sans-serif;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Badges.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Badges.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Badges.vue?vue&type=template&id=f6922e12&scoped=true&\"\nimport script from \"./Badges.vue?vue&type=script&lang=js&\"\nexport * from \"./Badges.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Badges.vue?vue&type=style&index=0&id=f6922e12&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f6922e12\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"resource-item-card\">\n    <div class=\"card is-shady\" :style=\"{ 'box-shadow': boxShadow }\">\n      <div class=\"card-image\">\n        <b-carousel\n          v-if=\"\n            resourceItem.cover_images && resourceItem.cover_images.length > 0\n          \"\n          :indicator=\"resourceItem.cover_images.length > 1\"\n          :arrow=\"resourceItem.cover_images.length > 1\"\n          :pause-info=\"false\"\n        >\n          <b-carousel-item\n            class=\"carousel-image\"\n            v-for=\"cover in resourceItem.cover_images\"\n            :key=\"cover\"\n          >\n            <img\n              loading=\"lazy\"\n              :src=\"cover\"\n              :alt=\"resourceItem.name\"\n              class=\"cover-image\"\n            />\n          </b-carousel-item>\n        </b-carousel>\n        <img\n          v-else\n          style=\"background-color: black;width: 100%;height:160px;\"\n          class=\"cover-image\"\n        />\n      </div>\n      <div class=\"card-content\">\n        <div class=\"content\">\n          <h4 class=\"resource-item-title\" @click=\"showResourceItemInfo\">\n            <img\n              v-if=\"icon.type === 'img'\"\n              style=\"border-radius: 4px; background: #ffffffd0;\"\n              class=\"item-icon\"\n              :src=\"icon.src\"\n            />\n            <img\n              v-else-if=\"icon.type === 'animal'\"\n              class=\"item-icon\"\n              style=\"border-radius: 50%;background: #167cf0b8;\"\n              :src=\"'/static/anonymousAnimals/' + icon.src + '.png'\"\n            />\n            <b-icon v-else class=\"item-icon\" :icon=\"icon.src\" />\n            <span>{{\n              resourceItem.name.slice(0, 30) +\n                (resourceItem.name.length > 30 ? \"...\" : \"\")\n            }}</span>\n          </h4>\n          <div class=\"buttons floating-buttons\">\n            <app-icons\n              :apps=\"resourceItem.apps\"\n              :enableHover=\"!isTouchDevice\"\n            ></app-icons>\n          </div>\n          <span class=\"authors\">\n            {{\n              resourceItem.authors && resourceItem.authors.length > 0\n                ? \"by \" + etAl(resourceItem.authors)\n                : \"\"\n            }}\n          </span>\n\n          <p class=\"resource-item-description\" v-if=\"resourceItem.description\">\n            {{\n              resourceItem.description.slice(0, 100) +\n                (resourceItem.description.length > 100 ? \"...\" : \"\")\n            }}\n          </p>\n          <span style=\"margin-top:3px;display: block;\">\n            <span v-for=\"t in resourceItem.tags\" :key=\"t\">\n              <b-tag\n                style=\"cursor: pointer;\"\n                rounded\n                @click.native=\"selectTag(t)\"\n                >{{ t }}</b-tag\n              >\n            </span>\n          </span>\n          <badges class=\"badges\" :badges=\"resourceItem.badges\"></badges>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Badges from \"./Badges\";\nimport AppIcons from \"./AppIcons\";\nimport { anonymousAnimals } from \"../utils\";\nimport siteConfig from \"../../site.config.json\";\n\nconst colorMap = {};\nfor (let it of siteConfig.resource_categories) {\n  colorMap[it.type] = it.outline_color;\n}\n\nconst isTouchDevice = (function() {\n  try {\n    document.createEvent(\"TouchEvent\");\n    return true;\n  } catch (e) {\n    return false;\n  }\n})();\n\nexport default {\n  name: \"ModelCard\",\n  props: {\n    resourceItem: {\n      type: Object,\n      default: null\n    }\n  },\n  data() {\n    return {\n      isTouchDevice: isTouchDevice\n    };\n  },\n  components: {\n    badges: Badges,\n    \"app-icons\": AppIcons\n  },\n  computed: {\n    boxShadow: function() {\n      const color = colorMap[this.resourceItem.type] || \"rgba(0,0,0,.2)\";\n      return `0 3px 1px -2px ${color}, 0 2px 2px 0 ${color}, 0 1px 5px 0 rgba(0,0,0,.12)`;\n    },\n    icon: function() {\n      if (this.resourceItem.icon) {\n        if (this.resourceItem.icon.startsWith(\"http\")) {\n          return { type: \"img\", src: this.resourceItem.icon };\n        }\n        if (anonymousAnimals.indexOf(this.resourceItem.icon) >= 0) {\n          return {\n            type: \"animal\",\n            src: this.resourceItem.icon\n          };\n        } else {\n          return { type: \"material\", src: this.resourceItem.icon };\n        }\n      } else {\n        let sum = 0;\n        if (this.resourceItem.name)\n          for (let i = 0; i < this.resourceItem.name.length; i++) {\n            sum = sum + this.resourceItem.name.charCodeAt(i);\n          }\n        const selectedIcon = anonymousAnimals[sum % anonymousAnimals.length];\n        return {\n          type: \"animal\",\n          src: selectedIcon\n        };\n      }\n    }\n  },\n  methods: {\n    etAl(authors) {\n      authors = authors.map(author => {\n        return author.split(\";\")[0];\n      });\n      if (authors.length < 3) {\n        return authors.join(\", \");\n      } else {\n        return authors.slice(0, 3).join(\", \") + \" et al.\";\n      }\n    },\n    showResourceItemInfo() {\n      this.$emit(\"show-info\", this.resourceItem);\n    },\n    selectTag(tag) {\n      this.$emit(\"select-tag\", tag);\n    }\n  }\n};\n</script>\n<style scoped>\n.resource-item-card {\n  max-width: 500px;\n}\n.card {\n  height: 360px;\n}\n.card-image {\n  height: 160px;\n}\n.card-content {\n  padding-left: 1rem;\n  padding-right: 1rem;\n  padding-top: 4px;\n}\n.resource-item-title {\n  margin-top: 6px;\n  font-size: 1.2em;\n  font-weight: 400;\n  cursor: pointer;\n  color: #002e52;\n}\n.authors {\n  font-size: 0.9em;\n  font-weight: 600;\n}\n.resource-item-description {\n  font-size: 0.9em;\n}\n\n.floating-buttons {\n  position: absolute;\n  top: 0px;\n  left: 5px;\n}\n\n.cover-image {\n  height: 160px;\n  max-height: 180px;\n  object-fit: contain;\n}\n.carousel-image {\n  max-height: 180px;\n  background: black;\n  text-align: center;\n}\n.item-icon {\n  position: absolute;\n  top: 125px;\n  display: inline-block;\n  margin-top: auto;\n  margin-bottom: auto;\n  border: 3px solid #00000000;\n  margin-right: 4px;\n  width: 32px;\n  max-width: 100px;\n}\n\n.badges {\n  position: absolute;\n  left: 5px;\n  bottom: 5px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceItemCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceItemCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ResourceItemCard.vue?vue&type=template&id=67ce27d6&scoped=true&\"\nimport script from \"./ResourceItemCard.vue?vue&type=script&lang=js&\"\nexport * from \"./ResourceItemCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ResourceItemCard.vue?vue&type=style&index=0&id=67ce27d6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"67ce27d6\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"resource-item-list\">\n    <div class=\"container content-wrapper\">\n      <div class=\"columns is-multiline\" v-if=\"displayMode === 'card'\">\n        <div\n          v-for=\"item in allItems.slice(\n            (currentPage - 1) * itemsPerPage,\n            currentPage * itemsPerPage\n          )\"\n          :key=\"item.id\"\n          class=\"column is-4-desktop is-3-widescreen is-half-tablet resource-card\"\n        >\n          <resource-item-card\n            @show-info=\"showResourceItemInfo\"\n            @select-tag=\"$emit('select-tag', $event)\"\n            :resourceItem=\"item\"\n          ></resource-item-card>\n        </div>\n        <span\n          style=\"text-align: center;\"\n          class=\"column\"\n          v-if=\"allItems && allItems.length === 0\"\n          >The list is empty.</span\n        >\n      </div>\n      <b-table\n        v-else\n        :data=\"allItems\"\n        :detailed=\"true\"\n        :show-detail-icon=\"true\"\n      >\n        <template slot-scope=\"props\">\n          <b-table-column\n            v-if=\"siteConfig.table_view.columns.includes('name')\"\n            label=\"Name\"\n            width=\"20\"\n            field=\"name\"\n            sortable\n          >\n            <a @click=\"showResourceItemInfo(props.row)\">\n              {{ props.row.name }}\n            </a>\n          </b-table-column>\n          <b-table-column\n            v-if=\"siteConfig.table_view.columns.includes('authors')\"\n            label=\"Author(s)\"\n            width=\"20\"\n            sortable\n            field=\"authors\"\n          >\n            <span>\n              {{ props.row.authors.join(\", \") }}\n            </span>\n          </b-table-column>\n          <b-table-column\n            v-if=\"siteConfig.table_view.columns.includes('badges')\"\n            label=\"Badges\"\n            width=\"50\"\n            field=\"badges\"\n            sortable\n          >\n            <div class=\"badges\" v-if=\"props.row.badges\">\n              <a\n                class=\"badge\"\n                v-for=\"badge in props.row.badges\"\n                :key=\"badge.label\"\n                :href=\"badge.url\"\n                target=\"_blank\"\n                @click=\"!badge.url && badge.run && badge.run()\"\n              >\n                <b-taglist v-if=\"!badge.icon\" attached rounded>\n                  <b-tag :type=\"badge.label_type || 'is-dark'\">{{\n                    badge.label\n                  }}</b-tag>\n                  <b-tag\n                    :type=\"badge.ext_type || 'is-success'\"\n                    v-if=\"badge.ext\"\n                    >{{ badge.ext }}</b-tag\n                  >\n                </b-taglist>\n                <img v-else :alt=\"badge.label\" :src=\"badge.icon\" />\n              </a>\n            </div>\n          </b-table-column>\n          <b-table-column\n            v-if=\"siteConfig.table_view.columns.includes('apps')\"\n            label=\"Apps\"\n            width=\"30\"\n            field=\"apps\"\n            sortable\n          >\n            <app-icons :apps=\"props.row.apps\"></app-icons>\n          </b-table-column>\n        </template>\n        <template slot=\"detail\" slot-scope=\"props\">\n          <resource-item-card\n            @show-info=\"showResourceItemInfo\"\n            :resourceItem=\"props.row\"\n          ></resource-item-card>\n        </template>\n      </b-table>\n      <b-pagination\n        class=\"resource-pagination\"\n        :total=\"totalItems\"\n        :current.sync=\"currentPage\"\n        :range-before=\"3\"\n        :range-after=\"1\"\n        :per-page=\"itemsPerPage\"\n        icon-prev=\"arrow-left\"\n        icon-next=\"arrow-right\"\n        aria-next-label=\"Next page\"\n        aria-previous-label=\"Previous page\"\n        aria-page-label=\"Page\"\n        aria-current-label=\"Current page\"\n      >\n      </b-pagination>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport AppIcons from \"./AppIcons\";\nimport ResourceItemCard from \"./ResourceItemCard\";\nimport siteConfig from \"../../site.config.json\";\nconst isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n\nVue.component(\"label-selector\", {\n  props: [\"all-labels\"],\n  template: document.getElementById(\"label-selector\")\n});\n\nexport default {\n  name: \"ResourceItemList\",\n  components: {\n    \"resource-item-card\": ResourceItemCard,\n    \"app-icons\": AppIcons\n  },\n  props: {\n    allItems: {\n      type: Array,\n      default: null\n    },\n    displayMode: {\n      type: String,\n      default: \"card\"\n    }\n  },\n  computed: {\n    totalItems: function() {\n      return this.allItems ? this.allItems.length : 0;\n    },\n    filteredItems: function() {\n      const covered = this.allItems.filter(item => item.cover_image);\n      const items = covered.concat(\n        this.allItems.filter(item => !item.cover_image)\n      );\n      return items.filter(item =>\n        this.filters.every(label => item.allLabels.includes(label))\n      );\n    }\n  },\n  data() {\n    return {\n      isSafari: isSafari,\n      siteConfig: siteConfig,\n      currentPage: 1,\n      itemsPerPage: 16\n    };\n  },\n  mounted() {},\n  beforeDestroy() {},\n  methods: {\n    showResourceItemInfo(minfo) {\n      this.$emit(\"show-resource-item-info\", minfo);\n    }\n  }\n};\n</script>\n\n<style lang=\"css\" scoped>\n.resource-pagination {\n  margin-top: 10px;\n}\n.resource-item-list {\n  min-height: 60vh;\n}\n.badges {\n  left: 5px;\n  bottom: 5px;\n}\na.badge {\n  display: inline-block;\n  padding: 1px;\n}\n.action-btn {\n  width: 33px;\n}\n.action-btn .icon {\n  font-size: 1.4rem;\n}\n\n.button.is-small {\n  border-radius: 30px;\n  font-size: 0.8rem;\n  background-color: rgba(255, 255, 255, 0.85);\n  color: #002e52;\n}\n.resource-card {\n  height: 400px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceItemList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceItemList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ResourceItemList.vue?vue&type=template&id=3ca77ea3&scoped=true&\"\nimport script from \"./ResourceItemList.vue?vue&type=script&lang=js&\"\nexport * from \"./ResourceItemList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ResourceItemList.vue?vue&type=style&index=0&id=3ca77ea3&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3ca77ea3\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"resource-item-info\"},[_c('section',{staticStyle:{\"margin-bottom\":\"10px\"}},[_c('app-icons',{attrs:{\"apps\":_vm.resourceItem.apps}}),_vm._v(\" \"),_c('badges',{attrs:{\"badges\":_vm.resourceItem.badges}})],1),(_vm.resourceItem.cover_images && _vm.resourceItem.cover_images.length > 0)?_c('b-carousel',{staticStyle:{\"max-width\":\"1024px\"},attrs:{\"indicator\":_vm.resourceItem.cover_images.length > 1,\"arrow\":_vm.resourceItem.cover_images.length > 1,\"pause-info\":false}},_vm._l((_vm.resourceItem.cover_images),function(cover){return _c('b-carousel-item',{key:cover},[_c('figure',{staticClass:\"image is-16by9\"},[_c('img',{staticClass:\"cover-image\",attrs:{\"loading\":\"lazy\",\"src\":cover,\"alt\":_vm.resourceItem.name,\"data-target\":\"modal-image2\"}})])])}),1):_vm._e(),_c('span',{staticClass:\"authors\"},[_vm._v(\" \"+_vm._s(_vm.resourceItem.authors && _vm.resourceItem.authors.length > 0 ? \"Author(s): \" + _vm.resourceItem.authors.join(\",\") : \"\")+\" \")]),_c('br'),_c('span',{staticStyle:{\"margin-top\":\"3px\",\"display\":\"block\"}},_vm._l((_vm.resourceItem.tags),function(t){return _c('span',{key:t},[_c('b-tag',{staticStyle:{\"cursor\":\"pointer\"},attrs:{\"rounded\":\"\"}},[_vm._v(_vm._s(t))])],1)}),0),_c('br'),(_vm.resourceItem.description)?_c('p',[_vm._v(\" \"+_vm._s(_vm.resourceItem.description.slice(0, _vm.maxDescriptionLetters))+\" \"),(_vm.resourceItem.description.length > _vm.maxDescriptionLetters)?_c('a',{on:{\"click\":function($event){_vm.maxDescriptionLetters = _vm.resourceItem.description.length}}},[_vm._v(\"...show all.\")]):_vm._e()]):_vm._e(),_c('div',{staticClass:\"markdown-body\"},[(_vm.resourceItem.docs)?_c('markdown',{attrs:{\"baseUrl\":_vm.resourceItem.baseUrl,\"content\":_vm.resourceItem.docs.slice(0, _vm.maxDocsLetters)}}):_vm._e(),(_vm.resourceItem.docs && _vm.resourceItem.docs.length > _vm.maxDocsLetters)?_c('a',{staticStyle:{\"color\":\"#0366d6\"},on:{\"click\":function($event){_vm.maxDocsLetters = _vm.resourceItem.docs.length}}},[_vm._v(\"+ click here to see the full documentation\")]):_vm._e(),_c('br'),(_vm.formatedCitation)?_c('h3',{attrs:{\"id\":\"citation\"}},[_vm._v(\"How to cite\")]):_vm._e(),(_vm.formatedCitation)?_c('ul',{staticClass:\"citation\"},_vm._l((_vm.formatedCitation),function(c){return _c('li',{key:c.text},[_vm._v(\" \"+_vm._s(c.text)+\" \"),(c.url)?_c('a',{attrs:{\"href\":c.url,\"target\":\"_blank\"}},[_vm._v(\"[\"+_vm._s(c.url_text)+\"]\")]):_vm._e()])}),0):_vm._e()],1),_c('comment-box',{attrs:{\"title\":_vm.resourceItem.name}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"markdown-body\"},[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading,\"can-cancel\":false},on:{\"update:active\":function($event){_vm.loading=$event}}}),(_vm.docs)?_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.docs)}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"markdown-body\">\n    <b-loading\n      :is-full-page=\"false\"\n      :active.sync=\"loading\"\n      :can-cancel=\"false\"\n    ></b-loading>\n    <div v-if=\"docs\" v-html=\"docs\"></div>\n  </div>\n</template>\n\n<script>\nimport \"../../node_modules/github-markdown-css/github-markdown.css\";\nimport \"../../node_modules/highlight.js/styles/github.css\";\nimport marked from \"marked\";\nimport DOMPurify from \"dompurify\";\nimport hljs from \"highlight.js\";\n\nimport { replaceAllRelByAbs } from \"../utils\";\n\nexport default {\n  name: \"Markdown\",\n  props: {\n    baseUrl: {\n      type: String,\n      default: \"\"\n    },\n    content: {\n      type: String,\n      default: null\n    },\n    url: {\n      type: String,\n      default: null\n    }\n  },\n  data() {\n    return {\n      docs: null,\n      loading: false\n    };\n  },\n  created() {\n    //open link in a new tab\n    const renderer = new marked.Renderer();\n    renderer.link = function(href, title, text) {\n      var link = marked.Renderer.prototype.link.call(this, href, title, text);\n      return link.replace(\"<a\", \"<a target='_blank' \");\n    };\n    renderer.image = function(href, title, text) {\n      var link = marked.Renderer.prototype.image.call(this, href, title, text);\n      return link.replace(\"/./\", \"/\");\n    };\n    marked.setOptions({\n      renderer: renderer,\n      highlight: function(code) {\n        return hljs.highlightAuto(code).value;\n      }\n    });\n    DOMPurify.addHook(\"afterSanitizeAttributes\", function(node) {\n      // set all elements owning target to target=_blank\n      if (\"target\" in node) {\n        node.setAttribute(\"target\", \"_blank\");\n        // prevent https://www.owasp.org/index.php/Reverse_Tabnabbing\n        node.setAttribute(\"rel\", \"noopener noreferrer\");\n      }\n    });\n  },\n  watch: {\n    content: function(newContent) {\n      this.docs = DOMPurify.sanitize(\n        replaceAllRelByAbs(marked(newContent), this.baseUrl)\n      );\n      this.loading = false;\n    },\n    baseUrl: function(newBaseUrl) {\n      this.baseUrl = newBaseUrl;\n\n      this.docs = DOMPurify.sanitize(\n        replaceAllRelByAbs(marked(this.content), this.baseUrl)\n      );\n    },\n    url: function(newUrl) {\n      if (!newUrl) return;\n      this.showDocsUrl(newUrl);\n    }\n  },\n  mounted() {\n    marked.setOptions({\n      baseUrl: this.baseUrl\n    });\n    if (this.content)\n      this.docs = DOMPurify.sanitize(\n        replaceAllRelByAbs(marked(this.content), this.baseUrl)\n      );\n    else if (this.url) {\n      this.showDocsUrl(this.url);\n    }\n  },\n  methods: {\n    async showDocsUrl(url) {\n      this.loading = true;\n      this.docs = \"@loading...\";\n      try {\n        const response = await fetch(url);\n        if (response.status == 200) {\n          const content = await response.text();\n          if (url.endsWith(\".md\")) {\n            const temp = url.split(\"/\");\n            const baseUrl = temp.slice(0, temp.length - 1).join(\"/\");\n\n            this.docs = DOMPurify.sanitize(\n              replaceAllRelByAbs(marked(content), baseUrl)\n            );\n            this.loading = false;\n          } else {\n            this.docs = DOMPurify.sanitize(\n              marked(\"```\\n\" + content + \"\\n```\\n\")\n            );\n          }\n        } else {\n          this.docs = \"Oops! Failed to load from \" + url;\n        }\n      } catch (e) {\n        this.docs = \"Oops! Failed to load from \" + url;\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};\n</script>\n<style scoped></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Markdown.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Markdown.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Markdown.vue?vue&type=template&id=3dae94c1&scoped=true&\"\nimport script from \"./Markdown.vue?vue&type=script&lang=js&\"\nexport * from \"./Markdown.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3dae94c1\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-loading',{attrs:{\"is-full-page\":false,\"active\":_vm.loading,\"can-cancel\":false},on:{\"update:active\":function($event){_vm.loading=$event}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <b-loading\n      :is-full-page=\"false\"\n      :active.sync=\"loading\"\n      :can-cancel=\"false\"\n    ></b-loading>\n  </div>\n</template>\n\n<script>\nimport siteConfig from \"../../site.config.json\";\nexport default {\n  name: \"CommentBox\",\n  props: {\n    title: {\n      type: String,\n      default: null\n    },\n    repo: {\n      type: String,\n      default: siteConfig.model_repo\n    },\n    label: {\n      type: String,\n      default: \"comment\"\n    }\n  },\n  mounted() {\n    if (siteConfig.enable_comment) {\n      this.loading = true;\n      setTimeout(() => this.showCommentBox(), 200);\n    }\n  },\n  data() {\n    return {\n      loading: false\n    };\n  },\n  methods: {\n    showCommentBox() {\n      this.loading = true;\n      if (!this.title) {\n        console.warn(\"You need to specify a title for the comment box\");\n        return;\n      }\n      // utteranc\n      const title_backup = window.document.title;\n      window.document.title = this.title;\n      const utteranc = document.createElement(\"script\");\n      utteranc.src = \"https://utteranc.es/client.js\";\n      utteranc.setAttribute(\"repo\", this.repo);\n      utteranc.setAttribute(\"issue-term\", \"title\");\n      utteranc.setAttribute(\"label\", this.label);\n      utteranc.setAttribute(\"theme\", \"github-light\");\n      utteranc.setAttribute(\"crossorigin\", \"anonymous\");\n      utteranc.setAttribute(\"async\", true);\n      // Fix github oauth redirection\n      // see https://github.com/utterance/utterances/issues/140#issuecomment-479190093\n      const originalUrl = window.location.href;\n      const params = new URLSearchParams(window.location.search);\n      for (let k of Object.keys(this.$route.query)) {\n        params.set(k, this.$route.query[k]);\n      }\n\n      utteranc.onload = () => {\n        window.document.title = title_backup;\n        window.history.replaceState(null, \"\", originalUrl);\n        this.loading = false;\n      };\n      utteranc.onerror = () => {\n        this.loading = false;\n      };\n\n      const redirectUrl = `${window.location.pathname}?${params.toString()}`;\n      window.history.replaceState(null, \"\", redirectUrl);\n      this.$el.appendChild(utteranc);\n    }\n  }\n};\n</script>\n<style scoped></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentBox.vue?vue&type=template&id=6e296c2e&scoped=true&\"\nimport script from \"./CommentBox.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentBox.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6e296c2e\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"resource-item-info\">\n    <section style=\"margin-bottom:10px;\">\n      <app-icons :apps=\"resourceItem.apps\"></app-icons>\n      &nbsp;&nbsp;<badges :badges=\"resourceItem.badges\"></badges>\n    </section>\n    <b-carousel\n      style=\"max-width: 1024px;\"\n      v-if=\"resourceItem.cover_images && resourceItem.cover_images.length > 0\"\n      :indicator=\"resourceItem.cover_images.length > 1\"\n      :arrow=\"resourceItem.cover_images.length > 1\"\n      :pause-info=\"false\"\n    >\n      <b-carousel-item v-for=\"cover in resourceItem.cover_images\" :key=\"cover\">\n        <figure class=\"image is-16by9\">\n          <img\n            loading=\"lazy\"\n            :src=\"cover\"\n            :alt=\"resourceItem.name\"\n            class=\"cover-image\"\n            data-target=\"modal-image2\"\n          />\n        </figure>\n      </b-carousel-item>\n    </b-carousel>\n    <span class=\"authors\">\n      {{\n        resourceItem.authors && resourceItem.authors.length > 0\n          ? \"Author(s): \" + resourceItem.authors.join(\",\")\n          : \"\"\n      }}\n    </span>\n    <br />\n    <span style=\"margin-top:3px;display: block;\">\n      <span v-for=\"t in resourceItem.tags\" :key=\"t\">\n        <b-tag style=\"cursor: pointer;\" rounded>{{ t }}</b-tag>\n      </span>\n    </span>\n    <br />\n    <p v-if=\"resourceItem.description\">\n      {{ resourceItem.description.slice(0, maxDescriptionLetters) }}\n      <a\n        v-if=\"resourceItem.description.length > maxDescriptionLetters\"\n        @click=\"maxDescriptionLetters = resourceItem.description.length\"\n        >...show all.</a\n      >\n    </p>\n    <!-- <attachments\n      :attachments=\"resourceItem.attachments\"\n      :focusTarget=\"resourceItem._focus\"\n    ></attachments> -->\n    <div class=\"markdown-body\">\n      <markdown\n        v-if=\"resourceItem.docs\"\n        :baseUrl=\"resourceItem.baseUrl\"\n        :content=\"resourceItem.docs.slice(0, maxDocsLetters)\"\n      ></markdown>\n\n      <a\n        v-if=\"resourceItem.docs && resourceItem.docs.length > maxDocsLetters\"\n        style=\"color: #0366d6;\"\n        @click=\"maxDocsLetters = resourceItem.docs.length\"\n        >+ click here to see the full documentation</a\n      >\n\n      <br />\n      <h3 v-if=\"formatedCitation\" id=\"citation\">How to cite</h3>\n      <ul v-if=\"formatedCitation\" class=\"citation\">\n        <li v-for=\"c in formatedCitation\" :key=\"c.text\">\n          {{ c.text }}\n          <a v-if=\"c.url\" :href=\"c.url\" target=\"_blank\">[{{ c.url_text }}]</a>\n        </li>\n      </ul>\n    </div>\n    <comment-box :title=\"resourceItem.name\"></comment-box>\n  </div>\n</template>\n\n<script>\nimport siteConfig from \"../../site.config.json\";\nimport Badges from \"@/components/Badges.vue\";\nimport AppIcons from \"@/components/AppIcons.vue\";\n// import Attachments from \"@/components/Attachments.vue\";\nimport Markdown from \"@/components/Markdown.vue\";\nimport CommentBox from \"@/components/CommentBox.vue\";\nimport { randId, concatAndResolveUrl } from \"../utils\";\n\nexport default {\n  name: \"ResourceItemInfo\",\n  props: {\n    resourceItem: {\n      type: Object,\n      default: null\n    }\n  },\n  components: {\n    markdown: Markdown,\n    badges: Badges,\n    // attachments: Attachments,\n    \"app-icons\": AppIcons,\n    \"comment-box\": CommentBox\n  },\n  data() {\n    return {\n      siteConfig: siteConfig,\n      maxDescriptionLetters: 100,\n      maxDocsLetters: 500,\n      showSource: false\n    };\n  },\n\n  mounted() {\n    const focus = () => {\n      if (this.resourceItem._focus) {\n        const el = document.getElementById(this.resourceItem._focus);\n        if (el) {\n          el.parentNode.scrollTop = el.offsetTop - 40;\n        }\n      }\n    };\n    this.getDocs(this.resourceItem).then(focus);\n  },\n  computed: {\n    formatedCitation: function() {\n      let cites = this.resourceItem.cite;\n      if (!cites) return null;\n      if (this.resourceItem.cite && !Array.isArray(this.resourceItem.cite)) {\n        cites = [this.resourceItem.cite];\n      }\n      const citations = [];\n      for (let c of cites) {\n        if (typeof c === \"string\") {\n          citations.push({\n            text: c\n          });\n        } else {\n          let url = c.url;\n          let url_text = \"link\";\n          if (c.doi) {\n            if (c.doi.startsWith(\"http\")) url = c.doi;\n            else url = \"https://doi.org/\" + c.doi;\n            url_text = \"doi\";\n          }\n          citations.push({\n            text: c.text,\n            url,\n            url_text\n          });\n        }\n      }\n      return citations;\n    }\n  },\n  methods: {\n    async getDocs(resourceItem) {\n      resourceItem.docs = \"@loading...\";\n      try {\n        let docsUrl;\n        if (!resourceItem.documentation.startsWith(\"http\"))\n          docsUrl = concatAndResolveUrl(\n            resourceItem.root_url,\n            resourceItem.documentation\n          );\n        else {\n          docsUrl = resourceItem.documentation;\n        }\n        if (docsUrl.includes(\"github.\")) docsUrl = docsUrl + \"?\" + randId();\n        const response = await fetch(docsUrl);\n        if (response.status == 200) {\n          const raw_docs = await response.text();\n          let baseUrl;\n          if (!this.resourceItem.documentation.startsWith(\"http\")) {\n            const temp = (\n              this.resourceItem.root_url +\n              \"/\" +\n              this.resourceItem.documentation\n            ).split(\"/\");\n            baseUrl = temp.slice(0, temp.length - 1).join(\"/\");\n          } else {\n            const temp = this.resourceItem.documentation.split(\"/\");\n            baseUrl = temp.slice(0, temp.length - 1).join(\"/\");\n          }\n          if (resourceItem.documentation.endsWith(\".md\")) {\n            resourceItem.baseUrl = baseUrl;\n            resourceItem.docs = raw_docs;\n          } else if (resourceItem.documentation) {\n            resourceItem.docs = `### [Documentation](${resourceItem.documentation})`;\n          }\n        } else {\n          resourceItem.docs = null;\n        }\n        this.$forceUpdate();\n      } catch (e) {\n        resourceItem.docs = null;\n        this.$forceUpdate();\n      } finally {\n        if (this.resourceItem.docs)\n          this.maxDocsLetters = this.resourceItem.docs\n            .split(\"\\n\")\n            .slice(0, 5)\n            .join(\"\\n\").length;\n      }\n    }\n  }\n};\n</script>\n<style scoped>\n.resource-item-info {\n  padding: 20px;\n  height: calc(100% - 50px);\n  overflow: auto;\n  overscroll-behavior: contain;\n}\n\n@media screen and (max-width: 768px) {\n  .resource-item-info {\n    padding: 5px;\n  }\n}\n.card-image {\n  max-height: 500px;\n}\n.citation {\n  list-style-type: circle;\n}\n.cover-image {\n  object-fit: contain;\n}\n.badge {\n  display: inline-block;\n  padding: 1px;\n  margin-top: -5px;\n  margin-bottom: -5px;\n}\n.tags:not(:last-child) {\n  margin-bottom: -10px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceItemInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceItemInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ResourceItemInfo.vue?vue&type=template&id=0df38e11&scoped=true&\"\nimport script from \"./ResourceItemInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./ResourceItemInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ResourceItemInfo.vue?vue&type=style&index=0&id=0df38e11&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0df38e11\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload\"},[(_vm.client.isSandbox)?_c('b-notification',{attrs:{\"type\":\"is-warning\",\"has-icon\":\"\",\"aria-close-label\":\"Close notification\",\"role\":\"alert\"}},[_vm._v(\" You are using the development mode of the upload feature, this means files will be uploaded the sandbox version of Zenodo (https://sandbox.zenodo.org). The uploaded files can be removed from Zenodo at anytime without notice. \")]):_vm._e(),_c('b-steps',{attrs:{\"position\":\"left\",\"has-navigation\":false,\"label-position\":\"right\"},model:{value:(_vm.stepIndex),callback:function ($$v) {_vm.stepIndex=$$v},expression:\"stepIndex\"}},[_c('b-step-item',{attrs:{\"disabled\":_vm.rdfYaml,\"label\":\"Start\",\"icon\":\"file\"}},[_c('b-field',{attrs:{\"label\":\"Option 1: Create a new deposit\",\"expanded\":\"\"}},[_c('b-button',{staticClass:\"button is-fullwidth\",staticStyle:{\"text-transform\":\"none\"},attrs:{\"expanded\":\"\"},on:{\"click\":_vm.startUpload}},[_vm._v(\"Start Upload\")])],1),_c('b-field',{attrs:{\"label\":\"Option 2: Update an existing deposit\",\"message\":\"A URI can be a Zenodo DOI, Zenodo URL or Github URL to the RDF file\"}},[_c('b-input',{attrs:{\"type\":\"url\",\"placeholder\":\"Type a DOI or URL here\"},model:{value:(_vm.URI4Load),callback:function ($$v) {_vm.URI4Load=$$v},expression:\"URI4Load\"}})],1),_c('b-button',{staticClass:\"button is-fullwidth\",staticStyle:{\"text-transform\":\"none\"},attrs:{\"expanded\":\"\"},on:{\"click\":function($event){return _vm.loadRdfFromURL(_vm.URI4Load)}}},[_vm._v(\"Load\")])],1),_c('b-step-item',{attrs:{\"label\":\"Edit\",\"icon\":\"pencil\",\"disabled\":!_vm.rdfYaml}},[(_vm.stepIndex == 1)?_c('section',[_c('dataset',{attrs:{\"init-rdf\":_vm.rdf,\"files\":_vm.rdfFiles},on:{\"submit\":_vm.submitRDF}})],1):_vm._e()]),_c('b-step-item',{attrs:{\"label\":\"Upload\",\"icon\":\"upload\"}},[(_vm.rdfYaml)?_c('b-field',{staticStyle:{\"height\":\"260px\",\"overflow\":\"auto\"},attrs:{\"label\":\"RDF content\"}},[(_vm.rdfYaml)?_c('markdown',{attrs:{\"baseUrl\":\"\",\"content\":_vm.formatedModelYaml}}):_vm._e()],1):_vm._e(),(_vm.zipPackage)?_c('b-field',{attrs:{\"label\":\"Files\"}},[_c('b-taglist',{attrs:{\"attached\":\"\",\"rounded\":\"\"}},_vm._l((_vm.zipPackage.files),function(file,name){return _c('b-tag',{key:name,attrs:{\"rounded\":\"\"}},[_vm._v(_vm._s(name))])}),1)],1):(_vm.editedFiles)?_c('b-field',{attrs:{\"label\":\"Files\"}},[_c('b-taglist',{attrs:{\"attached\":\"\",\"rounded\":\"\"}},_vm._l((_vm.editedFiles),function(file){return _c('b-tag',{key:file.name,attrs:{\"rounded\":\"\"}},[_vm._v(_vm._s(file.name))])}),1)],1):_vm._e(),_c('div',{staticClass:\"column\"},[(_vm.zipPackage || _vm.editedFiles)?_c('b-button',{staticClass:\"button is-fullwidth\",staticStyle:{\"text-transform\":\"none\"},attrs:{\"expanded\":\"\",\"icon-left\":\"download\"},on:{\"click\":function($event){return _vm.exportPackage()}}},[_vm._v(\"Export package locally (Optional)\")]):_vm._e()],1),_c('br'),(_vm.similarDeposits && _vm.similarDeposits.length > 0)?_c('div',[_c('label',{staticClass:\"label\"},[_vm._v(\"Similar Existing Items\")]),_c('p',[_vm._v(\" The following published deposit(s) are similar to yours (matched by name), please make sure you are using distinctive names to avoid confusion to the users. \")]),_vm._l((_vm.similarDeposits),function(item){return _c('b-notification',{key:item.id,attrs:{\"type\":item.name === _vm.rdf.name ? 'is-danger' : null,\"aria-close-label\":\"Close notification\"}},[_c('h1',[_c('a',{attrs:{\"href\":item.config._deposit.links.html,\"target\":\"_blank\"}},[_vm._v(_vm._s(item.name))])]),_c('p',[_vm._v(_vm._s(item.description.slice(0, 200)))]),_c('p',[_vm._v(\" Authors: \"+_vm._s(item.authors && item.authors .map(function (author) { return author.name.split(\";\")[0]; }) .join(\",\"))+\" \")]),_c('p',[_vm._v(\"Uploaded: \"+_vm._s(item.config._deposit.updated))]),_c('br'),_c('div',{staticClass:\"columns\"},[(\n                _vm.userId &&\n                  item.config._deposit &&\n                  item.config._deposit.owners.includes(_vm.userId)\n              )?_c('b-button',{staticClass:\"column button is-primary is-light is-fullwidth\",attrs:{\"expanded\":\"\",\"icon-left\":\"autorenew\"},on:{\"click\":function($event){return _vm.createOrUpdateDeposit(item.config._deposit.id, false)}}},[_c('span',[_vm._v(\"Update as a new version\")])]):_vm._e()],1)])}),_c('b-button',{staticClass:\"button is-fullwidth\",class:{\n            'is-primary': _vm.sameNameDeposits && _vm.sameNameDeposits.length > 0\n          },staticStyle:{\"text-transform\":\"none\"},attrs:{\"expanded\":\"\",\"icon-left\":\"arrow-left\"},on:{\"click\":function($event){_vm.stepIndex = 1}}},[_vm._v(\"Go back to rename\")])],2):_vm._e(),_c('br'),_c('b-field',[_c('b-switch',{model:{value:(_vm.requestedJoinCommunity),callback:function ($$v) {_vm.requestedJoinCommunity=$$v},expression:\"requestedJoinCommunity\"}},[_vm._v(\" Apply for listing in the \"),_c('a',{attrs:{\"href\":_vm.client.baseURL + '/communities/shareloc-xyz/',\"target\":\"_blank\"}},[_vm._v(\"ShareLoc.XYZ community list\")])])],1),(_vm.uploadStatus)?_c('p',[_vm._v(_vm._s(_vm.uploadStatus))]):_vm._e(),(_vm.uploadProgress)?_c('b-progress',{attrs:{\"type\":\"is-primary\",\"value\":_vm.uploadProgress,\"size\":\"is-small\",\"expanded\":\"\"}}):_vm._e(),_c('div',{staticClass:\"columns\"},[(_vm.client && (_vm.zipPackage || _vm.editedFiles))?_c('div',{staticClass:\"column\"},[_c('b-button',{staticClass:\"button is-primary is-light is-fullwidth\",attrs:{\"disabled\":_vm.uploadProgress ||\n                (_vm.sameNameDeposits && _vm.sameNameDeposits.length > 0),\"expanded\":\"\",\"icon-left\":\"plus\"},on:{\"click\":function($event){return _vm.createOrUpdateDeposit()}}},[_c('span',[_vm._v(\"Upload as new deposit\")])])],1):_vm._e(),(_vm.client && (_vm.zipPackage || _vm.editedFiles) && _vm.depositId)?_c('div',{staticClass:\"column\"},[_c('b-button',{staticClass:\"button is-primary is-light is-fullwidth\",attrs:{\"disabled\":_vm.uploadProgress,\"expanded\":\"\",\"icon-left\":\"autorenew\"},on:{\"click\":function($event){return _vm.createOrUpdateDeposit(_vm.depositId, false)}}},[_c('span',[_vm._v(\"Add new version to deposit\")])])],1):_vm._e()])],1),_c('b-step-item',{attrs:{\"label\":\"Publish\",\"icon\":\"share-variant\",\"disabled\":\"\"}},[(_vm.publishedUrl)?_c('b-notification',{attrs:{\"type\":\"is-success\",\"has-icon\":\"\",\"aria-close-label\":\"Close notification\"}},[_c('h1',[_vm._v(\"Published on Zenodo\")]),_c('h2',[_vm._v(\"DOI: \"+_vm._s(_vm.publishedDOI))]),_c('h2',[_c('a',{attrs:{\"href\":_vm.publishedUrl,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.publishedUrl))])]),_c('p',[_vm._v(\" Note: Newly uploaded item may not appear immediately in the resource list. \")]),(_vm.requestedJoinCommunity)?_c('p',[_vm._v(\" To be listed as part of the verified ShareLoc.XYZ community list, a notification will be sent to the admin team aand we will review request soon. \")]):_vm._e()]):(_vm.prereserveDOI)?_c('b-notification',{attrs:{\"has-icon\":\"\",\"aria-close-label\":\"Close notification\"}},[_c('h1',[_vm._v(\"Ready to publish\")]),_c('h2',[_vm._v(\"Preserved DOI: \"+_vm._s(_vm.prereserveDOI.doi))]),_c('h2',[_vm._v(\" You can also review and add additional information on Zenodo: \"),_c('a',{attrs:{\"href\":_vm.prereserveUrl,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.prereserveUrl))])]),_c('p',[_vm._v(\" Note: Please check carefully before publishing, it won't be easy to remove items after made public. New changes will be added as a new version. \")])]):_vm._e(),(_vm.client && _vm.client.credential && _vm.uploaded && !_vm.publishedUrl)?_c('b-button',{staticClass:\"button is-primary is-fullwidth\",attrs:{\"expanded\":\"\"},on:{\"click\":function($event){return _vm.publishDeposition()}}},[_c('b-icon',{attrs:{\"icon\":\"upload\"}}),_c('span',[_vm._v(\"Publish\")])],1):_vm._e()],1)],1),_c('section',{staticStyle:{\"padding\":\"10px\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('label',{staticClass:\"label\",attrs:{\"for\":_vm.item.label}},[_vm._v(\" \"+_vm._s(_vm.item.label)+\" \"),(_vm.item.isRequired !== false)?_c('sup',{staticClass:\"has-text-grey-light is-size-7\"},[_vm._v(\"*\")]):_vm._e()]),_c('div',{staticClass:\"control\"},[_c('b-taginput',{attrs:{\"id\":_vm.item.label,\"data\":_vm.filteredTags,\"allow-new\":_vm.item.allow_new !== false,\"open-on-focus\":_vm.item.options && _vm.item.options.length > 0,\"autocomplete\":\"\",\"icon\":_vm.item.icon || 'label',\"placeholder\":_vm.item.placeholder},on:{\"input\":function($event){return _vm.$emit('input', _vm.value)},\"typing\":_vm.getFilteredTags},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}),(_vm.error)?_c('p',{staticClass:\"help is-danger\"},[_vm._v(\" \"+_vm._s(_vm.error)+\" \")]):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <label :for=\"item.label\" class=\"label\">\n      {{ item.label }}\n      <sup\n        class=\"has-text-grey-light is-size-7\"\n        v-if=\"item.isRequired !== false\"\n        >*</sup\n      >\n    </label>\n    <div class=\"control\">\n      <b-taginput\n        :id=\"item.label\"\n        v-model=\"value\"\n        :data=\"filteredTags\"\n        :allow-new=\"item.allow_new !== false\"\n        :open-on-focus=\"item.options && item.options.length > 0\"\n        autocomplete\n        @input=\"$emit('input', value)\"\n        :icon=\"item.icon || 'label'\"\n        :placeholder=\"item.placeholder\"\n        @typing=\"getFilteredTags\"\n      >\n      </b-taginput>\n      <p v-if=\"error\" class=\"help is-danger\">\n        {{ error }}\n      </p>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"tags\",\n  props: {\n    error: {\n      type: String,\n      default: null\n    },\n    item: {\n      type: Object,\n      required: true\n    }\n  },\n  data: () => ({\n    value: undefined,\n    filteredTags: []\n  }),\n  mounted() {\n    this.filteredTags = this.item.options;\n  },\n  created() {\n    this.value = this.item.value;\n    this.item.value && this.$emit(\"input\", this.item.value);\n  },\n  methods: {\n    getFilteredTags(text) {\n      this.filteredTags =\n        this.item.options &&\n        this.item.options.filter(option => {\n          return (\n            option\n              .toString()\n              .toLowerCase()\n              .indexOf(text.toLowerCase()) >= 0\n          );\n        });\n    }\n  }\n};\n</script>\n<style>\n.autocomplete > .dropdown-menu > .dropdown-content {\n  display: block !important;\n  width: 100%;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tagInputField.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tagInputField.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tagInputField.vue?vue&type=template&id=6e60a27c&\"\nimport script from \"./tagInputField.vue?vue&type=script&lang=js&\"\nexport * from \"./tagInputField.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tagInputField.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('label',{staticClass:\"label\",attrs:{\"for\":_vm.item.label}},[_vm._v(\" \"+_vm._s(_vm.item.label)+\" \"),(_vm.item.isRequired !== false)?_c('sup',{staticClass:\"has-text-grey-light is-size-7\"},[_vm._v(\"*\")]):_vm._e()]),_c('div',{staticClass:\"control\"},[_c('section',[_c('b-field',[_c('b-upload',{attrs:{\"id\":_vm.item.label,\"multiple\":\"\",\"drag-drop\":\"\",\"expanded\":\"\"},on:{\"input\":function($event){return _vm.updateFiles()}},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},[_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"content has-text-centered\"},[_c('b-icon',{attrs:{\"icon\":\"upload\",\"size\":\"is-large\"}}),_vm._v(\" Drop additional files here \"),_c('br'),_vm._l((_vm.value),function(file,index){return _c('span',{key:index,staticClass:\"tag is-primary\"},[_vm._v(\" \"+_vm._s(file.name.slice(0, 20) + (file.name.length > 20 ? \"...\" : \"\"))+\" \"),_c('button',{staticClass:\"delete is-small\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.removeFile(_vm.item.label, index)}}})])}),_c('br'),(_vm.value && _vm.value.length > 0)?_c('b-button',{staticClass:\"is-small\",on:{\"click\":function($event){$event.preventDefault();return _vm.clearFiles()}}},[_vm._v(\"Clear files\")]):_vm._e()],2)])])],1)],1),(_vm.error)?_c('p',{staticClass:\"help is-danger\"},[_vm._v(\" \"+_vm._s(_vm.error)+\" \")]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <label :for=\"item.label\" class=\"label\">\n      {{ item.label }}\n      <sup\n        class=\"has-text-grey-light is-size-7\"\n        v-if=\"item.isRequired !== false\"\n        >*</sup\n      >\n    </label>\n    <div class=\"control\">\n      <section>\n        <b-field>\n          <b-upload\n            :id=\"item.label\"\n            v-model=\"value\"\n            @input=\"updateFiles()\"\n            multiple\n            drag-drop\n            expanded\n          >\n            <section class=\"section\">\n              <div class=\"content has-text-centered\">\n                <b-icon icon=\"upload\" size=\"is-large\"></b-icon>\n\n                Drop additional files here\n                <br />\n                <span\n                  v-for=\"(file, index) in value\"\n                  :key=\"index\"\n                  class=\"tag is-primary\"\n                >\n                  {{\n                    file.name.slice(0, 20) +\n                      (file.name.length > 20 ? \"...\" : \"\")\n                  }}\n                  <button\n                    class=\"delete is-small\"\n                    type=\"button\"\n                    @click.prevent=\"removeFile(item.label, index)\"\n                  ></button>\n                </span>\n                <br />\n                <b-button\n                  v-if=\"value && value.length > 0\"\n                  class=\"is-small\"\n                  @click.prevent=\"clearFiles()\"\n                  >Clear files</b-button\n                >\n              </div>\n            </section>\n          </b-upload>\n        </b-field>\n      </section>\n      <p v-if=\"error\" class=\"help is-danger\">\n        {{ error }}\n      </p>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"files\",\n  props: {\n    error: {\n      type: String,\n      default: null\n    },\n    item: {\n      type: Object,\n      required: true\n    }\n  },\n  data: () => ({\n    value: undefined\n  }),\n  created() {\n    this.value = this.item.value;\n    this.item.value && this.$emit(\"input\", this.item.value);\n  },\n  methods: {\n    removeFile(label, index) {\n      this.value.splice(index, 1);\n      this.$forceUpdate();\n    },\n    clearFiles() {\n      this.value = null;\n      this.$emit(\"input\", null);\n      this.$forceUpdate();\n    },\n    updateFiles() {\n      this.$emit(\"input\", this.value);\n      // we need this because otherwise we cannot update the list on the interface\n      this.$forceUpdate();\n    },\n    trimEllip(str, length) {\n      if (!str) return str;\n      if (typeof str === \"object\") str = str.toString();\n      return str.length > length ? str.substring(0, length) + \"...\" : str;\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dropFilesField.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dropFilesField.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dropFilesField.vue?vue&type=template&id=768ff976&\"\nimport script from \"./dropFilesField.vue?vue&type=script&lang=js&\"\nexport * from \"./dropFilesField.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dataset\"},[(_vm.jsonFields && _vm.jsonFields.length > 0)?_c('form-json',{attrs:{\"btnReset\":{ value: 'Reset' },\"btnSubmit\":{ value: 'OK' },\"camelizePayloadKeys\":false,\"formFields\":_vm.jsonFields,\"formName\":'metadata',\"components\":_vm.components},on:{\"formSubmitted\":_vm.formSubmitted}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('label',{staticClass:\"label\",attrs:{\"for\":_vm.item.label}},[_vm._v(\" \"+_vm._s(_vm.item.label)+\" \"),(_vm.item.isRequired !== false)?_c('sup',{staticClass:\"has-text-grey-light is-size-7\"},[_vm._v(\"*\")]):_vm._e()]),_c('div',{staticClass:\"control\"},[_c('section',[_c('b-field',[_c('b-upload',{attrs:{\"id\":_vm.item.label,\"multiple\":\"\",\"drag-drop\":\"\",\"expanded\":\"\"},on:{\"input\":function($event){return _vm.updateFiles()}},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},[_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"content has-text-centered\"},[_c('b-icon',{attrs:{\"icon\":\"upload\",\"size\":\"is-large\"}}),_vm._v(\" Drop additional files here \")],1)])])],1),_vm._l((_vm.value),function(file,index){return _c('span',{key:index,staticClass:\"tag is-primary\",staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.previewFile(file)}}},[_vm._v(\" \"+_vm._s(file.name.slice(0, 20) + (file.name.length > 20 ? \"...\" : \"\"))+\" \"),_c('button',{staticClass:\"delete is-small\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.removeFile(_vm.item.label, index)}}})])}),_c('div',{attrs:{\"id\":_vm.containerId}}),(_vm.smlmPlugin)?_c('span',[_c('b-button',{staticClass:\"button is-primary is-small\",staticStyle:{\"text-transform\":\"none\",\"display\":\"inline-block\"},attrs:{\"icon-left\":\"camera\"},on:{\"click\":_vm.capture}},[_vm._v(\"Take screenshot\")])],1):_vm._e(),_c('span',[_vm._v(\"(You need to set at least one screenshot)\")]),(_vm.screenshots && _vm.screenshots.length > 0)?_c('b-carousel',{attrs:{\"progress\":false,\"autoplay\":false,\"progress-type\":\"is-primary\"}},_vm._l((_vm.screenshots),function(screenshot,i){return _c('b-carousel-item',{key:i},[_c('b-button',{staticStyle:{\"position\":\"absolute\"},attrs:{\"type\":\"is-danger is-small\",\"icon-left\":\"delete\"},on:{\"click\":function($event){$event.preventDefault();return _vm.removeScreenshot(i)}}},[_vm._v(\" Remove \")]),_c('img',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"src\":screenshot,\"alt\":\"Screenshot\"}})],1)}),1):_vm._e()],2),(_vm.error)?_c('p',{staticClass:\"help is-danger\"},[_vm._v(\" \"+_vm._s(_vm.error)+\" \")]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <label :for=\"item.label\" class=\"label\">\n      {{ item.label }}\n      <sup\n        class=\"has-text-grey-light is-size-7\"\n        v-if=\"item.isRequired !== false\"\n        >*</sup\n      >\n    </label>\n    <div class=\"control\">\n      <section>\n        <b-field>\n          <b-upload\n            :id=\"item.label\"\n            v-model=\"value\"\n            @input=\"updateFiles()\"\n            multiple\n            drag-drop\n            expanded\n          >\n            <section class=\"section\">\n              <div class=\"content has-text-centered\">\n                <b-icon icon=\"upload\" size=\"is-large\"></b-icon>\n\n                Drop additional files here\n              </div>\n            </section>\n          </b-upload>\n        </b-field>\n        <span\n          v-for=\"(file, index) in value\"\n          :key=\"index\"\n          class=\"tag is-primary\"\n          style=\"cursor: pointer\"\n          @click=\"previewFile(file)\"\n        >\n          {{ file.name.slice(0, 20) + (file.name.length > 20 ? \"...\" : \"\") }}\n          <button\n            class=\"delete is-small\"\n            type=\"button\"\n            @click.prevent=\"removeFile(item.label, index)\"\n          ></button>\n        </span>\n        <div :id=\"containerId\"></div>\n        <span v-if=\"smlmPlugin\">\n          <b-button\n            style=\"text-transform:none;display:inline-block;\"\n            class=\"button is-primary is-small\"\n            @click=\"capture\"\n            icon-left=\"camera\"\n            >Take screenshot</b-button\n          >\n        </span>\n        <span>(You need to set at least one screenshot)</span>\n\n        <b-carousel\n          v-if=\"screenshots && screenshots.length > 0\"\n          :progress=\"false\"\n          :autoplay=\"false\"\n          progress-type=\"is-primary\"\n        >\n          <b-carousel-item v-for=\"(screenshot, i) in screenshots\" :key=\"i\">\n            <b-button\n              style=\"position: absolute;\"\n              type=\"is-danger is-small\"\n              @click.prevent=\"removeScreenshot(i)\"\n              icon-left=\"delete\"\n            >\n              Remove\n            </b-button>\n            <img\n              style=\"width:100%;height:100%;\"\n              :src=\"screenshot\"\n              alt=\"Screenshot\"\n            />\n          </b-carousel-item>\n        </b-carousel>\n      </section>\n\n      <p v-if=\"error\" class=\"help is-danger\">\n        {{ error }}\n      </p>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"file-preview\",\n  props: {\n    error: {\n      type: String,\n      default: null\n    },\n    item: {\n      type: Object,\n      required: true\n    }\n  },\n  data: () => ({\n    smlmPlugin: null,\n    value: undefined,\n    screenshots: [],\n    containerId:\n      \"preview-container-\" +\n      Math.random()\n        .toString(36)\n        .substr(2, 9)\n  }),\n  created() {\n    this.value = this.item.value;\n    this.item.value && this.$emit(\"input\", this.item.value);\n    const api = window.imjoy.api;\n    const baseUrl = window.location.origin + window.location.pathname;\n    api.getPlugin(baseUrl + \"SMLMFileIO.imjoy.html\");\n  },\n  methods: {\n    removeScreenshot(index) {\n      this.screenshots.splice(index, 1);\n      // this.selectedScreenshot = this.screenshots.length-1;\n      this.$emit(\"input\", this.value);\n    },\n    async capture() {\n      const img = await this.smlmPlugin.capture();\n      if (!this.screenshots.includes(img)) this.screenshots.push(img);\n      this.value.screenshots = this.screenshots;\n      // this.selectedScreenshot = this.screenshots.length-1;\n      this.$emit(\"input\", this.value);\n    },\n    removeFile(label, index) {\n      this.value.splice(index, 1);\n      this.$forceUpdate();\n    },\n    clearFiles() {\n      this.value = null;\n      this.$emit(\"input\", null);\n      this.$forceUpdate();\n    },\n    updateFiles() {\n      this.$emit(\"input\", this.value);\n      // we need this because otherwise we cannot update the list on the interface\n      this.$forceUpdate();\n      if (this.value && this.value.length > 0)\n        this.previewFile(this.value[this.value.length - 1]);\n    },\n    trimEllip(str, length) {\n      if (!str) return str;\n      if (typeof str === \"object\") str = str.toString();\n      return str.length > length ? str.substring(0, length) + \"...\" : str;\n    },\n    async previewFile(file) {\n      const api = window.imjoy.api;\n      const smlmPlugin = await api.getPlugin(\"SMLM File IO\");\n      const container = document.getElementById(this.containerId);\n      const w = container.getBoundingClientRect().width;\n      container.style.height = w / 2 + 111 + \"px\"; // add 111px for the plane slider\n      const loadingComponent = this.$buefy.loading.open({\n        container\n      });\n      try {\n        await smlmPlugin.show(file, this.containerId);\n        this.smlmPlugin = smlmPlugin;\n        // eslint-disable-next-line no-useless-catch\n      } catch (e) {\n        throw e;\n      } finally {\n        loadingComponent.close();\n      }\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./filePreviewField.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./filePreviewField.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./filePreviewField.vue?vue&type=template&id=718631f1&\"\nimport script from \"./filePreviewField.vue?vue&type=script&lang=js&\"\nexport * from \"./filePreviewField.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"dataset\">\n    <form-json\n      v-if=\"jsonFields && jsonFields.length > 0\"\n      :btnReset=\"{ value: 'Reset' }\"\n      :btnSubmit=\"{ value: 'OK' }\"\n      :camelizePayloadKeys=\"false\"\n      :formFields=\"jsonFields\"\n      :formName=\"'metadata'\"\n      @formSubmitted=\"formSubmitted\"\n      :components=\"components\"\n    >\n    </form-json>\n    <!-- <b-menu class=\"is-custom-mobile\">\n            <b-menu-list label=\"Menu\">\n              <b-menu-item\n                icon=\"information-outline\"\n                label=\"Info\"\n              ></b-menu-item>\n              <b-menu-item\n                active\n                expanded\n                icon=\"settings\"\n                label=\"Administrator\"\n              >\n                <b-menu-item icon=\"account\" label=\"Users\"></b-menu-item>\n                <b-menu-item\n                  icon=\"cellphone-link\"\n                  label=\"Devices\"\n                ></b-menu-item>\n                <b-menu-item\n                  icon=\"cash-multiple\"\n                  label=\"Payments\"\n                  disabled\n                ></b-menu-item>\n              </b-menu-item>\n              <b-menu-item icon=\"account\" label=\"My Account\">\n                <b-menu-item\n                  icon=\"account-box\"\n                  label=\"Account data\"\n                ></b-menu-item>\n                <b-menu-item\n                  icon=\"home-account\"\n                  label=\"Addresses\"\n                ></b-menu-item>\n              </b-menu-item>\n            </b-menu-list>\n            <b-menu-list>\n              <b-menu-item label=\"Expo\" icon=\"link\"></b-menu-item>\n            </b-menu-list>\n            <b-menu-list label=\"Actions\">\n              <b-menu-item icon=\"logout\" label=\"Logout\"></b-menu-item>\n            </b-menu-list>\n          </b-menu> -->\n  </div>\n</template>\n<script>\nimport JSZip from \"jszip\";\nimport spdxLicenseList from \"spdx-license-list/full\";\nimport \"vue-form-json/dist/vue-form-json.css\";\nimport formJson from \"vue-form-json/dist/vue-form-json.common.js\";\n// import Markdown from \"@/components/Markdown.vue\";\nimport TagInputField from \"@/components/tagInputField.vue\";\nimport DropFilesField from \"@/components/dropFilesField.vue\";\nimport FilePreviewField from \"@/components/filePreviewField.vue\";\n// import marked from \"marked\";\n// import DOMPurify from \"dompurify\";\nimport { mapState } from \"vuex\";\nimport yaml from \"js-yaml\";\nimport { randId, dataURLtoFile, resizeImage } from \"../utils\";\n\nexport default {\n  name: \"dataset\",\n  props: [\"resourceId\", \"initRdf\", \"files\"],\n  components: {\n    \"form-json\": formJson,\n    // markdown: Markdown,\n    // eslint-disable-next-line vue/no-unused-components\n    TagInputField,\n    // eslint-disable-next-line vue/no-unused-components\n    DropFilesField,\n    // eslint-disable-next-line vue/no-unused-components\n    FilePreviewField\n  },\n  computed: {\n    components: () => ({ TagInputField, DropFilesField, FilePreviewField }),\n    ...mapState({\n      allTags: state => state.allTags\n    })\n  },\n  data() {\n    return {\n      jsonFields: [],\n      expandOnHover: false,\n      expandWithDelay: false,\n      reduce: false,\n      fileField: {},\n      rdf: null\n    };\n  },\n  mounted() {\n    this.initializeRdfForm(this.initRdf, this.files);\n    this.fileField = {\n      name: \"Files\",\n      value: this.files\n    };\n    this.$root.$on(\"formSubmitted\", this.formSubmitted);\n  },\n  methods: {\n    transformFields(fields) {\n      const typeMapping = {};\n      for (let k in this.components) {\n        typeMapping[this.components[k].name] = k;\n      }\n      // mapping type to component name\n      for (let field of fields) {\n        if (typeMapping[field.type]) {\n          field.is = typeMapping[field.type];\n          delete field.type;\n        }\n      }\n      return fields;\n    },\n    async formSubmitted(result) {\n      const rdfNameMapping = {\n        type: \"Type\",\n        name: \"Name\",\n        description: \"Description\",\n        // version: \"Version\",\n        license: \"License\",\n        authors: \"Authors\",\n        // source: \"Source\",\n        // git_repo: \"Git Repository\",\n        tags: \"Tags\"\n        // links: \"Links\"\n      };\n      const values = result.values;\n      this.rdf = {};\n      for (let k in rdfNameMapping) {\n        this.rdf[k] = values[rdfNameMapping[k]];\n      }\n      let rdfFileName = \"rdf.yaml\";\n\n      this.rdf.type = \"dataset\";\n      this.rdf.tags = this.rdf.tags || [];\n      this.rdf.config = this.rdf.config || {};\n      this.rdf.config._rdf_file = \"./\" + rdfFileName;\n      this.rdf.authors = this.rdf.authors.split(\",\").map(name => {\n        return { name: name.trim() };\n      });\n\n      if (!this.rdf.tags.includes(\"smlm\")) this.rdf.tags.push(\"smlm\");\n\n      const editedFiles = values[\"Files\"];\n      // Add documentation\n      if (this.rdf.config._docstring) {\n        const blob = new Blob([this.rdf.config._docstring], {\n          type: \"text/markdown\"\n        });\n        const file = new File([blob], \"README.md\");\n        this.rdf.documentation = \"./README.md\";\n        editedFiles.push(file);\n      }\n\n      // Add screenshots\n      if (editedFiles.screenshots) {\n        this.rdf.covers = this.rdf.covers || [];\n        for (let img of editedFiles.screenshots) {\n          const blob = dataURLtoFile(img);\n          const fileName = \"screenshot-\" + randId();\n          const file = new File([blob], fileName + \".png\", {\n            type: blob.type\n          });\n          editedFiles.push(file);\n\n          const resizedImage = await resizeImage({\n            file,\n            maxSize: 256\n          });\n\n          const fileSmall = new File(\n            [resizedImage],\n            fileName + \"_thumbnail.png\",\n            {\n              type: resizedImage.type\n            }\n          );\n          editedFiles.push(fileSmall);\n\n          this.rdf.covers.push(\"./\" + fileName + \"_thumbnail.png\");\n        }\n        delete editedFiles.screenshots;\n      }\n\n      // TODO: fix attachments.files for the packager\n      const rdf = Object.assign({}, this.rdf);\n      delete rdf._metadata;\n      console.log(\"RDF: \", rdf);\n      const rdfYaml = yaml.dump(rdf);\n      // Add rdf.yaml\n      const blob = new Blob([rdfYaml], {\n        type: \"application/yaml\"\n      });\n      const file = new File([blob], rdfFileName);\n      editedFiles.push(file);\n\n      // save the files to zip\n      const zipPackage = new JSZip();\n      editedFiles.map(file => {\n        zipPackage.file(file.name, file);\n      });\n\n      this.rdf.config._zip = zipPackage;\n      this.rdf.config._yaml = rdfYaml;\n      this.$emit(\"submit\", this.rdf);\n    },\n    initializeRdfForm(rdf, files) {\n      this.rdf = rdf || {};\n      // this.rdf.links = this.rdf.links || [];\n      this.rdf.config = this.rdf.config || {};\n      this.jsonFields = this.transformFields([\n        {\n          label: \"Files\",\n          type: \"file-preview\",\n          value: files,\n          isRequired: true\n        },\n        {\n          label: \"Name\",\n          placeholder: \"name\",\n          value: this.rdf.name\n        },\n        {\n          label: \"Description\",\n          placeholder: \"description\",\n          value: this.rdf.description,\n          help: \"A short description in one sentence\"\n        },\n        {\n          label: \"Authors\",\n          placeholder: \"authors (Full name, separated by comma)\",\n          value:\n            this.rdf.authors &&\n            this.rdf.authors.map(author => author.name.split(\";\")[0]).join(\",\")\n        },\n        // {\n        //   label: \"Source\",\n        //   placeholder: \"A doi or URL to the source of the item\",\n        //   isRequired: false,\n        //   value: this.rdf.version\n        // },\n        // {\n        //   label: \"Version\",\n        //   placeholder: \"Version in MAJOR.MINOR.PATCH format(e.g. 0.1.0)\",\n        //   isRequired: false,\n        //   value: this.rdf.version || \"0.1.0\"\n        // },\n        {\n          label: \"License\",\n          type: \"select\",\n          placeholder: \"Select your license\",\n          options: Object.keys(spdxLicenseList).map(opt => {\n            return {\n              text: opt,\n              value: opt,\n              selected: this.rdf.license === opt\n            };\n          })\n        },\n        {\n          label: \"Tags\",\n          type: \"tags\",\n          value: this.rdf.tags,\n          placeholder: \"Add a tag\",\n          options: this.allTags,\n          allow_new: true,\n          icon: \"label\",\n          isRequired: true\n        },\n        {\n          label: \"Documentation\",\n          placeholder: \"\",\n          type: \"textarea\",\n          value: this.rdf.config._docstring,\n          help: \"Documentation in markdown format\",\n          isRequired: false\n        }\n        // {\n        //   label: \"Links\",\n        //   type: \"tags\",\n        //   value: this.rdf.links,\n        //   placeholder: \"Add a link (resource item ID)\",\n        //   options: this.resourceItems.map(item => item.id),\n        //   allow_new: true,\n        //   icon: \"vector-link\",\n        //   isRequired: false\n        // }\n      ]);\n    }\n  }\n};\n</script>\n<style>\n.dataset {\n  height: 100%;\n}\n.p-1 {\n  padding: 1em;\n}\n.sidebar-page {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  min-height: 100%;\n}\n.sidebar-layout {\n  display: flex;\n  flex-direction: row;\n  min-height: 100%;\n}\n.sidebar-content {\n  height: 100% !important;\n}\n.viewer {\n  width: 100%;\n  height: 100%;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dataset.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dataset.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dataset.vue?vue&type=template&id=32acf818&\"\nimport script from \"./Dataset.vue?vue&type=script&lang=js&\"\nexport * from \"./Dataset.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Dataset.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"upload\">\n    <b-notification\n      v-if=\"client.isSandbox\"\n      type=\"is-warning\"\n      has-icon\n      aria-close-label=\"Close notification\"\n      role=\"alert\"\n    >\n      You are using the development mode of the upload feature, this means files\n      will be uploaded the sandbox version of Zenodo\n      (https://sandbox.zenodo.org). The uploaded files can be removed from\n      Zenodo at anytime without notice.\n    </b-notification>\n    <b-steps\n      position=\"left\"\n      :has-navigation=\"false\"\n      v-model=\"stepIndex\"\n      label-position=\"right\"\n    >\n      <b-step-item :disabled=\"rdfYaml\" label=\"Start\" icon=\"file\">\n        <b-field label=\"Option 1: Create a new deposit\" expanded>\n          <b-button\n            style=\"text-transform:none;\"\n            class=\"button is-fullwidth\"\n            @click=\"startUpload\"\n            expanded\n            >Start Upload</b-button\n          >\n        </b-field>\n        <b-field\n          label=\"Option 2: Update an existing deposit\"\n          message=\"A URI can be a Zenodo DOI, Zenodo URL or Github URL to the RDF file\"\n        >\n          <b-input\n            type=\"url\"\n            placeholder=\"Type a DOI or URL here\"\n            v-model=\"URI4Load\"\n          >\n          </b-input>\n        </b-field>\n\n        <b-button\n          style=\"text-transform:none;\"\n          class=\"button is-fullwidth\"\n          @click=\"loadRdfFromURL(URI4Load)\"\n          expanded\n          >Load</b-button\n        >\n      </b-step-item>\n\n      <b-step-item label=\"Edit\" icon=\"pencil\" :disabled=\"!rdfYaml\">\n        <section v-if=\"stepIndex == 1\">\n          <dataset\n            @submit=\"submitRDF\"\n            :init-rdf=\"rdf\"\n            :files=\"rdfFiles\"\n          ></dataset>\n        </section>\n      </b-step-item>\n\n      <b-step-item label=\"Upload\" icon=\"upload\">\n        <b-field\n          label=\"RDF content\"\n          style=\"height: 260px; overflow: auto;\"\n          v-if=\"rdfYaml\"\n        >\n          <markdown\n            v-if=\"rdfYaml\"\n            baseUrl=\"\"\n            :content=\"formatedModelYaml\"\n          ></markdown>\n        </b-field>\n        <b-field v-if=\"zipPackage\" label=\"Files\">\n          <b-taglist attached rounded>\n            <b-tag\n              v-for=\"(file, name) in zipPackage.files\"\n              :key=\"name\"\n              rounded\n              >{{ name }}</b-tag\n            >\n          </b-taglist>\n        </b-field>\n        <b-field v-else-if=\"editedFiles\" label=\"Files\">\n          <b-taglist attached rounded>\n            <b-tag v-for=\"file in editedFiles\" :key=\"file.name\" rounded>{{\n              file.name\n            }}</b-tag>\n          </b-taglist>\n        </b-field>\n        <div class=\"column\">\n          <b-button\n            v-if=\"zipPackage || editedFiles\"\n            style=\"text-transform:none;\"\n            class=\"button is-fullwidth\"\n            @click=\"exportPackage()\"\n            expanded\n            icon-left=\"download\"\n            >Export package locally (Optional)</b-button\n          >\n        </div>\n        <br />\n        <div v-if=\"similarDeposits && similarDeposits.length > 0\">\n          <label class=\"label\">Similar Existing Items</label>\n          <p>\n            The following published deposit(s) are similar to yours (matched by\n            name), please make sure you are using distinctive names to avoid\n            confusion to the users.\n          </p>\n          <b-notification\n            v-for=\"item in similarDeposits\"\n            :key=\"item.id\"\n            :type=\"item.name === rdf.name ? 'is-danger' : null\"\n            aria-close-label=\"Close notification\"\n          >\n            <h1>\n              <a :href=\"item.config._deposit.links.html\" target=\"_blank\">{{\n                item.name\n              }}</a>\n            </h1>\n            <p>{{ item.description.slice(0, 200) }}</p>\n\n            <p>\n              Authors:\n              {{\n                item.authors &&\n                  item.authors\n                    .map(author => author.name.split(\";\")[0])\n                    .join(\",\")\n              }}\n            </p>\n            <p>Uploaded: {{ item.config._deposit.updated }}</p>\n            <br />\n            <div class=\"columns\">\n              <b-button\n                v-if=\"\n                  userId &&\n                    item.config._deposit &&\n                    item.config._deposit.owners.includes(userId)\n                \"\n                @click=\"createOrUpdateDeposit(item.config._deposit.id, false)\"\n                class=\"column button is-primary is-light is-fullwidth\"\n                expanded\n                icon-left=\"autorenew\"\n              >\n                <span>Update as a new version</span>\n              </b-button>\n            </div>\n          </b-notification>\n          <b-button\n            style=\"text-transform:none;\"\n            class=\"button is-fullwidth\"\n            @click=\"stepIndex = 1\"\n            expanded\n            :class=\"{\n              'is-primary': sameNameDeposits && sameNameDeposits.length > 0\n            }\"\n            icon-left=\"arrow-left\"\n            >Go back to rename</b-button\n          >\n        </div>\n        <br />\n        <b-field>\n          <b-switch v-model=\"requestedJoinCommunity\">\n            Apply for listing in the\n            <a\n              :href=\"client.baseURL + '/communities/shareloc-xyz/'\"\n              target=\"_blank\"\n              >ShareLoc.XYZ community list</a\n            >\n          </b-switch>\n        </b-field>\n        <p v-if=\"uploadStatus\">{{ uploadStatus }}</p>\n        <b-progress\n          v-if=\"uploadProgress\"\n          type=\"is-primary\"\n          :value=\"uploadProgress\"\n          size=\"is-small\"\n          expanded\n        >\n        </b-progress>\n        <div class=\"columns\">\n          <div v-if=\"client && (zipPackage || editedFiles)\" class=\"column\">\n            <b-button\n              :disabled=\"\n                uploadProgress ||\n                  (sameNameDeposits && sameNameDeposits.length > 0)\n              \"\n              @click=\"createOrUpdateDeposit()\"\n              class=\"button is-primary is-light is-fullwidth\"\n              expanded\n              icon-left=\"plus\"\n            >\n              <span>Upload as new deposit</span>\n            </b-button>\n          </div>\n          <div\n            v-if=\"client && (zipPackage || editedFiles) && depositId\"\n            class=\"column\"\n          >\n            <b-button\n              :disabled=\"uploadProgress\"\n              @click=\"createOrUpdateDeposit(depositId, false)\"\n              class=\"button is-primary is-light is-fullwidth\"\n              expanded\n              icon-left=\"autorenew\"\n            >\n              <span>Add new version to deposit</span>\n            </b-button>\n          </div>\n        </div>\n      </b-step-item>\n      <b-step-item label=\"Publish\" icon=\"share-variant\" disabled>\n        <b-notification\n          v-if=\"publishedUrl\"\n          type=\"is-success\"\n          has-icon\n          aria-close-label=\"Close notification\"\n        >\n          <h1>Published on Zenodo</h1>\n          <h2>DOI: {{ publishedDOI }}</h2>\n          <h2>\n            <a :href=\"publishedUrl\" target=\"_blank\">{{ publishedUrl }}</a>\n          </h2>\n          <p>\n            Note: Newly uploaded item may not appear immediately in the resource\n            list.\n          </p>\n          <p v-if=\"requestedJoinCommunity\">\n            To be listed as part of the verified ShareLoc.XYZ community list, a\n            notification will be sent to the admin team aand we will review\n            request soon.\n          </p>\n        </b-notification>\n        <b-notification\n          v-else-if=\"prereserveDOI\"\n          has-icon\n          aria-close-label=\"Close notification\"\n        >\n          <h1>Ready to publish</h1>\n          <h2>Preserved DOI: {{ prereserveDOI.doi }}</h2>\n          <h2>\n            You can also review and add additional information on Zenodo:\n            <a :href=\"prereserveUrl\" target=\"_blank\">{{ prereserveUrl }}</a>\n          </h2>\n          <p>\n            Note: Please check carefully before publishing, it won't be easy to\n            remove items after made public. New changes will be added as a new\n            version.\n          </p>\n        </b-notification>\n\n        <b-button\n          v-if=\"client && client.credential && uploaded && !publishedUrl\"\n          @click=\"publishDeposition()\"\n          class=\"button is-primary is-fullwidth\"\n          expanded\n        >\n          <b-icon icon=\"upload\"></b-icon>\n          <span>Publish</span>\n        </b-button>\n      </b-step-item>\n    </b-steps>\n\n    <section style=\"padding: 10px;\"></section>\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport { saveAs } from \"file-saver\";\n\nimport { rdfToMetadata, resolveDOI, getFullRdfFromDeposit } from \"../utils\";\nimport JSZip from \"jszip\";\nimport Markdown from \"@/components/Markdown.vue\";\nimport TagInputField from \"./tagInputField.vue\";\nimport DropFilesField from \"./dropFilesField.vue\";\nimport Dataset from \"./Dataset.vue\";\nimport doiRegex from \"doi-regex\";\nimport marked from \"marked\";\nimport DOMPurify from \"dompurify\";\n\nexport default {\n  name: \"upload\",\n  components: {\n    markdown: Markdown,\n    // eslint-disable-next-line vue/no-unused-components\n    TagInputField,\n    // eslint-disable-next-line vue/no-unused-components\n    DropFilesField,\n    Dataset\n  },\n  mounted() {\n    this.dropFiles = null;\n    this.uploadStatus = \"\";\n    this.uploadProgress = 0;\n    this.$root.$on(\"formSubmitted\", this.formSubmitted);\n  },\n  computed: {\n    sameNameDeposits() {\n      return (\n        this.similarDeposits &&\n        this.similarDeposits.filter(item => item.name === this.rdf.name)\n      );\n    },\n    formatedModelYaml() {\n      return this.rdfYaml && \"```yaml\\n\" + this.rdfYaml + \"\\n```\\n\";\n    },\n    prereserveUrl() {\n      if (this.prereserveDOI) {\n        return `${this.$store.state.zenodoBaseURL}/deposit/${this.prereserveDOI.recid}`;\n      } else {\n        return null;\n      }\n    },\n    userId() {\n      return (\n        this.client && this.client.credential && this.client.credential.user_id\n      );\n    },\n    ...mapState({\n      imjoy: state => state.imjoy,\n      resourceItems: state => state.resourceItems,\n      client: state => state.zenodoClient\n    })\n  },\n  data() {\n    return {\n      rdfFiles: null,\n      dropFiles: null,\n      uploadProgress: 0,\n      uploadStatus: \"\",\n      uploaded: false,\n      jsonFields: null,\n      rdfYaml: null,\n      rdf: null,\n      stepIndex: 0,\n      publishedUrl: null,\n      publishedDOI: null,\n      requestedJoinCommunity: true,\n      rdfType: \"model\",\n      zipPackage: null,\n      editedFiles: null,\n      prereserveDOI: null,\n      URI4Load: null,\n      similarDeposits: null,\n      depositId: null\n    };\n  },\n  methods: {\n    startUpload() {\n      this.rdf = {};\n      this.rdfFiles = [];\n      this.stepIndex = 1;\n    },\n    // async parseFile(file) {\n    //   const loadingComponent = this.$buefy.loading.open({\n    //     container: this.$el\n    //   });\n    //   try {\n    //     var new_zip = new JSZip();\n    //     this.zipPackage = await new_zip.loadAsync(file);\n    //     console.log(this.zipPackage.files);\n    //     if (\n    //       !this.zipPackage.files[\"model.yaml\"] &&\n    //       !this.zipPackage.files[\"rdf.yaml\"]\n    //     ) {\n    //       alert(\n    //         \"Invalid file: no model.yaml or rdf.yaml found in the model package.\"\n    //       );\n    //       return;\n    //     }\n    //     const configFile =\n    //       this.zipPackage.files[\"rdf.yaml\"] ||\n    //       this.zipPackage.files[\"model.yaml\"];\n    //     this.rdfYaml = await configFile.async(\"string\");\n    //     const rdf = yaml.load(this.rdfYaml);\n    //     rdf.type = rdf.type || \"model\";\n    //     rdf.config = rdf.config || {};\n    //     rdf.config._rdf_file = \"./\" + configFile.name; // assuming we will add the rdf.yaml/model.yaml to the zip\n    //     if (rdf.type === \"model\") {\n    //       rdf.links = rdf.links || [];\n    //       rdf.links.push(\"imjoy/BioImageIO-Packager\");\n    //     }\n    //     this.initializeRdfForm(rdf, Object.values(this.zipPackage.files));\n    //   } catch (e) {\n    //     console.error(e);\n    //     throw e\n    //   } finally {\n    //     loadingComponent.close();\n    //   }\n    // },\n    submitRDF(rdf) {\n      this.$nextTick(async () => {\n        this.rdfYaml = rdf.config._yaml;\n        delete rdf.config._yaml;\n        this.zipPackage = rdf.config._zip;\n        delete rdf.config._zip;\n        this.rdf = rdf;\n\n        this.similarDeposits = await this.client.getResourceItems({\n          sort: \"bestmatch\",\n          query: rdf.name\n        });\n        console.log(\"Similar deposits:\", this.similarDeposits);\n        // if there is any similar items, we can try to login first\n        if (this.similarDeposits.length > 0)\n          await this.client.getCredential(true);\n\n        this.stepIndex = 2;\n      });\n    },\n    async loadRdfFromURL(url) {\n      try {\n        const doiURLRegex = doiRegex.resolvePath();\n        if (doiURLRegex.test(url)) {\n          url = await resolveDOI(url.match(doiURLRegex)[4]);\n        } else if (doiRegex().test(url)) {\n          url = await resolveDOI(url);\n        }\n        const zenodoRegex = /zenodo.org\\/(record|deposit)\\/([0-9]+)/g;\n        const m = zenodoRegex.exec(url);\n        if (m) {\n          this.depositId = parseInt(m[2]);\n          let depositionInfo;\n          if (url.includes(\"/record/\"))\n            depositionInfo = await this.client.getDeposit(this.depositId);\n          else {\n            await this.client.getCredential(true);\n            depositionInfo = await this.client.retrieve(this.depositId);\n          }\n          console.log(\"orcid matched: \" + this.depositId, depositionInfo);\n          this.rdf = await getFullRdfFromDeposit(depositionInfo);\n          this.zipPackage = null;\n          this.files = depositionInfo.files.map(item => {\n            return {\n              type: \"remote\",\n              name: item.filename || item.key, // depending on what api we use, it may be in two different format\n              size: item.filesize || item.size,\n              url: item.links.self,\n              checksum: item.checksum\n            };\n          });\n          // load files\n          this.rdfFiles = depositionInfo.files.map(item => {\n            return {\n              type: \"remote\",\n              name: item.filename || item.key, // depending on what api we use, it may be in two different format\n              size: item.filesize || item.size,\n              url: item.links.self,\n              checksum: item.checksum\n            };\n          });\n          this.stepIndex = 1;\n        }\n      } catch (e) {\n        alert(`Failed to fetch RDF from ${url}, error: ${e}`);\n      }\n    },\n\n    async publishDeposition() {\n      if (\n        !confirm(\n          \"Are you sure about publish your RDF now? Please note that after publishing you won't be able to remove it. Changes to existing published deposit can only be made by publishing new versions.\"\n        )\n      )\n        return;\n      const loadingComponent = this.$buefy.loading.open({\n        container: this.$el\n      });\n      try {\n        const result = await this.client.publish(this.depositId);\n        console.log(\"Published\", result);\n        this.publishedDOI = result.doi;\n        this.publishedUrl = `${this.$store.state.zenodoBaseURL}/record/${this.depositId}`;\n      } finally {\n        loadingComponent.close();\n      }\n    },\n    async exportPackage() {\n      let zipPackage = this.zipPackage;\n      if (!zipPackage) {\n        zipPackage = new JSZip();\n        let i = 0;\n        for (let item of this.editedFiles) {\n          this.uploadProgress = (i / this.editedFiles.length) * 100;\n          i++;\n          if (item.type === \"remote\") {\n            this.uploadStatus = \"Download fille \" + item.name;\n            const response = await fetch(item.url);\n            if (response.ok) {\n              const blob = await response.blob();\n              zipPackage.file(item.name, blob);\n            } else {\n              throw new Error(\"Failed to download file: \" + item.url);\n            }\n          } else if (item instanceof Blob) {\n            zipPackage.file(item.name, item);\n          }\n        }\n      }\n      console.log(\"downloading\", zipPackage);\n      const zipBlob = await zipPackage.generateAsync(\n        {\n          type: \"blob\",\n          compression: \"DEFLATE\",\n          compressionOptions: {\n            level: 9\n          }\n        },\n        mdata => {\n          this.uploadProgress = mdata.percent;\n          this.uploadStatus = \"Zipping package...\";\n        }\n      );\n      this.uploadStatus = \"Exporting zip package...\";\n      saveAs(zipBlob, this.rdf.name + \".zip\");\n      this.uploadStatus = \"Done!\";\n    },\n    async createOrUpdateDeposit(depositId, skipUpload) {\n      try {\n        await this.client.getCredential(true);\n        this.$forceUpdate();\n      } catch (e) {\n        alert(`Failed to login: ${e}`);\n        return;\n      }\n      const loadingComponent = this.$buefy.loading.open({\n        container: this.$el\n      });\n      this.similarDeposits = null;\n      try {\n        this.uploadProgress = 1;\n        let depositionInfo;\n        if (depositId) {\n          try {\n            depositionInfo = await this.client.retrieve(depositId);\n\n            // enter edit mode if submitted\n            // if deposit.state == 'inprogress', the metadata can be updated\n            // if deposit.submitted == false files can be updated as well.\n            if (!skipUpload) {\n              // The response body of this action is NOT the new version deposit, but the original resource.\n              // The new version deposition can be accessed through the \"latest_draft\" under \"links\" in the response body.\n              const deposit = await this.client.createNewVersion(\n                depositionInfo\n              );\n              // e.g. https://sandbox.zenodo.org/api/deposit/depositions/868929\n              const tmp = deposit.links.latest_draft.split(\"/\");\n              depositId = parseInt(tmp[tmp.length - 1]);\n              depositionInfo = await this.client.retrieve(depositId);\n            }\n            if (\n              depositionInfo.state !== \"inprogress\" &&\n              depositionInfo.state !== \"unsubmitted\"\n            )\n              await this.client.edit(depositId);\n          } catch (e) {\n            console.error(e);\n            if (\n              !confirm(\n                `Failed to retrieve existing deposit (id: ${depositId}), would you like to create a new deposit instead?`\n              )\n            ) {\n              return;\n            }\n          }\n        } else depositionInfo = await this.client.createDeposition();\n\n        this.depositId = depositionInfo.id;\n        const baseUrl = `${this.client.baseURL}/record/${this.depositId}/files/`; //\"file:///\"; //depositionInfo.links.bucket + \"/\";\n\n        let docstring = null;\n        if (\n          this.rdf.documentation &&\n          !this.rdf.documentation.startsWith(\"http\") &&\n          this.rdf.documentation.endsWith(\".md\")\n        ) {\n          const file = this.zipPackage.files[\n            this.rdf.documentation.replace(\"./\", \"\")\n          ];\n          if (file) {\n            docstring = await file.async(\"string\"); // get markdown\n            docstring = DOMPurify.sanitize(marked(docstring));\n          }\n        }\n        this.rdf.config = this.rdf.config || {};\n        this.rdf.config._deposit = depositionInfo;\n        const metadata = rdfToMetadata(this.rdf, baseUrl, docstring);\n        // this will send a email request to the admin of bioimgae-io team\n        if (this.requestedJoinCommunity) {\n          metadata.communities.push({ identifier: \"shareloc-xyz\" });\n        }\n        metadata.prereserve_doi = true; // we will generate the doi and store it in the model yaml file\n        depositionInfo = await this.client.updateMetadata(\n          depositionInfo,\n          metadata\n        );\n\n        // transform the RDF here\n        this.prereserveDOI = depositionInfo.metadata.prereserve_doi;\n        this.rdf.id = depositionInfo.metadata.prereserve_doi.doi; //doi and recid\n        this.rdf.config._doi = depositionInfo.metadata.prereserve_doi.doi;\n        if (skipUpload) {\n          this.stepIndex = 3;\n          return depositionInfo;\n        }\n        const zipFiles = Object.values(this.zipPackage.files);\n        // sort the files so we will upload the covers in the end\n        // this allows zenodo to display it as preview\n        if (this.rdf.covers && this.rdf.covers.length > 0) {\n          const covers = this.rdf.covers;\n          zipFiles.sort((a, b) => {\n            if (\n              covers.includes(\"./\" + a.name) &&\n              !covers.includes(\"./\" + b.name)\n            )\n              return 1;\n            else if (\n              !covers.includes(\"./\" + a.name) &&\n              covers.includes(\"./\" + b.name)\n            )\n              return -1;\n            else return 0;\n          });\n        }\n\n        for (let i = 0; i < zipFiles.length; i++) {\n          if (zipFiles[i].dir) {\n            console.warn(\"Skipping directory: \" + zipFiles[i].name);\n            continue;\n          }\n          const blob = await zipFiles[i].async(\"blob\");\n          const file = new File([blob], zipFiles[i].name);\n          await this.client.uploadFile(depositionInfo, file, size => {\n            this.uploadProgress = Math.round((size / file.size) * 100);\n            this.uploadStatus = `Uploading ${i + 1}/${zipFiles.length}(${\n              this.uploadProgress\n            }%): ${file.name.slice(0, 40)}... `;\n            this.$forceUpdate();\n          });\n        }\n        this.uploadProgress = 0;\n        this.uploadStatus = `Successfully uploaded ${zipFiles.length} files.`;\n        this.uploaded = true;\n        this.stepIndex = 3;\n      } catch (e) {\n        console.error(e);\n        alert(`Failed to upload file: ${e}`);\n      } finally {\n        this.uploadProgress = 0;\n        loadingComponent.close();\n      }\n    }\n  }\n};\n</script>\n<style scoped>\n.upload {\n  padding: 10px;\n  width: 100%;\n  overflow: auto;\n  height: calc(100% - 48px);\n  display: block;\n  max-width: 1080px;\n  margin-left: auto !important;\n  margin-right: auto !important;\n  float: none !important;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Upload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Upload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Upload.vue?vue&type=template&id=4259689a&scoped=true&\"\nimport script from \"./Upload.vue?vue&type=script&lang=js&\"\nexport * from \"./Upload.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Upload.vue?vue&type=style&index=0&id=4259689a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4259689a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"attachments\"},[_vm._l((_vm.normalizedAttachments),function(att_val,name){return [(att_val)?_c('h2',{key:name + '_title',staticStyle:{\"font-size\":\"1.5rem\",\"font-weight\":\"600\",\"margin-top\":\"24px\",\"margin-bottom\":\"16px\",\"text-transform\":\"capitalize\"},attrs:{\"id\":name}},[_vm._v(\" \"+_vm._s(name)+\" \")]):_vm._e(),(att_val)?_c('b-table',{key:name + '_table',attrs:{\"data\":_vm.convert2Array(att_val),\"detailed\":!!att_val.type,\"show-detail-icon\":!!att_val.type},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return _vm._l((_vm.availableColumns),function(col){return _c('b-table-column',{key:col.field,attrs:{\"field\":col.field,\"label\":col.label,\"width\":col.width || 40,\"sortable\":col.sortable}},[(props.row[col.field])?[(col.type === 'url')?_c('a',{class:col.class,attrs:{\"href\":props.row[col.field],\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(col.text)+\" \")]):_c('span',{class:col.class},[_vm._v(\" \"+_vm._s(props.row[col.field] && props.row[col.field].slice(0, col.max_length) + (props.row[col.field].length > col.max_length ? \"...\" : \"\"))+\" \")])]:_vm._e()],2)})}},{key:\"detail\",fn:function(props){return [_c('resource-item-card',{attrs:{\"resourceItem\":props.row}})]}}],null,true)}):_vm._e()]})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"attachments\">\n    <template v-for=\"(att_val, name) in normalizedAttachments\">\n      <h2\n        style=\"font-size:1.5rem;font-weight: 600;margin-top: 24px;\n    margin-bottom: 16px; text-transform:capitalize;\"\n        :id=\"name\"\n        v-if=\"att_val\"\n        :key=\"name + '_title'\"\n      >\n        {{ name }}\n      </h2>\n      <b-table\n        v-if=\"att_val\"\n        :data=\"convert2Array(att_val)\"\n        :key=\"name + '_table'\"\n        :detailed=\"!!att_val.type\"\n        :show-detail-icon=\"!!att_val.type\"\n      >\n        <template slot-scope=\"props\">\n          <b-table-column\n            v-for=\"col in availableColumns\"\n            :key=\"col.field\"\n            :field=\"col.field\"\n            :label=\"col.label\"\n            :width=\"col.width || 40\"\n            :sortable=\"col.sortable\"\n          >\n            <template v-if=\"props.row[col.field]\">\n              <a\n                v-if=\"col.type === 'url'\"\n                :class=\"col.class\"\n                :href=\"props.row[col.field]\"\n                target=\"_blank\"\n              >\n                {{ col.text }}\n              </a>\n              <span :class=\"col.class\" v-else>\n                {{\n                  props.row[col.field] &&\n                    props.row[col.field].slice(0, col.max_length) +\n                      (props.row[col.field].length > col.max_length\n                        ? \"...\"\n                        : \"\")\n                }}\n              </span>\n            </template>\n          </b-table-column>\n        </template>\n        <template slot=\"detail\" slot-scope=\"props\">\n          <resource-item-card :resourceItem=\"props.row\"></resource-item-card>\n        </template>\n      </b-table>\n    </template>\n  </div>\n</template>\n\n<script>\nimport ResourceItemCard from \"./ResourceItemCard\";\nimport siteConfig from \"../../site.config.json\";\nexport default {\n  name: \"Attachments\",\n  props: {\n    attachments: {\n      type: Object,\n      default: null\n    },\n    focusTarget: {\n      type: String,\n      default: null\n    }\n  },\n  components: {\n    \"resource-item-card\": ResourceItemCard\n  },\n  data() {\n    return {\n      siteConfig: siteConfig,\n      columns: []\n    };\n  },\n  mounted() {\n    // scroll into view\n    setTimeout(() => {\n      this.focus(this.focusTarget);\n    }, 100);\n  },\n  watch: {\n    focusTarget: function(newTarget) {\n      this.focus(newTarget);\n    }\n  },\n  computed: {\n    availableColumns: function() {\n      return siteConfig.attachment_table.columns.filter(c =>\n        this.columns.includes(c.field)\n      );\n    },\n    normalizedAttachments: function() {\n      const converted = {};\n      for (let k of Object.keys(this.attachments)) {\n        const items = this.attachments[k];\n        if (typeof items === \"object\") {\n          const arr = [];\n          for (let j of Object.keys(items)) {\n            // make a shallow copy\n            const item = Object.assign({}, items[j]);\n            item.name = j;\n            arr.push(item);\n          }\n          converted[k] = arr;\n        } else {\n          converted[k] = items;\n        }\n      }\n      return converted;\n    }\n  },\n  methods: {\n    focus(target) {\n      if (target) {\n        const el = document.getElementById(target);\n        if (el) {\n          el.scrollIntoView();\n        }\n      }\n    },\n    convert2Array(obj) {\n      const columns = [];\n      this.columns = columns;\n      if (obj instanceof Object && obj.constructor === Object) {\n        const values = [];\n        for (let k of Object.keys(obj)) {\n          if (obj[k] instanceof Object) {\n            obj[k][\"id\"] = k;\n            values.push(obj[k]);\n            for (let n of Object.keys(obj[k])) {\n              if (!columns.includes(n)) columns.push(n);\n            }\n          } else {\n            const temp = obj[k].split(\"/\");\n            const name = temp[temp.length - 1] || \"undefined\";\n            values.push({ download_url: obj[k], name: name });\n            if (!columns.includes(\"download_url\")) columns.push(\"download_url\");\n            if (!columns.includes(\"name\")) columns.push(\"name\");\n          }\n        }\n        return values;\n      } else if (Array.isArray(obj)) {\n        const values = [];\n        for (let k = 0; k < obj.length; k++) {\n          if (obj[k] instanceof Object) {\n            obj[k][\"id\"] = k;\n            values.push(obj[k]);\n            for (let n of Object.keys(obj[k])) {\n              if (!columns.includes(n)) columns.push(n);\n            }\n          } else {\n            const temp = obj[k].split(\"/\");\n            // sometimes the url is ended with '/'\n            const name =\n              temp[temp.length - 1] || temp[temp.length - 2] || \"undefined\";\n            values.push({ download_url: obj[k], name: name });\n            if (!columns.includes(\"download_url\")) columns.push(\"download_url\");\n            if (!columns.includes(\"name\")) columns.push(\"name\");\n          }\n        }\n        return values;\n      } else {\n        console.warn(\"Failed to convert: \", obj);\n        return [];\n      }\n    }\n  }\n};\n</script>\n<style scoped></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Attachments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Attachments.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Attachments.vue?vue&type=template&id=3b34356d&scoped=true&\"\nimport script from \"./Attachments.vue?vue&type=script&lang=js&\"\nexport * from \"./Attachments.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b34356d\",\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport { randId } from \"./utils\";\nimport { ZenodoClient } from \"./utils.js\";\nimport siteConfig from \"../site.config.json\";\n\nVue.use(Vuex);\n\n// set default values for table_view\nsiteConfig.table_view = siteConfig.table_view || {\n  columns: [\"name\", \"authors\", \"badges\", \"apps\"]\n};\n\nconst tagCates = siteConfig.resource_categories.filter(\n  c => c.type === \"dataset\"\n)[0].tag_categories;\nlet allTags = [];\nfor (let cat in tagCates) {\n  allTags = allTags.concat(tagCates[cat]);\n}\n\nconst zenodoBaseURL = siteConfig.zenodo_config.use_sandbox\n  ? \"https://sandbox.zenodo.org\"\n  : \"https://zenodo.org\";\n\nexport const store = new Vuex.Store({\n  state: {\n    loadedUrl: null,\n    allApps: {},\n    allTags: allTags,\n    imjoy: null,\n    resourceItems: [],\n    zenodoClient: siteConfig.zenodo_config.enabled\n      ? new ZenodoClient(\n          zenodoBaseURL,\n          siteConfig.zenodo_config.client_id,\n          siteConfig.zenodo_config.use_sandbox\n        )\n      : null,\n    zenodoBaseURL,\n    siteConfig\n  },\n  actions: {\n    async login(context) {\n      try {\n        await context.state.client.login();\n      } catch (e) {\n        alert(`Failed to login: ${e}`);\n      }\n    },\n    async fetchResourceItems(context, { manifest_url, repo, transform }) {\n      // if (context.state.loadedUrl === manifest_url) {\n      //   console.log(\"manifest already loaded\");\n      //   return;\n      // }\n      const items = await context.state.zenodoClient.getResourceItems({});\n      items.map(item => context.commit(\"addResourceItem\", item));\n\n      const siteConfig = context.state.siteConfig;\n      const response = await fetch(manifest_url + \"?\" + randId());\n      const repo_manifest = JSON.parse(await response.text());\n      if (repo_manifest.collections && siteConfig.partners) {\n        for (let c of repo_manifest.collections) {\n          const duplicates = siteConfig.partners.filter(p => p.id === c.id);\n          duplicates.forEach(p => {\n            siteConfig.partners.splice(siteConfig.partners.indexOf(p), 1);\n          });\n          siteConfig.partners.push(c);\n        }\n      }\n\n      const resourceItems = repo_manifest.resources;\n      const rawResourceItems = JSON.parse(JSON.stringify(resourceItems));\n      for (let item of rawResourceItems) {\n        item.repo = repo;\n        // if (item.source && !item.source.startsWith(\"http\"))\n        //   item.source = concatAndResolveUrl(item.root_url, item.source);\n        context.commit(\"addResourceItem\", item);\n      }\n      if (transform) context.commit(\"normalizeItems\", transform);\n      context.state.loadedUrl = manifest_url;\n    }\n  },\n  mutations: {\n    setImJoy(state, imjoy) {\n      state.imjoy = imjoy;\n    },\n    addResourceItem(state, item) {\n      item.authors = item.authors || [];\n      item.authors = item.authors.map(author =>\n        typeof author === \"string\" ? { name: author } : author\n      );\n      item.config = item.config || {};\n      item.config._rdf_file = item.config._rdf_file || item.source; // TODO: some resources current doesn't have a dedicated rdf_file\n      if (item.type === \"application\") state.allApps[item.id] = item;\n      state.resourceItems.push(item);\n      // index tags\n      if (item.tags && item.tags.length > 0)\n        item.tags.map(tag => {\n          if (!state.allTags.includes(tag)) {\n            state.allTags.push(tag);\n          }\n        });\n    },\n    removeResourceItem(state, item) {\n      if (item.type === \"application\") delete state.allApps[item.id];\n      const index = state.resourceItems.indexOf(item);\n      if (index >= 0) state.resourceItems.splice(index, 1);\n    },\n    normalizeItems(state, transform) {\n      state.resourceItems = state.resourceItems.map(transform);\n    }\n  }\n});\n","import { store } from \"./store\";\n\nexport async function setupBioEngine() {\n  window\n    .loadImJoyBasicApp({\n      process_url_query: true,\n      show_window_title: false,\n      show_progress_bar: true,\n      show_empty_window: true,\n      hide_about_imjoy: true,\n      menu_style: {},\n      window_style: {\n        width: \"100%\",\n        height: \"100%\"\n      },\n      main_container: null,\n      menu_container: \"imjoy-menu\",\n      window_manager_container: null,\n      imjoy_api: {} // override some imjoy API functions here\n    })\n    .then(async app => {\n      // get the api object from the root plugin\n      const api = app.imjoy.api;\n      window.imjoy = app.imjoy;\n      store.commit(\"setImJoy\", app.imjoy);\n      app.$on(\"window-size-pos-changing\", changing => {\n        const iframes = document.querySelectorAll(\".reveal iframe\");\n        for (let iframe of iframes) {\n          iframe.style.pointerEvents = changing ? \"none\" : \"all\";\n        }\n      });\n      // if you want to let users to load new plugins, add a menu item\n      app.addMenuItem({\n        label: \"➕ Load Plugin\",\n        callback() {\n          const uri = prompt(`Please type a ImJoy plugin URL`, \"\");\n          if (uri) app.loadPlugin(uri);\n        }\n      });\n      // expose global variables\n      window.api = api;\n      window.imjoy = app.imjoy;\n      window.app = app;\n      // TODO: hacky solution, need further investigation\n      // imjoy.event_bus.on(\"add_window\", w => {\n      //   if(imjoy.wm.windows.indexOf(w)<0){\n      //     imjoy.wm.windows.push(w);\n      //   }\n      // });\n\n      app.imjoy.pm\n        .reloadPluginRecursively({\n          // uri: \"http://localhost:9090/Jupyter-Engine-Manager.imjoy.html\"\n          uri:\n            \"https://imjoy-team.github.io/jupyter-engine-manager/Jupyter-Engine-Manager.imjoy.html\"\n        })\n        .then(enginePlugin => {\n          const queryString = window.location.search;\n          const urlParams = new URLSearchParams(queryString);\n          const engine = urlParams.get(\"engine\");\n          const spec = urlParams.get(\"spec\");\n          if (engine) {\n            enginePlugin.api\n              .createEngine({\n                name: \"MyCustomEngine\",\n                nbUrl: engine,\n                url: engine.split(\"?\")[0]\n              })\n              .then(() => {\n                console.log(\"Jupyter Engine connected!\");\n              })\n              .catch(e => {\n                console.error(\"Failed to connect to Jupyter Engine\", e);\n              });\n          } else {\n            enginePlugin.api\n              .createEngine({\n                name: \"MyBinder Engine\",\n                url: \"https://mybinder.org\",\n                spec: spec || \"oeway/imjoy-binder-image/master\"\n              })\n              .then(() => {\n                console.log(\"Binder Engine connected!\");\n              })\n              .catch(e => {\n                console.error(\"Failed to connect to MyBinder Engine\", e);\n              });\n          }\n        });\n      app.addMenuItem({\n        label: \"ℹ️ Github\",\n        callback() {\n          window.open(\"https://github.com/imodpasteur/shareLoc.xyz\");\n        }\n      });\n    })\n    .catch(e => {\n      console.error(e);\n    });\n}\n\nexport async function runAppForAllItems(context, config, allItems) {\n  console.log(config, allItems);\n  context.showLoader(true);\n  try {\n    if (config.passive) {\n      await window.api.createWindow({ src: config.source, passive: true });\n      return;\n    }\n    const plugin = await window.api.getPlugin({ src: config.source });\n    await plugin.run({\n      config: {\n        referer: window.location.href,\n        mode: \"all\",\n        type: \"shareloc.xyz\"\n      },\n      data: allItems\n    });\n    context.showLoader(false);\n  } catch (e) {\n    console.error(e);\n  } finally {\n    context.showLoader(false);\n  }\n  // }\n}\n\nexport async function runAppForItem(context, config, item) {\n  console.log(config, item);\n  context.showLoader(true);\n  try {\n    if (config.passive) {\n      await window.api.createWindow({ src: config.source, passive: true });\n      return;\n    }\n    const plugin = await window.api.getPlugin({ src: config.source });\n    await plugin.run({\n      config: {\n        referer: window.location.href,\n        mode: \"one\",\n        type: \"shareloc.xyz\"\n      },\n      data: item\n    });\n  } catch (e) {\n    console.error(e);\n  } finally {\n    context.showLoader(false);\n  }\n}\n","<template>\n  <div class=\"home\">\n    <section\n      class=\"hero is-link is-fullheight is-fullheight-with-navbar\"\n      style=\"max-height: 1024px!important;height:100%;min-height:380px;background-image:url(/static/img/bg.jpg)\"\n    >\n      <div class=\"hero-body\" style=\"position: relative;\">\n        <img\n          class=\"background-img\"\n          v-if=\"selectedPartner\"\n          :src=\"selectedPartner.background_image\"\n        />\n        <img class=\"background-img\" v-else :src=\"siteConfig.background_image\" />\n\n        <div class=\"container\" v-if=\"selectedPartner\">\n          <h1 class=\"title is-1\">\n            {{ selectedPartner.splash_title }}\n          </h1>\n          <h2 class=\"subtitle is-3\">\n            {{ selectedPartner.splash_subtitle }}\n          </h2>\n          <ul class=\"feature-list\" v-if=\"selectedPartner.splash_feature_list\">\n            <li\n              v-for=\"feature in selectedPartner.splash_feature_list\"\n              :key=\"feature\"\n            >\n              {{ feature }}\n            </li>\n          </ul>\n          <br />\n          <b-button\n            v-if=\"selectedPartner.about_url\"\n            rounded\n            style=\"text-transform:none;\"\n            @click=\"showAboutPartner(selectedPartner)\"\n          >\n            <span class=\"explore-btn\">About</span></b-button\n          >\n          &nbsp;\n          <b-button rounded style=\"text-transform:none;\" @click=\"enter\">\n            <span class=\"explore-btn\">{{\n              selectedPartner.explore_button_text\n            }}</span></b-button\n          >\n        </div>\n\n        <div class=\"container\" v-else>\n          <h1 class=\"title is-1\">\n            {{ siteConfig.splash_title }}\n          </h1>\n          <h2 class=\"subtitle is-3\">\n            {{ siteConfig.splash_subtitle }}\n          </h2>\n          <ul class=\"feature-list\" v-if=\"siteConfig.splash_feature_list\">\n            <li\n              v-for=\"feature in siteConfig.splash_feature_list\"\n              :key=\"feature\"\n            >\n              {{ feature }}\n            </li>\n          </ul>\n          <br />\n          <b-button rounded style=\"text-transform:none;\" @click=\"enter\">\n            <span class=\"explore-btn\">{{\n              siteConfig.explore_button_text\n            }}</span></b-button\n          >\n        </div>\n      </div>\n    </section>\n    <br />\n    <section style=\"margin-top: -30px;opacity: 0.6;\">\n      <b-progress :value=\"progress\"></b-progress>\n    </section>\n    <br />\n    <span ref=\"search_anchor\"></span>\n    <resource-item-selector\n      @selection-changed=\"updateResourceItemList\"\n      :allItems=\"resourceItems\"\n      :fullLabelList=\"fullLabelList\"\n      :tagCategories=\"tagCategories\"\n      :type=\"selectedCategory && selectedCategory.type\"\n      :showDisplayMode=\"screenWidth > 700\"\n      @display-mode-change=\"displayModeChanged\"\n      :searchTags=\"searchTags\"\n      @tags-updated=\"updateQueryTags\"\n      @input-change=\"removePartner\"\n    ></resource-item-selector>\n    <div\n      v-if=\"selectedCategory && selectedCategory.type === 'application'\"\n      style=\"text-align:center;\"\n    >\n      <a @click=\"$refs.file_select.click()\">Load application from file</a>\n      <input\n        type=\"file\"\n        style=\"display:none;\"\n        @change=\"fileSelected\"\n        ref=\"file_select\"\n      />\n    </div>\n    <br />\n    <resource-item-list\n      @show-resource-item-info=\"showResourceItemInfo\"\n      v-if=\"selectedItems\"\n      :allItems=\"selectedItems\"\n      :displayMode=\"screenWidth > 700 ? displayMode : 'card'\"\n    />\n    <br />\n\n    <footer class=\"footer\">\n      <div class=\"columns is-mobile is-centered\" v-if=\"siteConfig.footer\">\n        <div\n          v-for=\"item in siteConfig.footer\"\n          :key=\"item.label\"\n          class=\"column is-one-quarter\"\n          style=\"text-align: center\"\n        >\n          <b-tooltip :label=\"item.tooltip\" position=\"is-top\"\n            ><a :href=\"item.url\" target=\"_blank\">\n              <figure>\n                <img :src=\"item.logo\" style=\"max-height: 55px;\" />\n                <figcaption class=\"hide-on-small-screen\">\n                  {{ item.label }}\n                </figcaption>\n              </figure>\n            </a>\n          </b-tooltip>\n        </div>\n      </div>\n      <div style=\"text-align: center\" v-if=\"siteConfig.footnote\">\n        <p>{{ siteConfig.footnote }}</p>\n      </div>\n    </footer>\n    <modal\n      name=\"window-modal-dialog\"\n      @opened=\"preventPageScroll\"\n      @closed=\"restorePageScroll\"\n      :resizable=\"!dialogWindowConfig.fullscreen\"\n      :width=\"dialogWindowConfig.width\"\n      :height=\"dialogWindowConfig.height\"\n      :adaptive_size=\"dialogWindowConfig.adaptive_size\"\n      :minWidth=\"200\"\n      :minHeight=\"150\"\n      :fullscreen=\"dialogWindowConfig.fullscreen\"\n      style=\"max-width: 100%; max-height:100%;z-index: 9999;\"\n      draggable=\".drag-handle\"\n      :scrollable=\"true\"\n    >\n      <div\n        v-if=\"selectedDialogWindow\"\n        @dblclick=\"maximizeDialogWindow()\"\n        :class=\"{ 'drag-handle': !isTouchDevice }\"\n        class=\"dialog-header\"\n      >\n        <div style=\"position: absolute; left:2px; margin-top: -1px;\">\n          <button\n            @click=\"closeDialogWindow(selectedDialogWindow)\"\n            class=\"noselect dialog-control-button\"\n            style=\"background:#ff0000c4;\"\n          >\n            x\n          </button>\n          <button\n            v-if=\"screenWidth > 700\"\n            @click=\"minimizeDialogWindow()\"\n            class=\"noselect dialog-control-button\"\n            style=\"background:#00cdff61;\"\n          >\n            -\n          </button>\n          <button\n            v-if=\"screenWidth > 700\"\n            @click=\"maximizeDialogWindow()\"\n            class=\"noselect dialog-control-button\"\n            style=\"background:#00cdff61;\"\n          >\n            {{ dialogWindowConfig.fullscreen ? \"=\" : \"+\" }}\n          </button>\n        </div>\n        <span class=\"noselect dialog-title\">\n          {{ selectedDialogWindow.name }}</span\n        >\n\n        <b-dropdown\n          aria-role=\"list\"\n          style=\"position:absolute;right:1px;\"\n          position=\"is-bottom-left\"\n        >\n          <button\n            class=\"button\"\n            style=\"background: rgba(0, 205, 255, 0.38);color:white;width:34px;\"\n            slot=\"trigger\"\n          >\n            <b-icon icon=\"dots-horizontal\"></b-icon>\n          </button>\n\n          <b-dropdown-item\n            aria-role=\"listitem\"\n            v-for=\"w in dialogWindows\"\n            @click=\"selectWindow(w)\"\n            :key=\"w.id\"\n            >{{ w.name }}</b-dropdown-item\n          >\n        </b-dropdown>\n      </div>\n      <template v-for=\"wdialog in dialogWindows\">\n        <div\n          :key=\"wdialog.window_id\"\n          v-show=\"wdialog === selectedDialogWindow\"\n          style=\"height: calc(100% - 18px);\"\n        >\n          <div\n            :id=\"wdialog.window_id\"\n            class=\"noselect\"\n            style=\"width: 100%;height: 100%;\"\n          ></div>\n        </div>\n      </template>\n    </modal>\n    <modal\n      name=\"info-dialog\"\n      @opened=\"preventPageScroll\"\n      @closed=\"restorePageScroll\"\n      :resizable=\"true\"\n      :minWidth=\"200\"\n      :minHeight=\"150\"\n      :height=\"600\"\n      :width=\"800\"\n      style=\"max-width:100%;max-height:100%;\"\n      :fullscreen=\"infoDialogFullscreen\"\n      draggable=\".drag-handle\"\n      :scrollable=\"true\"\n    >\n      <div\n        @dblclick=\"maximizeInfoWindow()\"\n        :class=\"{ 'drag-handle': !isTouchDevice }\"\n        class=\"dialog-header\"\n      >\n        <div style=\"position: absolute; left:2px; margin-top: -1px;\">\n          <button\n            @click=\"closeInfoWindow()\"\n            class=\"noselect dialog-control-button\"\n            style=\"background:#ff0000c4;\"\n          >\n            x\n          </button>\n          <button\n            v-if=\"screenWidth > 700\"\n            @click=\"maximizeInfoWindow()\"\n            class=\"noselect dialog-control-button\"\n            style=\"background:#00cdff61;\"\n          >\n            {{ infoDialogFullscreen ? \"=\" : \"+\" }}\n          </button>\n        </div>\n        <span class=\"noselect dialog-title\"> {{ infoDialogTitle }}</span>\n      </div>\n      <about\n        v-if=\"showInfoDialogMode === 'about'\"\n        @contribute=\"showUploadDialog\"\n        @join=\"showJoinDialog\"\n      ></about>\n      <upload\n        v-else-if=\"showInfoDialogMode === 'upload'\"\n        :site-config=\"siteConfig\"\n        :deposition-id=\"null\"\n      ></upload>\n      <iframe\n        v-else-if=\"showInfoDialogMode === 'viewer'\"\n        style=\"padding-bottom: 64px;width: 100%;\n    height: 100%;\"\n        :src=\"viewerUrl\"\n        width=\"640\"\n        height=\"852\"\n        frameborder=\"0\"\n        marginheight=\"0\"\n        marginwidth=\"0\"\n        >Loading…</iframe\n      >\n      <div v-else-if=\"showInfoDialogMode === 'edit'\">\n        <upload\n          :site-config=\"siteConfig\"\n          :deposition-id=\"currentDepositionId\"\n        ></upload>\n      </div>\n      <div\n        class=\"markdown-container\"\n        v-else-if=\"showInfoDialogMode === 'markdown'\"\n      >\n        <markdown :url=\"infoMarkdownUrl\"></markdown>\n        <comment-box\n          v-if=\"infoDialogTitle\"\n          :title=\"infoDialogTitle\"\n        ></comment-box>\n      </div>\n      <div\n        class=\"markdown-container\"\n        v-else-if=\"showInfoDialogMode === 'attachments' && selectedResourceItem\"\n      >\n        <attachments\n          :attachments=\"selectedResourceItem.attachments\"\n          :focusTarget=\"selectedResourceItem._focus\"\n        ></attachments>\n      </div>\n\n      <iframe\n        v-else-if=\"showInfoDialogMode === 'subscribe'\"\n        style=\"padding-bottom: 64px;width: 100%;\n    height: 100%;\"\n        :src=\"siteConfig.subscribe_url\"\n        width=\"640\"\n        height=\"852\"\n        frameborder=\"0\"\n        marginheight=\"0\"\n        marginwidth=\"0\"\n        >Loading…</iframe\n      >\n      <resource-item-info\n        v-else-if=\"showInfoDialogMode === 'model' && selectedResourceItem\"\n      ></resource-item-info>\n    </modal>\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport spdxLicenseList from \"spdx-license-list/full\";\nimport ResourceItemSelector from \"@/components/ResourceItemSelector.vue\";\nimport ResourceItemList from \"@/components/ResourceItemList.vue\";\nimport ResourceItemInfo from \"@/components/ResourceItemInfo.vue\";\nimport Upload from \"@/components/Upload.vue\";\nimport Attachments from \"@/components/Attachments.vue\";\nimport CommentBox from \"@/components/CommentBox.vue\";\nimport About from \"@/views/About.vue\";\nimport Markdown from \"@/components/Markdown.vue\";\n\nconst DEFAULT_ICONS = {\n  notebook: \"notebook-outline\",\n  dataset: \"database\",\n  application: \"puzzle\",\n  model: \"hubspot\"\n};\nimport { runAppForItem, runAppForAllItems } from \"../bioEngine\";\nimport { concatAndResolveUrl, debounce } from \"../utils\";\n\nconst isTouchDevice = (function() {\n  try {\n    document.createEvent(\"TouchEvent\");\n    return true;\n  } catch (e) {\n    return false;\n  }\n})();\n\nfunction normalizeItem(self, item) {\n  item = Object.assign({}, item);\n  item.covers = item.covers || [];\n  item.authors = item.authors || [];\n  item.description = item.description || \"\";\n  if (item.covers && !Array.isArray(item.covers)) {\n    item.covers = [item.covers];\n  }\n  if (item.icon === \"extension\") item.icon = \"puzzle\";\n  item.cover_images = [];\n  for (let cover of item.covers) {\n    if (cover.includes(\"(\") || cover.includes(\")\")) {\n      console.error(\"cover image file name cannot contain brackets.\");\n      continue;\n    }\n    if (!cover.startsWith(\"http\")) {\n      item.cover_images.push(\n        encodeURI(concatAndResolveUrl(item.root_url, cover))\n      );\n    } else {\n      if (cover.includes(\" \")) {\n        item.cover_images.push(encodeURI(cover));\n      } else item.cover_images.push(cover);\n    }\n  }\n\n  item.allLabels = item.labels || [];\n  if (item.license) {\n    item.allLabels.push(item.license);\n  }\n  if (item.applications) {\n    item.allLabels = item.allLabels.concat(item.applications);\n  }\n  if (item.tags) {\n    item.allLabels = item.allLabels.concat(\n      item.tags\n        .filter(tag => typeof tag === \"string\")\n        .map(tag => tag.toLowerCase())\n    );\n  }\n\n  // make it lower case and remove duplicates\n  item.allLabels = Array.from(\n    new Set(item.allLabels.map(label => label.toLowerCase()))\n  );\n  item.apps = [];\n  item.apps.unshift({\n    name: \"Share\",\n    icon: \"share-variant\",\n    show_on_hover: true,\n    run() {\n      const query = Object.assign({}, self.$route.query);\n      query.id = item.id;\n      self.$router.replace({ query: query }).catch(() => {});\n      self.$buefy.dialog.alert({\n        title: \"Sharing \" + item.type,\n        hasIcon: true,\n        icon: \"share\",\n        message: `Here is the URL for sharing ${item.name}: <br> <code>${window.location.href}</code>`,\n        confirmText: \"OK\"\n      });\n    }\n  });\n\n  if (item.source && item.source.startsWith(\"http\"))\n    item.apps.unshift({\n      name: \"Source\",\n      icon: \"code-tags\",\n      show_on_hover: true,\n      run() {\n        self.showSource(item);\n      }\n    });\n  if (item.download_url)\n    item.apps.unshift({\n      name: \"Download\",\n      icon: \"download\",\n      url: item.download_url,\n      show_on_hover: true\n    });\n  if (item.git_repo)\n    item.apps.unshift({\n      name: \"Git Repository\",\n      icon: \"github\",\n      url: item.git_repo,\n      show_on_hover: true\n    });\n\n  if (item.type === \"application\") {\n    item.apps.unshift({\n      name: \"Run\",\n      icon: \"play\",\n      run() {\n        if (self.allApps[item.name])\n          runAppForAllItems(self, self.allApps[item.id], self.resourceItems);\n        else alert(\"This application is not ready or unavailable.\");\n      }\n    });\n  } else if (item.links) {\n    for (let link_key of item.links) {\n      const linked = self.resourceItems.filter(item => item.id === link_key);\n      for (let lit of linked) {\n        item.apps.unshift({\n          name: lit.name,\n          icon: lit.icon || DEFAULT_ICONS[lit.type],\n          run() {\n            if (self.allApps[link_key])\n              runAppForItem(self, self.allApps[link_key], item);\n            else self.showResourceItemInfo(lit);\n          }\n        });\n      }\n    }\n  }\n  item.badges = item.badges || [];\n  item.attachments = item.attachments || {};\n  const linkedItems = self.resourceItems.filter(\n    m => m.links && m.links.includes(item.id)\n  );\n  for (let it of linkedItems) {\n    if (item.attachments[it.type]) item.attachments[it.type].push(it);\n    else item.attachments[it.type] = [it];\n  }\n\n  if (item.size) {\n    item.badges.unshift({\n      label: \"size\",\n      label_type: \"is-dark\",\n      ext:\n        item.size > 1000000\n          ? Math.round(item.size / 1000000) + \"MB\"\n          : Math.round(item.size / 1000) + \"kB\",\n      ext_type: \"is-primary\"\n    });\n  }\n  for (let att_name of Object.keys(item.attachments)) {\n    if (Array.isArray(item.attachments[att_name]) && att_name !== \"files\") {\n      item.badges.unshift({\n        label: att_name,\n        label_type: \"is-dark\",\n        ext: item.attachments[att_name].length,\n        ext_type: \"is-primary\",\n        run() {\n          self.showAttachmentsDialog(item, att_name);\n        }\n      });\n    }\n  }\n\n  if (item.license) {\n    item.badges.unshift({\n      label: \"license\",\n      ext: item.license,\n      ext_type: \"is-info\",\n      url: spdxLicenseList[item.license] && spdxLicenseList[item.license].url\n    });\n  }\n  if (item.config && item.config._doi) {\n    item.badges.unshift({\n      label: item.config._doi,\n      label_type: \"is-dark\",\n      label_short: self.zenodoClient.isSandbox ? \"Zenodo\" : \"DOI\",\n      url: self.zenodoClient.isSandbox\n        ? `${item.config._deposit.links.html}`\n        : `https://doi.org/${item.config._doi}`\n    });\n  }\n  if (item.type === \"model\" && item.co2) {\n    item.badges.unshift({\n      label: \"CO2\",\n      ext: item.co2,\n      ext_type: \"is-success\",\n      run() {\n        alert(\n          `SAVE THE EARTH: The carbon footprint for training this model is around ${item.co2} lbs, reusing existing models can help save the earth from climate change.`\n        );\n      }\n    });\n  }\n  if (item.error) {\n    if (item.error.spec) {\n      item.badges.unshift({\n        label: \"spec\",\n        label_type: \"is-dark\",\n        ext: \"failing\",\n        ext_type: \"is-danger\",\n        run() {\n          alert(\n            \"This model failed the specification checks, here are the errors: \\n\" +\n              JSON.stringify(item.error.spec, null, \"  \")\n          );\n        }\n      });\n    } else {\n      item.badges.unshift({\n        label: \"spec\",\n        label_type: \"is-dark\",\n        ext: \"passing\",\n        ext_type: \"is-success\",\n        run() {\n          alert(\"🎉 This model passed the specification checks!\");\n        }\n      });\n    }\n  }\n  return item;\n}\n\nexport default {\n  name: \"Home\",\n  props: [\"resourceId\"],\n  components: {\n    \"resource-item-list\": ResourceItemList,\n    \"resource-item-selector\": ResourceItemSelector,\n    \"resource-item-info\": ResourceItemInfo,\n    \"comment-box\": CommentBox,\n    upload: Upload,\n    attachments: Attachments,\n    markdown: Markdown,\n    about: About\n  },\n  data() {\n    return {\n      initialized: false,\n      progress: 100,\n      searchTags: null,\n      isTouchDevice: isTouchDevice,\n      rawResourceItems: null,\n      selectedItems: null,\n      showMenu: false,\n      applications: [],\n      dialogWindowConfig: {\n        width: \"800px\",\n        height: \"670px\",\n        draggable: true,\n        fullscreen: false\n      },\n      dialogWindows: [],\n      selectedWindowsStack: [],\n      selectedDialogWindow: null,\n      selectedResourceItem: null,\n      infoDialogFullscreen: false,\n      screenWidth: 1000,\n      showInfoDialogMode: null,\n      viewerUrl: null,\n      infoDialogTitle: \"\",\n      infoMarkdownUrl: null,\n      infoCommentBoxTitle: null,\n      selectedCategory: null,\n      displayMode: \"card\",\n      currentTags: [],\n      selectedPartner: null\n    };\n  },\n  mounted: async function() {\n    // this.$buefy.dialog.alert({\n    //   title: \"Site under construction\",\n    //   message:\n    //     \"Please note that this site is under construction, some features are current missing.\",\n    //   confirmText: \"OK\"\n    // });\n    window.addEventListener(\"resize\", this.updateSize);\n    window.dispatchEvent(new Event(\"resize\"));\n    // select models as default\n    for (let list of this.resourceCategories) {\n      if (list.type === \"dataset\") {\n        this.selectedCategory = list;\n        break;\n      }\n    }\n\n    try {\n      // Fix the github oauth redirection\n      const searchParams = new URLSearchParams(window.location.search);\n      searchParams.forEach((value, key) => {\n        this.$route.query[key] = value;\n      });\n      const originalUrl =\n        window.location.pathname + \"#\" + window.location.hash.substr(1);\n      window.history.replaceState(null, \"\", originalUrl);\n\n      let repo = this.siteConfig.rdf_root_repo;\n      const query_repo = this.$route.query.repo;\n      let manifest_url = this.siteConfig.manifest_url;\n      if (query_repo) {\n        if (query_repo.startsWith(\"http\") || query_repo.startsWith(\"/\")) {\n          manifest_url = query_repo;\n        } else if (query_repo.split(\"/\").length === 2) {\n          manifest_url = `https://raw.githubusercontent.com/${query_repo}/master/manifest.bioimage.io.json`;\n        } else if (query_repo.split(\"/\").length === 3) {\n          manifest_url = `https://raw.githubusercontent.com/${query_repo}/manifest.bioimage.io.json`;\n        } else {\n          alert(\"Unsupported repo format.\");\n          throw \"Unsupported repo format.\";\n        }\n\n        repo = query_repo;\n      }\n      const self = this;\n      await this.$store.dispatch(\"fetchResourceItems\", {\n        repo,\n        manifest_url,\n        transform(item) {\n          return normalizeItem(self, item);\n        }\n      });\n\n      const tp = this.selectedCategory && this.selectedCategory.type;\n      this.selectedItems = tp\n        ? this.resourceItems.filter(m => m.type === tp)\n        : this.resourceItems;\n\n      // get id from component props\n      if (this.resourceId) {\n        if (this.resourceId.startsWith(\"zenodo:\")) {\n          const zenodoId = parseInt(this.resourceId.split(\":\")[1]);\n          const matchedItem = this.resourceItems.filter(\n            item =>\n              item.config &&\n              item.config._deposit &&\n              item.config._deposit.id === zenodoId\n          )[0];\n          if (matchedItem) this.$route.query.id = matchedItem.id;\n        } else this.$route.query.id = this.resourceId;\n      }\n\n      this.updateViewByUrlQuery();\n      this.$forceUpdate();\n    } catch (e) {\n      console.error(e);\n      alert(`Failed to fetch manifest file from the repo: ${e}.`);\n    }\n  },\n  computed: {\n    partners: function() {\n      return (\n        this.siteConfig.partners &&\n        this.siteConfig.partners.concat([\n          {\n            isJoinButton: true,\n            name: \"Join Community Partners\",\n            icon: \"/static/img/plus-sign.png\"\n          }\n        ])\n      );\n    },\n    resourceCategories: function() {\n      if (this.selectedPartner)\n        return this.siteConfig.resource_categories.filter(list =>\n          this.selectedPartner.resource_types.includes(list.type)\n        );\n      else return this.siteConfig.resource_categories;\n    },\n    fullLabelList: function() {\n      const fullLabelList = [];\n      if (this.resourceItems) {\n        const tp = this.selectedCategory && this.selectedCategory.type;\n        const items = tp\n          ? this.resourceItems.filter(m => m.type === tp)\n          : this.resourceItems;\n        for (let item of items) {\n          item.allLabels.forEach(label => {\n            if (fullLabelList.indexOf(label) === -1) {\n              fullLabelList.push(label.toLowerCase());\n            }\n          });\n        }\n      }\n      fullLabelList.sort((a, b) =>\n        a.toLowerCase() < b.toLowerCase() ? -1 : 1\n      );\n      return Array.from(new Set(fullLabelList));\n    },\n    tagCategories: function() {\n      if (this.selectedCategory) {\n        return this.selectedCategory && this.selectedCategory.tag_categories;\n      } else {\n        let combined = {};\n        for (let list of this.resourceCategories) {\n          combined = Object.assign(combined, list.tag_categories);\n        }\n        return combined;\n      }\n    },\n    ...mapState({\n      allApps: state => state.allApps,\n      zenodoClient: state => state.zenodoClient,\n      siteConfig: state => state.siteConfig,\n      resourceItems: state => state.resourceItems\n    })\n  },\n  beforeDestroy() {\n    window.removeEventListener(\"resize\", this.updateSize);\n  },\n  methods: {\n    goHome() {\n      this.selectedPartner = null;\n      this.searchTags = [];\n      const query = Object.assign({}, this.$route.query);\n      delete query.partner;\n      delete query.tags;\n      this.$router.push({ query: query }).catch(() => {});\n    },\n    switchPartner(partner) {\n      if (partner.isJoinButton) {\n        this.showJoinDialog();\n        return;\n      }\n      this.selectedPartner = partner;\n      this.selectedCategory = null; // select all\n      if (this.selectedPartner.default_type) {\n        for (let list of this.resourceCategories) {\n          if (list.type === this.selectedPartner.default_type) {\n            this.selectedCategory = list;\n            break;\n          }\n        }\n      }\n      this.$nextTick(() => {\n        this.searchTags = this.selectedPartner && this.selectedPartner.tags;\n      });\n      const query = Object.assign({}, this.$route.query);\n      query.partner = partner.id;\n      query.tags = partner.tags;\n      this.$router.replace({ query: query }).catch(() => {});\n    },\n    preventPageScroll() {\n      document.getElementsByTagName(\"html\")[0].style.overflow = \"hidden\";\n      document.body.style.overflow = \"hidden\";\n    },\n    restorePageScroll() {\n      document.getElementsByTagName(\"html\")[0].style.overflow = \"auto\";\n      document.body.style.overflow = \"auto\";\n    },\n    showJoinDialog() {\n      this.infoDialogTitle = `Join ${this.siteConfig.site_name} as a community partner`;\n      this.infoCommentBoxTitle = this.infoDialogTitle;\n      this.infoMarkdownUrl = this.siteConfig.join_partners_url;\n      this.showInfoDialogMode = \"markdown\";\n      if (this.screenWidth < 700) this.infoDialogFullscreen = true;\n      this.$modal.show(\"info-dialog\");\n    },\n    showAttachmentsDialog(item, focus) {\n      this.infoDialogTitle = focus\n        ? item.name + \": \" + focus\n        : item.name + \": Attachments\";\n      item._focus = focus;\n      this.selectedResourceItem = item;\n      this.showInfoDialogMode = \"attachments\";\n      if (this.screenWidth < 700) this.infoDialogFullscreen = true;\n      this.$modal.show(\"info-dialog\");\n    },\n    removePartner() {\n      if (this.selectedPartner) {\n        this.selectedPartner = null;\n        this.updateQueryTags(this.searchTags);\n      }\n    },\n    updateQueryTags(newTags) {\n      if (!this.initialized) {\n        this.initialized = true;\n        return;\n      }\n      this.searchTags = newTags;\n      if (newTags) {\n        if (newTags.length > 0) {\n          this.currentTags = newTags;\n        } else {\n          this.currentTags = null;\n        }\n      }\n\n      const query = Object.assign({}, this.$route.query);\n      if (this.selectedCategory) {\n        // remove the default type in the query if that's the only query\n        if (\n          this.selectedCategory.type === \"model\" &&\n          Object.keys(query).length <= 1\n        )\n          delete query.type;\n        else {\n          query.type = this.selectedCategory.type;\n        }\n      } else {\n        query.type = \"all\";\n      }\n\n      if (this.currentTags) {\n        query.tags = this.currentTags.join(\",\");\n      } else {\n        delete query.tags;\n      }\n\n      if (!this.selectedPartner) {\n        delete query.partner;\n      } else {\n        // if no additional tags added, then hide the query from url\n        if (\n          this.selectedPartner.tags &&\n          JSON.stringify(this.selectedPartner.tags) ==\n            JSON.stringify(this.currentTags)\n        ) {\n          delete query.tags;\n        }\n      }\n      this.$router.replace({ query: query }).catch(() => {});\n    },\n    displayModeChanged(mode) {\n      this.displayMode = mode;\n    },\n    addWindow(w) {\n      if (this.selectedDialogWindow) {\n        this.selectedWindowsStack.push(this.selectedDialogWindow);\n      }\n      this.selectWindow(w);\n      this.dialogWindows.push(w);\n      if (this.screenWidth < 700) this.dialogWindowConfig.fullscreen = true;\n      this.$modal.show(\"window-modal-dialog\");\n      this.$forceUpdate();\n    },\n    selectWindow(w) {\n      if (w.closing) return;\n      this.selectedDialogWindow = w;\n    },\n    updateSize() {\n      debounce(() => {\n        this.screenWidth = window.innerWidth;\n        if (this.screenWidth < 700) this.infoDialogFullscreen = true;\n        this.$forceUpdate();\n      }, 250)();\n    },\n    showAboutDialog() {\n      this.showInfoDialogMode = \"about\";\n      this.infoDialogTitle = \"About\";\n      if (this.screenWidth < 700) this.infoDialogFullscreen = true;\n      this.$modal.show(\"info-dialog\");\n      const query = Object.assign({}, this.$route.query);\n      query.show = \"about\";\n      this.$router.replace({ query: query }).catch(() => {});\n    },\n    showUploadDialog() {\n      this.infoDialogTitle = `Uploading data to ${this.siteConfig.site_name}`;\n      this.showInfoDialogMode = \"upload\";\n      this.currentDepositionId = null;\n      if (this.screenWidth < 700) this.infoDialogFullscreen = true;\n      this.$modal.show(\"info-dialog\");\n      const query = Object.assign({}, this.$route.query);\n      query.show = \"upload\";\n      this.$router.replace({ query: query }).catch(() => {});\n    },\n    showEditDialog() {\n      this.infoDialogTitle = `Updating metadata`;\n      this.showInfoDialogMode = \"edit\";\n      // this.currentDepositionId = null\n      if (this.screenWidth < 700) this.infoDialogFullscreen = true;\n      this.$modal.show(\"info-dialog\");\n      const query = Object.assign({}, this.$route.query);\n      query.show = \"edit\";\n      this.$router.replace({ query: query }).catch(() => {});\n    },\n    showAboutPartner(partner) {\n      if (partner.about_url.startsWith(\"http\")) {\n        if (partner.about_url.endsWith(\".md\")) {\n          this.infoDialogTitle = \"About \" + partner.name;\n          this.infoMarkdownUrl = partner.about_url;\n          this.showInfoDialogMode = \"markdown\";\n          if (this.screenWidth < 700) this.infoDialogFullscreen = true;\n          this.$modal.show(\"info-dialog\");\n        } else window.open(partner.about_url);\n      } else if (partner.description) {\n        this.$buefy.dialog.alert({\n          title: \"About \" + partner.name,\n          message: partner.description,\n          confirmText: \"OK\"\n        });\n      } else {\n        this.$buefy.dialog.alert({\n          title: \"Oops, no details about \" + partner.name,\n          message: \"This partner is did not provide any details!\",\n          confirmText: \"OK\"\n        });\n      }\n    },\n    showSource(item) {\n      if (\n        item.source.endsWith(\".yaml\") ||\n        item.source.endsWith(\".yml\") ||\n        item.source.endsWith(\".imjoy.html\")\n      ) {\n        this.infoDialogTitle = \"Source: \" + item.name;\n        this.infoMarkdownUrl = item.source;\n        this.infoCommentBoxTitle = item.name;\n        this.showInfoDialogMode = \"markdown\";\n        if (this.screenWidth < 700) this.infoDialogFullscreen = true;\n        this.$modal.show(\"info-dialog\");\n      } else if (item.source.startsWith(\"http\")) {\n        window.open(item.source);\n      } else {\n        this.$buefy.dialog.alert({\n          title: \"Source: \" + item.name,\n          hasIcon: true,\n          icon: \"code-tags\",\n          message: item.source,\n          confirmText: \"OK\"\n        });\n      }\n    },\n    showResourceItemInfo(mInfo) {\n      // this.$router.push({ name: \"Viewer\", params: { resourceId: mInfo.id } });\n      this.showInfoDialogMode = \"viewer\";\n      mInfo._focus = focus;\n      this.selectedResourceItem = mInfo;\n      this.infoDialogTitle = this.selectedResourceItem.name;\n      this.viewerUrl = `https://viewer.shareloc.xyz/#/?file=${mInfo.download_url}`;\n      this.infoDialogFullscreen = true;\n      this.$modal.show(\"info-dialog\");\n      if (mInfo.id) {\n        const query = Object.assign({}, this.$route.query);\n        query.id = mInfo.id;\n        this.$router.replace({ query: query }).catch(() => {});\n      }\n    },\n    updateStatus(status) {\n      if (status.loading === true) this.showMessage(\"Loading...\");\n      if (status.loading === false) this.showMessage(\"Loading done.\");\n    },\n    closeInfoWindow() {\n      this.selectedResourceItem = null;\n      this.showInfoDialogMode = null;\n      this.infoMarkdownUrl = null;\n      this.infoCommentBoxTitle = null;\n      this.$modal.hide(\"info-dialog\");\n      const query = Object.assign({}, this.$route.query);\n      delete query.id;\n      delete query.show;\n      this.$router.replace({ query: query }).catch(() => {});\n    },\n    maximizeInfoWindow() {\n      this.infoDialogFullscreen = !this.infoDialogFullscreen;\n    },\n    closeDialogWindow(w) {\n      if (this.selectedDialogWindow.id !== w.id) {\n        console.warn(\"ignore close window: \" + w.id);\n        return;\n      }\n      const idx = this.dialogWindows.indexOf(w);\n      if (idx >= 0) this.dialogWindows.splice(idx, 1);\n      this.selectedDialogWindow = this.selectedWindowsStack.pop();\n      if (!this.selectedDialogWindow) this.$modal.hide(\"window-modal-dialog\");\n    },\n    minimizeDialogWindow() {\n      this.$modal.hide(\"window-modal-dialog\");\n    },\n    maximizeDialogWindow() {\n      this.dialogWindowConfig.fullscreen = !this.dialogWindowConfig.fullscreen;\n    },\n    enter() {\n      const top =\n        window.pageYOffset +\n        this.$refs.search_anchor.getBoundingClientRect().top;\n      window.scrollTo({ top: top - 100, behavior: \"smooth\", block: \"start\" });\n    },\n    updateResourceItemList(models) {\n      if (this.initialized && models.length <= 0) {\n        this.showMessage(\"No item found.\");\n      }\n      this.selectedItems = models;\n    },\n    updateViewByUrlQuery() {\n      let hasQuery = false;\n      if (this.$route.query.show) {\n        if (this.$route.query.show === \"about\") {\n          this.showAboutDialog();\n        } else if (this.$route.query.show === \"upload\") {\n          this.showUploadDialog();\n        } else if (this.$route.query.show === \"join\") {\n          this.showJoinDialog();\n        }\n      }\n      if (this.$route.query.id) {\n        const m = this.resourceItems.filter(\n          item => item.id === this.$route.query.id\n        )[0];\n        if (m) {\n          this.showResourceItemInfo(m);\n          hasQuery = true;\n        }\n      }\n      if (this.$route.query.tags) {\n        if (typeof this.$route.query.tags === \"string\")\n          this.searchTags = this.$route.query.tags.split(\",\");\n        else this.searchTags = this.$route.query.tags;\n        hasQuery = true;\n      }\n\n      if (this.$route.query.type) {\n        if (this.$route.query.type === \"all\") this.selectedCategory = null;\n        else\n          this.selectedCategory = this.resourceCategories.filter(\n            item => item.type === this.$route.query.type\n          )[0];\n\n        hasQuery = true;\n      }\n\n      if (this.$route.query.partner) {\n        if (this.siteConfig.partners) {\n          this.selectedPartner = this.siteConfig.partners.filter(\n            p => p.id === this.$route.query.partner\n          )[0];\n          if (this.selectedPartner) {\n            this.$nextTick(() => {\n              if (!this.searchTags) {\n                this.searchTags = this.selectedPartner.tags;\n              } else {\n                this.searchTags = this.searchTags.concat(\n                  this.selectedPartner.tags\n                );\n              }\n            });\n\n            hasQuery = false;\n          }\n        }\n      }\n      if (hasQuery) {\n        this.enter();\n      }\n    },\n    showProgress(p) {\n      this.progress = p;\n      this.$forceUpdate();\n    },\n    showMessage(message, duration) {\n      duration = duration || 5000;\n      const data = {\n        message: message.slice(0, 200),\n        onAction: function() {},\n        actionText: \"Close\",\n        duration: duration,\n        queue: false\n      };\n      this.$buefy.snackbar.open(data);\n    },\n    showWindowDialog() {},\n    closeWindowDialog() {},\n    getLabelCount(label) {\n      return this.filteredModels.filter(models =>\n        models.allLabels.includes(label)\n      ).length;\n    },\n    getModelsCount() {\n      return this.filteredModels.length;\n    }\n  }\n};\n</script>\n\n<style>\n.pagination-list {\n  list-style: none;\n}\n.pagination {\n  width: 80%;\n}\n.modal-card-title {\n  font-size: 1.1rem;\n  line-height: 1;\n  overflow-wrap: break-word;\n  text-overflow: ellipsis;\n  width: 100%;\n}\n\n.navbar-item,\n.navbar-link {\n  font-size: 1.5rem;\n}\n\n.navbar-item:hover,\n.navbar-item:focus {\n  background: #a8d8ff !important;\n}\n\n.resource-item-card:hover {\n  transition: all 0.4s;\n  -webkit-transition: all 0.4s;\n  box-shadow: 0 10px 16px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n}\n\n.b-tooltip.is-primary:after {\n  background: #002e52 !important;\n  color: white;\n}\n.card-image {\n  max-height: 200px;\n}\n.vm--modal {\n  max-height: 100%;\n  max-width: 100%;\n}\n.dialog-header {\n  height: 40px;\n  font-size: 1.4rem;\n  cursor: move;\n  background-color: #002e52;\n  color: white;\n  text-align: center;\n  line-height: 40px;\n}\n.dialog-control-button {\n  cursor: pointer;\n  width: 34px !important;\n  min-width: 34px !important;\n  max-width: 34px !important;\n  height: 36px;\n  line-height: 30px;\n  padding-bottom: 7px;\n  border: 0px;\n  font-size: 2rem;\n  position: relative;\n  color: white;\n  top: 2px;\n  font-family: \"Lucida Console\", Monaco, monospace;\n}\n.dialog-control-button:focus {\n  outline: none;\n}\n\n.item-lists {\n  padding-bottom: 2px;\n  width: 110px;\n  display: inline-block;\n  margin: 10px;\n  text-align: center;\n  cursor: pointer;\n  font-size: 1.2em;\n  color: #006fcb;\n  border-bottom: 2px solid;\n  border-radius: 5px;\n}\n\n.item-lists:hover {\n  font-weight: 500;\n}\n\n.item-lists.active {\n  font-weight: 600;\n}\n.noselect {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.background-img {\n  position: absolute;\n  bottom: 142px;\n  right: 0px;\n  opacity: 0.8;\n  width: 55%;\n  transition: 0.9s ease;\n  max-height: 30%;\n  max-width: 100%;\n  object-fit: contain;\n}\n.hero:hover .background-img {\n  width: 45%;\n  transition: 0.4s ease;\n}\n.feature-list {\n  padding-left: 30px;\n  font-size: 1.5em;\n}\n.explore-btn {\n  font-size: 1.3rem;\n}\n.site-title {\n  color: white;\n  font-size: 2.2em;\n  padding-top: 10px;\n  padding-left: 4px;\n}\n.site-icon {\n  font-size: 3em;\n  margin-left: 10px;\n}\n.dialog-title {\n  font-size: 1.4rem;\n}\n@media screen and (max-width: 500px) {\n  .feature-list {\n    font-size: 1em;\n  }\n}\n\n@media screen and (max-height: 700px) {\n  .feature-list {\n    display: none;\n  }\n}\n@media screen and (max-width: 768px) {\n  .dialog-title {\n    font-size: 1.1rem;\n  }\n  .site-title {\n    font-size: 2em !important;\n  }\n\n  .site-icon {\n    font-size: 2.3em;\n  }\n  .title {\n    font-size: 1.8rem !important;\n  }\n  .subtitle {\n    font-size: 1.5rem !important;\n  }\n  .feature-list {\n    font-size: 1em !important;\n  }\n  .explore-btn {\n    font-size: 1.1rem !important;\n  }\n  .hide-on-small-screen {\n    display: none;\n  }\n}\n\n.hover-show {\n  opacity: 0;\n  transition: 0.3s ease;\n}\n\n.card:hover .hover-show {\n  opacity: 1;\n  transition: 0.3s ease;\n}\n\n.markdown-container {\n  padding: 20px;\n  overflow: auto;\n  overscroll-behavior: contain;\n  height: calc(100% - 40px);\n}\n\nhtml,\nbody {\n  overflow-x: hidden;\n}\nform {\n  max-width: 100%;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=0f5c1a94&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dataset\"},[_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"}},[_c('div',{staticClass:\"viewer block\",attrs:{\"id\":_vm.containerId}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"dataset\">\n    <!-- <b-sidebar\n      position=\"static\"\n      mobile=\"fullwidth\"\n      :expand-on-hover=\"true\"\n      :reduce=\"false\"\n      :delay=\"500\"\n      type=\"is-light\"\n      open\n    >\n      <div class=\"p-1\">\n        <b-menu class=\"is-custom-mobile\">\n          <b-menu-list label=\"Menu\">\n            <b-menu-item active expanded icon=\"settings\" label=\"Files\">\n              <b-menu-item icon=\"file\" label=\"file\"></b-menu-item>\n            </b-menu-item>\n          </b-menu-list>\n        </b-menu>\n      </div>\n    </b-sidebar> -->\n    <div style=\"width: 100%; height: 100%;\">\n      <div class=\"viewer block\" :id=\"containerId\"></div>\n    </div>\n  </div>\n</template>\n<script>\nimport { mapState } from \"vuex\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"dataset\",\n  props: [\"resourceId\"],\n  data() {\n    return {\n      containerId:\n        \"preview-container-\" +\n        Math.random()\n          .toString(36)\n          .substr(2, 9)\n    };\n  },\n  mounted() {\n    this.init();\n  },\n  computed: {\n    ...mapState({\n      siteConfig: state => state.siteConfig,\n      loadedUrl: state => state.loadedUrl,\n      resourceItems: state => state.resourceItems\n    })\n  },\n  methods: {\n    async init() {\n      const loadingComponent = this.$buefy.loading.open();\n      if (!this.loadedUrl) {\n        const repo = this.siteConfig.rdf_root_repo;\n        let manifest_url = this.siteConfig.manifest_url;\n        await this.$store.dispatch(\"fetchResourceItems\", {\n          repo,\n          manifest_url\n        });\n      }\n\n      const resourceItem = this.resourceItems.filter(item => {\n        return item.id === this.resourceId;\n      })[0];\n      if (!resourceItem) {\n        alert(\"Item not found: \" + this.resourceId);\n        return;\n      }\n\n      if (resourceItem.download_url) {\n        try {\n          const file = await this.fetchFile(resourceItem.download_url);\n          const api = window.imjoy.api;\n          const baseUrl = window.location.origin + window.location.pathname;\n          api.getPlugin(baseUrl + \"SMLMFileIO.imjoy.html\").then(() => {\n            this.previewFile(file);\n          });\n        } catch (e) {\n          alert(\"Failed to download file: \" + resourceItem.download_url);\n\n          console.error(e);\n          throw e;\n        } finally {\n          loadingComponent.close();\n        }\n      }\n      console.log(resourceItem);\n    },\n    async fetchFile(url) {\n      const response = await axios({\n        url,\n        method: \"GET\",\n        responseType: \"blob\",\n        onDownloadProgress: progressEvent => {\n          const status = `Downloading file ${progressEvent.loaded /\n            1000}kB (${progressEvent.total &&\n            Math.round((progressEvent.loaded / progressEvent.total) * 100)}%)`;\n          if (window.imjoy) window.imjoy.api.showMessage(status);\n          else {\n            console.log(status);\n          }\n        }\n      });\n      const filename = url\n        .split(\"/\")\n        .pop()\n        .split(\"#\")[0]\n        .split(\"?\")[0];\n      const blob = new Blob([response.data]);\n      const file = new File([blob], filename, {\n        type: \"application/octet-stream\",\n        lastModified: Date.now()\n      });\n      return file;\n    },\n    async previewFile(file) {\n      const api = window.imjoy.api;\n      const smlmPlugin = await api.getPlugin(\"SMLM File IO\");\n      const container = document.getElementById(this.containerId);\n      // const w = container.getBoundingClientRect().width;\n      container.style.height = \"100%\"; //w / 2 + 111 + \"px\"; // add 111px for the plane slider\n      const loadingComponent = this.$buefy.loading.open({\n        container\n      });\n      try {\n        await smlmPlugin.show(file, this.containerId);\n        this.smlmPlugin = smlmPlugin;\n        // eslint-disable-next-line no-useless-catch\n      } catch (e) {\n        throw e;\n      } finally {\n        loadingComponent.close();\n      }\n    }\n  }\n};\n</script>\n<style>\n.dataset {\n  height: 100%;\n}\n.p-1 {\n  padding: 1em;\n}\n.sidebar-page {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  min-height: 100%;\n}\n.sidebar-layout {\n  display: flex;\n  flex-direction: row;\n  min-height: 100%;\n}\n.sidebar-content {\n  height: 100% !important;\n}\n.viewer {\n  width: 100%;\n  height: 100%;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Viewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Viewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Viewer.vue?vue&type=template&id=f89efcf2&\"\nimport script from \"./Viewer.vue?vue&type=script&lang=js&\"\nexport * from \"./Viewer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Viewer.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nimport Home from \"../views/Home.vue\";\nimport ResourceItemList from \"../components/ResourceItemList.vue\";\nimport Upload from \"../components/Upload.vue\";\nimport Viewer from \"../components/Viewer.vue\";\n\nVue.use(VueRouter);\n\nconst routes = [\n  {\n    path: \"/\",\n    name: \"Home\",\n    component: Home\n  },\n  {\n    path: \"/viewer/:resourceId+\",\n    name: \"Viewer\",\n    component: Viewer,\n    props: true\n  },\n  {\n    path: \"/p/:resourceId+\",\n    name: \"Package\",\n    component: Home,\n    props: true\n  },\n  {\n    path: \"/upload\",\n    name: \"Upload\",\n    component: Upload\n  },\n  {\n    path: \"/app\",\n    name: \"App\",\n    component: ResourceItemList\n  },\n  {\n    path: \"/about\",\n    name: \"About\",\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () =>\n      import(/* webpackChunkName: \"about\" */ \"../views/About.vue\")\n  }\n];\n\nconst router = new VueRouter({\n  base: process.env.BASE_URL,\n  routes\n});\n\nexport default router;\n","import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport \"./registerServiceWorker\";\nimport router from \"./router\";\nimport Buefy from \"buefy\";\nimport \"buefy/dist/buefy.css\";\nimport { store } from \"./store\";\nimport \"./bulmaswatch.min.css\";\nimport vmodal from \"vue-js-modal\";\nimport \"@mdi/font/css/materialdesignicons.css\";\nimport { setupBioEngine } from \"./bioEngine\";\n\nimport { extend, ValidationProvider } from \"vee-validate\";\nimport * as rules from \"vee-validate/dist/rules\";\nimport { messages } from \"vee-validate/dist/locale/en.json\";\nVue.component(\"ValidationProvider\", ValidationProvider);\n\nObject.keys(rules).forEach(rule => {\n  extend(rule, {\n    ...rules[rule],\n    message: messages[rule]\n  });\n});\n\nVue.use(vmodal);\n\nVue.use(Buefy);\n\nVue.config.productionTip = false;\n\nnew Vue({\n  router,\n  render: h => h(App),\n  store,\n  created() {\n    setupBioEngine();\n  }\n}).$mount(\"#app\");\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dataset.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dataset.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tagInputField.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tagInputField.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Upload.vue?vue&type=style&index=0&id=4259689a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Upload.vue?vue&type=style&index=0&id=4259689a&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceItemInfo.vue?vue&type=style&index=0&id=0df38e11&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceItemInfo.vue?vue&type=style&index=0&id=0df38e11&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceItemCard.vue?vue&type=style&index=0&id=67ce27d6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceItemCard.vue?vue&type=style&index=0&id=67ce27d6&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppIcons.vue?vue&type=style&index=0&id=660bac59&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppIcons.vue?vue&type=style&index=0&id=660bac59&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Badges.vue?vue&type=style&index=0&id=f6922e12&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Badges.vue?vue&type=style&index=0&id=f6922e12&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceItemList.vue?vue&type=style&index=0&id=3ca77ea3&lang=css&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResourceItemList.vue?vue&type=style&index=0&id=3ca77ea3&lang=css&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"about\",style:({ 'background-image': 'url(' + _vm.siteConfig.background_image + ')' })},[_c('section',{staticClass:\"hero\"},[_c('div',{staticClass:\"hero-body\"},[_c('div',{staticClass:\"container\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\"About \"+_vm._s(_vm.siteConfig.site_name))]),_c('h2',{staticClass:\"subtitle\"},[_vm._v(\"v\"+_vm._s(_vm.version))])])])]),_c('br'),_c('section',{staticStyle:{\"text-align\":\"center\"}},[(_vm.siteConfig.contribute_url)?_c('b-button',{on:{\"click\":function($event){return _vm.$emit('contribute')}}},[_vm._v(\"Contribute Models\")]):_vm._e(),(_vm.siteConfig.join_partners_url)?_c('b-button',{on:{\"click\":function($event){return _vm.$emit('join')}}},[_vm._v(\"Join Community Partners\")]):_vm._e()],1),_c('br'),(_vm.siteConfig.footer)?_c('div',{staticClass:\"columns is-mobile is-centered\"},_vm._l((_vm.siteConfig.footer),function(item){return _c('div',{key:item.label,staticClass:\"column is-one-quarter\",staticStyle:{\"text-align\":\"center\"}},[_c('b-tooltip',{attrs:{\"label\":item.tooltip,\"position\":\"is-top\"}},[_c('a',{attrs:{\"href\":item.url,\"target\":\"_blank\"}},[_c('figure',[_c('img',{staticStyle:{\"max-height\":\"55px\"},attrs:{\"src\":item.logo}}),_c('figcaption',{staticClass:\"hide-on-small-screen\"},[_vm._v(\" \"+_vm._s(item.label)+\" \")])])])])],1)}),0):_vm._e(),(_vm.siteConfig.footnote)?_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('p',[_vm._v(_vm._s(_vm.siteConfig.footnote))])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"about\"\n    :style=\"{ 'background-image': 'url(' + siteConfig.background_image + ')' }\"\n  >\n    <section class=\"hero\">\n      <div class=\"hero-body\">\n        <div class=\"container\">\n          <h1 class=\"title\">About {{ siteConfig.site_name }}</h1>\n          <h2 class=\"subtitle\">v{{ version }}</h2>\n        </div>\n      </div>\n    </section>\n\n    <br />\n    <section style=\"text-align: center;\">\n      <b-button @click=\"$emit('contribute')\" v-if=\"siteConfig.contribute_url\"\n        >Contribute Models</b-button\n      >\n      <b-button @click=\"$emit('join')\" v-if=\"siteConfig.join_partners_url\"\n        >Join Community Partners</b-button\n      >\n    </section>\n    <br />\n    <div class=\"columns is-mobile is-centered\" v-if=\"siteConfig.footer\">\n      <div\n        v-for=\"item in siteConfig.footer\"\n        :key=\"item.label\"\n        class=\"column is-one-quarter\"\n        style=\"text-align: center\"\n      >\n        <b-tooltip :label=\"item.tooltip\" position=\"is-top\"\n          ><a :href=\"item.url\" target=\"_blank\">\n            <figure>\n              <img :src=\"item.logo\" style=\"max-height: 55px;\" />\n              <figcaption class=\"hide-on-small-screen\">\n                {{ item.label }}\n              </figcaption>\n            </figure>\n          </a>\n        </b-tooltip>\n      </div>\n    </div>\n\n    <div style=\"text-align: center\" v-if=\"siteConfig.footnote\">\n      <p>{{ siteConfig.footnote }}</p>\n    </div>\n  </div>\n</template>\n<script>\nimport siteConfig from \"../../site.config.json\";\nimport { version } from \"../../package.json\";\nexport default {\n  name: \"About\",\n  data() {\n    return {\n      version,\n      siteConfig\n    };\n  }\n};\n</script>\n<style scoped>\n.about {\n  height: calc(100% - 40px);\n  background-repeat: no-repeat;\n  background-position: bottom;\n}\n.hero {\n  max-width: 100%;\n  width: 600px;\n  text-align: center;\n  margin-left: auto;\n  margin-right: auto;\n}\n.background-img {\n  position: absolute;\n  bottom: 0px;\n  right: 0px;\n  width: 90%;\n  max-height: 50%;\n  max-width: 100%;\n  object-fit: contain;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./About.vue?vue&type=template&id=68698558&scoped=true&\"\nimport script from \"./About.vue?vue&type=script&lang=js&\"\nexport * from \"./About.vue?vue&type=script&lang=js&\"\nimport style0 from \"./About.vue?vue&type=style&index=0&id=68698558&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"68698558\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}